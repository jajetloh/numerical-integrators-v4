(self.webpackChunkpath_viewer=self.webpackChunkpath_viewer||[]).push([[179],{594:(rl,R4,Ba)=>{"use strict";function It(n){return"function"==typeof n}function Eo(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const K1=Eo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function bn(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class on{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(It(i))try{i()}catch(s){e=s instanceof K1?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{N4(s)}catch(a){e=e??[],a instanceof K1?e=[...e,...a.errors]:e.push(a)}}if(e)throw new K1(e)}}add(e){var t;if(e&&e!==this)if(this.closed)N4(e);else{if(e instanceof on){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&bn(t,e)}remove(e){const{_finalizers:t}=this;t&&bn(t,e),e instanceof on&&e._removeParent(this)}}on.EMPTY=(()=>{const n=new on;return n.closed=!0,n})();const Z1=on.EMPTY;function To(n){return n instanceof on||n&&"closed"in n&&It(n.remove)&&It(n.add)&&It(n.unsubscribe)}function N4(n){It(n)?n():n.unsubscribe()}const ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Es={setTimeout(n,e,...t){const{delegate:i}=Es;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Es;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function jr(n){Es.setTimeout(()=>{const{onUnhandledError:e}=ft;if(!e)throw n;e(n)})}function Ua(){}const Q1=e2("C",void 0,void 0);function e2(n,e,t){return{kind:n,value:e,error:t}}let xr=null;function Ga(n){if(ft.useDeprecatedSynchronousErrorHandling){const e=!xr;if(e&&(xr={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=xr;if(xr=null,t)throw i}}else n()}class t2 extends on{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,To(e)&&e.add(this)):this.destination=Fe}static create(e,t,i){return new qt(e,t,i)}next(e){this.isStopped?fe(function J1(n){return e2("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?fe(function Ao(n){return e2("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fe(Q1,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const P4=Function.prototype.bind;function Lo(n,e){return P4.call(n,e)}class Ts{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){B(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){B(i)}else B(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){B(t)}}}class qt extends t2{constructor(e,t,i){let r;if(super(),It(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&ft.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Lo(e.next,s),error:e.error&&Lo(e.error,s),complete:e.complete&&Lo(e.complete,s)}):r=e}this.destination=new Ts(r)}}function B(n){ft.useDeprecatedSynchronousErrorHandling?function Df(n){ft.useDeprecatedSynchronousErrorHandling&&xr&&(xr.errorThrown=!0,xr.error=n)}(n):jr(n)}function fe(n,e){const{onStoppedNotification:t}=ft;t&&Es.setTimeout(()=>t(n,e))}const Fe={closed:!0,next:Ua,error:function P(n){throw n},complete:Ua},$e="function"==typeof Symbol&&Symbol.observable||"@@observable";function rt(n){return n}let st=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function ht(n){return n&&n instanceof t2||function Nn(n){return n&&It(n.next)&&It(n.error)&&It(n.complete)}(n)&&To(n)}(t)?t:new qt(t,i,r);return Ga(()=>{const{operator:a,source:o}=this;s.add(a?a.call(s,o):o?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=qe(i))((r,s)=>{const a=new qt({next:o=>{try{t(o)}catch(c){s(c),a.unsubscribe()}},error:s,complete:r});this.subscribe(a)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[$e](){return this}pipe(...t){return function si(n){return 0===n.length?rt:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=qe(t))((i,r)=>{let s;this.subscribe(a=>s=a,a=>r(a),()=>i(s))})}}return n.create=e=>new n(e),n})();function qe(n){var e;return null!==(e=n??ft.Promise)&&void 0!==e?e:Promise}const $r=Eo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ye=(()=>{class n extends st{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Be(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new $r}next(t){Ga(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Ga(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Ga(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Z1:(this.currentObservers=null,s.push(t),new on(()=>{this.currentObservers=null,bn(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new st;return t.source=this,t}}return n.create=(e,t)=>new Be(e,t),n})();class Be extends Ye{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Z1}}function mn(n){return It(n?.lift)}function Kt(n){return e=>{if(mn(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Mt(n,e,t,i,r){return new vi(n,e,t,i,r)}class vi extends t2{constructor(e,t,i,r,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=t?function(o){try{t(o)}catch(c){e.error(c)}}:super._next,this._error=r?function(o){try{r(o)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function cn(n,e){return Kt((t,i)=>{let r=0;t.subscribe(Mt(i,s=>{i.next(n.call(e,s,r++))}))})}function Yi(n){return this instanceof Yi?(this.v=n,this):new Yi(n)}function zs(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Pn(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(a){return new Promise(function(o,c){!function r(s,a,o,c){Promise.resolve(c).then(function(l){s({value:l,done:o})},a)}(o,c,(a=n[s](a)).done,a.value)})}}}const Tf=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Yg(n){return It(n?.then)}function Kg(n){return It(n[$e])}function Zg(n){return Symbol.asyncIterator&&It(n?.[Symbol.asyncIterator])}function Qg(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Jg=function DO(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function e_(n){return It(n?.[Jg])}function t_(n){return function Vs(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(f){i[f]&&(r[f]=function(h){return new Promise(function(p,m){s.push([f,h,p,m])>1||o(f,h)})})}function o(f,h){try{!function c(f){f.value instanceof Yi?Promise.resolve(f.value.v).then(l,d):u(s[0][2],f)}(i[f](h))}catch(p){u(s[0][3],p)}}function l(f){o("next",f)}function d(f){o("throw",f)}function u(f,h){f(h),s.shift(),s.length&&o(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield Yi(t.read());if(r)return yield Yi(void 0);yield yield Yi(i)}}finally{t.releaseLock()}})}function n_(n){return It(n?.getReader)}function pr(n){if(n instanceof st)return n;if(null!=n){if(Kg(n))return function EO(n){return new st(e=>{const t=n[$e]();if(It(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Tf(n))return function TO(n){return new st(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Yg(n))return function AO(n){return new st(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,jr)})}(n);if(Zg(n))return i_(n);if(e_(n))return function LO(n){return new st(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(n_(n))return function VO(n){return i_(t_(n))}(n)}throw Qg(n)}function i_(n){return new st(e=>{(function zO(n,e){var t,i,r,s;return function Xr(n,e,t,i){return new(t||(t=Promise))(function(s,a){function o(d){try{l(i.next(d))}catch(u){a(u)}}function c(d){try{l(i.throw(d))}catch(u){a(u)}}function l(d){d.done?s(d.value):function r(s){return s instanceof t?s:new t(function(a){a(s)})}(d.value).then(o,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=zs(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ia(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function sl(n,e,t=1/0){return It(e)?sl((i,r)=>cn((s,a)=>e(i,s,r,a))(pr(n(i,r))),t):("number"==typeof e&&(t=e),Kt((i,r)=>function HO(n,e,t,i,r,s,a,o){const c=[];let l=0,d=0,u=!1;const f=()=>{u&&!c.length&&!l&&e.complete()},h=m=>l<i?p(m):c.push(m),p=m=>{s&&e.next(m),l++;let g=!1;pr(t(m,d++)).subscribe(Mt(e,v=>{r?.(v),s?h(v):e.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(l--;c.length&&l<i;){const v=c.shift();a?ia(e,a,()=>p(v)):p(v)}f()}catch(v){e.error(v)}}))};return n.subscribe(Mt(e,h,()=>{u=!0,f()})),()=>{o?.()}}(i,r,n,t)))}function r_(n=1/0){return sl(rt,n)}const al=new st(n=>n.complete());function s_(n){return n&&It(n.schedule)}function Af(n){return n[n.length-1]}function a_(n){return It(Af(n))?n.pop():void 0}function ol(n){return s_(Af(n))?n.pop():void 0}function o_(n,e=0){return Kt((t,i)=>{t.subscribe(Mt(i,r=>ia(i,n,()=>i.next(r),e),()=>ia(i,n,()=>i.complete(),e),r=>ia(i,n,()=>i.error(r),e)))})}function c_(n,e=0){return Kt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function l_(n,e){if(!n)throw new Error("Iterable cannot be null");return new st(t=>{ia(t,e,()=>{const i=n[Symbol.asyncIterator]();ia(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function zo(n,e){return e?function BO(n,e){if(null!=n){if(Kg(n))return function RO(n,e){return pr(n).pipe(c_(e),o_(e))}(n,e);if(Tf(n))return function PO(n,e){return new st(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Yg(n))return function NO(n,e){return pr(n).pipe(c_(e),o_(e))}(n,e);if(Zg(n))return l_(n,e);if(e_(n))return function FO(n,e){return new st(t=>{let i;return ia(t,e,()=>{i=n[Jg](),ia(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(a){return void t.error(a)}s?t.complete():t.next(r)},0,!0)}),()=>It(i?.return)&&i.return()})}(n,e);if(n_(n))return function OO(n,e){return l_(t_(n),e)}(n,e)}throw Qg(n)}(n,e):pr(n)}function Ho(...n){const e=ol(n),t=function kO(n,e){return"number"==typeof Af(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?pr(i[0]):r_(t)(zo(i,e)):al}function Lf(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new qt({next:()=>{i.unsubscribe(),n()}});return pr(e(...t)).subscribe(i)}function _n(n){for(let e in n)if(n[e]===_n)return e;throw Error("Could not find renamed property on target object.")}function Vf(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function xn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(xn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function zf(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const GO=_n({__forward_ref__:_n});function ln(n){return n.__forward_ref__=ln,n.toString=function(){return xn(this())},n}function ut(n){return Hf(n)?n():n}function Hf(n){return"function"==typeof n&&n.hasOwnProperty(GO)&&n.__forward_ref__===ln}function If(n){return n&&!!n.\u0275providers}const O4="https://g.co/ng/security#xss";class ae extends Error{constructor(e,t){super(B4(e,t)),this.code=e}}function B4(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function vt(n){return"string"==typeof n?n:null==n?"":String(n)}function U4(n,e){throw new ae(-201,!1)}function Yr(n,e){null==n&&function sn(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function Le(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function kt(n){return{providers:n.providers||[],imports:n.imports||[]}}function G4(n){return d_(n,W4)||d_(n,f_)}function d_(n,e){return n.hasOwnProperty(e)?n[e]:null}function u_(n){return n&&(n.hasOwnProperty(kf)||n.hasOwnProperty(ZO))?n[kf]:null}const W4=_n({\u0275prov:_n}),kf=_n({\u0275inj:_n}),f_=_n({ngInjectableDef:_n}),ZO=_n({ngInjectorDef:_n});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let Rf;function Kr(n){const e=Rf;return Rf=n,e}function h_(n,e,t){const i=G4(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&_t.Optional?null:void 0!==e?e:void U4(xn(n))}const Sn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),cl={},Nf="__NG_DI_FLAG__",j4="ngTempTokenPath",JO="ngTokenPath",eB=/\n/gm,tB="\u0275",p_="__source";let ll;function r2(n){const e=ll;return ll=n,e}function nB(n,e=_t.Default){if(void 0===ll)throw new ae(-203,!1);return null===ll?h_(n,void 0,e):ll.get(n,e&_t.Optional?null:void 0,e)}function Y(n,e=_t.Default){return(function QO(){return Rf}()||nB)(ut(n),e)}function Sr(n,e=_t.Default){return Y(n,$4(e))}function $4(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Pf(n){const e=[];for(let t=0;t<n.length;t++){const i=ut(n[t]);if(Array.isArray(i)){if(0===i.length)throw new ae(900,!1);let r,s=_t.Default;for(let a=0;a<i.length;a++){const o=i[a],c=iB(o);"number"==typeof c?-1===c?r=o.token:s|=c:r=o}e.push(Y(r,s))}else e.push(Y(i))}return e}function dl(n,e){return n[Nf]=e,n.prototype[Nf]=e,n}function iB(n){return n[Nf]}function ja(n){return{toString:n}.toString()}var ds=(()=>((ds=ds||{})[ds.OnPush=0]="OnPush",ds[ds.Default=1]="Default",ds))(),us=(()=>{return(n=us||(us={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",us;var n})();const ra={},Jt=[],q4=_n({\u0275cmp:_n}),Ff=_n({\u0275dir:_n}),Of=_n({\u0275pipe:_n}),g_=_n({\u0275mod:_n}),sa=_n({\u0275fac:_n}),ul=_n({__NG_ELEMENT_ID__:_n});let aB=0;function en(n){return ja(()=>{const t=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ds.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Jt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||us.Emulated,id:"c"+aB++,styles:n.styles||Jt,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=n.dependencies,a=n.features;return r.inputs=b_(n.inputs,i),r.outputs=b_(n.outputs),a&&a.forEach(o=>o(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(__).filter(v_):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Ki).filter(v_):null,r})}function __(n){return an(n)||Ri(n)}function v_(n){return null!==n}function Pt(n){return ja(()=>({type:n.type,bootstrap:n.bootstrap||Jt,declarations:n.declarations||Jt,imports:n.imports||Jt,exports:n.exports||Jt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function b_(n,e){if(null==n)return ra;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}const ce=en;function an(n){return n[q4]||null}function Ri(n){return n[Ff]||null}function Ki(n){return n[Of]||null}const aa=0,He=1,Ct=2,$n=3,fs=4,Io=5,Ni=6,s2=7,Zn=8,X4=9,Y4=10,Dt=11,Bf=12,hl=13,y_=14,a2=15,Pi=16,pl=17,o2=18,Hs=19,ml=20,x_=21,Dn=22,Uf=1,M_=2,K4=7,Z4=8,c2=9,Zi=10;function Er(n){return Array.isArray(n)&&"object"==typeof n[Uf]}function hs(n){return Array.isArray(n)&&!0===n[Uf]}function Gf(n){return 0!=(4&n.flags)}function gl(n){return n.componentOffset>-1}function Q4(n){return 1==(1&n.flags)}function ps(n){return null!==n.template}function lB(n){return 0!=(256&n[Ct])}function ko(n,e){return n.hasOwnProperty(sa)?n[sa]:null}class fB{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function zi(){return S_}function S_(n){return n.type.prototype.ngOnChanges&&(n.setInput=pB),hB}function hB(){const n=E_(this),e=n?.current;if(e){const t=n.previous;if(t===ra)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function pB(n,e,t,i){const r=this.declaredInputs[t],s=E_(n)||function mB(n,e){return n[D_]=e}(n,{previous:ra,current:null}),a=s.current||(s.current={}),o=s.previous,c=o[r];a[r]=new fB(c&&c.currentValue,e,o===ra),n[i]=e}zi.ngInherit=!0;const D_="__ngSimpleChanges__";function E_(n){return n[D_]||null}const Zr=function(n,e,t){},T_="svg";function Hi(n){for(;Array.isArray(n);)n=n[aa];return n}function J4(n,e){return Hi(e[n])}function Tr(n,e){return Hi(e[n.index])}function L_(n,e){return n.data[e]}function Ar(n,e){const t=e[n];return Er(t)?t:t[aa]}function e0(n){return 64==(64&n[Ct])}function $a(n,e){return null==e?null:n[e]}function V_(n){n[o2]=0}function jf(n,e){n[Io]+=e;let t=n,i=n[$n];for(;null!==i&&(1===e&&1===t[Io]||-1===e&&0===t[Io]);)i[Io]+=e,t=i,i=i[$n]}const bt={lFrame:B_(null),bindingsEnabled:!0};function H_(){return bt.bindingsEnabled}function se(){return bt.lFrame.lView}function Bt(){return bt.lFrame.tView}function Is(n){return bt.lFrame.contextLView=n,n[Zn]}function ks(n){return bt.lFrame.contextLView=null,n}function Ii(){let n=I_();for(;null!==n&&64===n.type;)n=n.parent;return n}function I_(){return bt.lFrame.currentTNode}function Rs(n,e){const t=bt.lFrame;t.currentTNode=n,t.isParent=e}function $f(){return bt.lFrame.isParent}function qf(){bt.lFrame.isParent=!1}function Qi(){const n=bt.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function d2(){return bt.lFrame.bindingIndex++}function ca(n){const e=bt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function TB(n,e){const t=bt.lFrame;t.bindingIndex=t.bindingRootIndex=n,Xf(e)}function Xf(n){bt.lFrame.currentDirectiveIndex=n}function P_(){return bt.lFrame.currentQueryIndex}function Kf(n){bt.lFrame.currentQueryIndex=n}function LB(n){const e=n[He];return 2===e.type?e.declTNode:1===e.type?n[Ni]:null}function F_(n,e,t){if(t&_t.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&_t.Host||(r=LB(s),null===r||(s=s[a2],10&r.type))););if(null===r)return!1;e=r,n=s}const i=bt.lFrame=O_();return i.currentTNode=e,i.lView=n,!0}function Zf(n){const e=O_(),t=n[He];bt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function O_(){const n=bt.lFrame,e=null===n?null:n.child;return null===e?B_(n):e}function B_(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function U_(){const n=bt.lFrame;return bt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const G_=U_;function Qf(){const n=U_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ji(){return bt.lFrame.selectedIndex}function Ro(n){bt.lFrame.selectedIndex=n}function Fn(){const n=bt.lFrame;return L_(n.tView,n.selectedIndex)}function Jf(){bt.lFrame.currentNamespace=T_}function t0(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:o,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=s;a&&(n.contentHooks||(n.contentHooks=[])).push(-t,a),o&&((n.contentHooks||(n.contentHooks=[])).push(t,o),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,o)),c&&(n.viewHooks||(n.viewHooks=[])).push(-t,c),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=d&&(n.destroyHooks||(n.destroyHooks=[])).push(t,d)}}function n0(n,e,t){j_(n,e,3,t)}function r0(n,e,t,i){(3&n[Ct])===t&&j_(n,e,t,i)}function eh(n,e){let t=n[Ct];(3&t)===e&&(t&=2047,t+=1,n[Ct]=t)}function j_(n,e,t,i){const s=i??-1,a=e.length-1;let o=0;for(let c=void 0!==i?65535&n[o2]:0;c<a;c++)if("number"==typeof e[c+1]){if(o=e[c],null!=i&&o>=i)break}else e[c]<0&&(n[o2]+=65536),(o<s||-1==s)&&(NB(n,t,e,c),n[o2]=(4294901760&n[o2])+c+2),c++}function NB(n,e,t,i){const r=t[i]<0,s=t[i+1],o=n[r?-t[i]:t[i]];if(r){if(n[Ct]>>11<n[o2]>>16&&(3&n[Ct])===e){n[Ct]+=2048,Zr(4,o,s);try{s.call(o)}finally{Zr(5,o,s)}}}else{Zr(4,o,s);try{s.call(o)}finally{Zr(5,o,s)}}}const u2=-1;class vl{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function nh(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],a=t[i++],o=t[i++];n.setAttribute(e,a,o,s)}else{const s=r,a=t[++i];q_(s)?n.setProperty(e,s,a):n.setAttribute(e,s,a),i++}}return i}function $_(n){return 3===n||4===n||6===n}function q_(n){return 64===n.charCodeAt(0)}function bl(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||X_(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function X_(n,e,t,i,r){let s=0,a=n.length;if(-1===e)a=-1;else for(;s<n.length;){const o=n[s++];if("number"==typeof o){if(o===e){a=-1;break}if(o>e){a=s-1;break}}}for(;s<n.length;){const o=n[s];if("number"==typeof o)break;if(o===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==a&&(n.splice(a,0,e),s=a+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function Y_(n){return n!==u2}function s0(n){return 32767&n}function a0(n,e){let t=function BB(n){return n>>16}(n),i=e;for(;t>0;)i=i[a2],t--;return i}let ih=!0;function o0(n){const e=ih;return ih=n,e}const K_=255,Z_=5;let UB=0;const Ns={};function c0(n,e){const t=Q_(n,e);if(-1!==t)return t;const i=e[He];i.firstCreatePass&&(n.injectorIndex=e.length,rh(i.data,n),rh(e,null),rh(i.blueprint,null));const r=sh(n,e),s=n.injectorIndex;if(Y_(r)){const a=s0(r),o=a0(r,e),c=o[He].data;for(let l=0;l<8;l++)e[s+l]=o[a+l]|c[a+l]}return e[s+8]=r,s}function rh(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Q_(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function sh(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=sv(r),null===i)return u2;if(t++,r=r[a2],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return u2}function ah(n,e,t){!function GB(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(ul)&&(i=t[ul]),null==i&&(i=t[ul]=UB++);const r=i&K_;e.data[n+(r>>Z_)]|=1<<r}(n,e,t)}function J_(n,e,t){if(t&_t.Optional||void 0!==n)return n;U4()}function ev(n,e,t,i){if(t&_t.Optional&&void 0===i&&(i=null),!(t&(_t.Self|_t.Host))){const r=n[X4],s=Kr(void 0);try{return r?r.get(e,i,t&_t.Optional):h_(e,i,t&_t.Optional)}finally{Kr(s)}}return J_(i,0,t)}function tv(n,e,t,i=_t.Default,r){if(null!==n){if(1024&e[Ct]){const a=function XB(n,e,t,i,r){let s=n,a=e;for(;null!==s&&null!==a&&1024&a[Ct]&&!(256&a[Ct]);){const o=nv(s,a,t,i|_t.Self,Ns);if(o!==Ns)return o;let c=s.parent;if(!c){const l=a[x_];if(l){const d=l.get(t,Ns,i);if(d!==Ns)return d}c=sv(a),a=a[a2]}s=c}return r}(n,e,t,i,Ns);if(a!==Ns)return a}const s=nv(n,e,t,i,Ns);if(s!==Ns)return s}return ev(e,t,i,r)}function nv(n,e,t,i,r){const s=function $B(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ul)?n[ul]:void 0;return"number"==typeof e?e>=0?e&K_:qB:e}(t);if("function"==typeof s){if(!F_(e,n,i))return i&_t.Host?J_(r,0,i):ev(e,t,i,r);try{const a=s(i);if(null!=a||i&_t.Optional)return a;U4()}finally{G_()}}else if("number"==typeof s){let a=null,o=Q_(n,e),c=u2,l=i&_t.Host?e[Pi][Ni]:null;for((-1===o||i&_t.SkipSelf)&&(c=-1===o?sh(n,e):e[o+8],c!==u2&&rv(i,!1)?(a=e[He],o=s0(c),e=a0(c,e)):o=-1);-1!==o;){const d=e[He];if(iv(s,o,d.data)){const u=jB(o,e,t,a,i,l);if(u!==Ns)return u}c=e[o+8],c!==u2&&rv(i,e[He].data[o+8]===l)&&iv(s,o,e)?(a=d,o=s0(c),e=a0(c,e)):o=-1}}return r}function jB(n,e,t,i,r,s){const a=e[He],o=a.data[n+8],d=l0(o,a,t,null==i?gl(o)&&ih:i!=a&&0!=(3&o.type),r&_t.Host&&s===o);return null!==d?No(e,a,d,o):Ns}function l0(n,e,t,i,r){const s=n.providerIndexes,a=e.data,o=1048575&s,c=n.directiveStart,d=s>>20,f=r?o+d:n.directiveEnd;for(let h=i?o:o+d;h<f;h++){const p=a[h];if(h<c&&t===p||h>=c&&p.type===t)return h}if(r){const h=a[c];if(h&&ps(h)&&h.type===t)return c}return null}function No(n,e,t,i){let r=n[t];const s=e.data;if(function PB(n){return n instanceof vl}(r)){const a=r;a.resolving&&function WO(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ae(-200,`Circular dependency in DI detected for ${n}${t}`)}(function rn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():vt(n)}(s[t]));const o=o0(a.canSeeViewProviders);a.resolving=!0;const c=a.injectImpl?Kr(a.injectImpl):null;F_(n,i,_t.Default);try{r=n[t]=a.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function RB(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const a=S_(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,a),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,a)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==c&&Kr(c),o0(o),a.resolving=!1,G_()}}return r}function iv(n,e,t){return!!(t[e+(n>>Z_)]&1<<n)}function rv(n,e){return!(n&_t.Self||n&_t.Host&&e)}class f2{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return tv(this._tNode,this._lView,e,$4(i),t)}}function qB(){return new f2(Ii(),se())}function Ut(n){return ja(()=>{const e=n.prototype.constructor,t=e[sa]||oh(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[sa]||oh(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function oh(n){return Hf(n)?()=>{const e=oh(ut(n));return e&&e()}:ko(n)}function sv(n){const e=n[He],t=e.type;return 2===t?e.declTNode:1===t?n[Ni]:null}const p2="__parameters__";function g2(n,e,t){return ja(()=>{const i=function ch(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const a=new r(...s);return o.annotation=a,o;function o(c,l,d){const u=c.hasOwnProperty(p2)?c[p2]:Object.defineProperty(c,p2,{value:[]})[p2];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(a),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class de{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Le({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Po(n,e){n.forEach(t=>Array.isArray(t)?Po(t,e):e(t))}function ov(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function u0(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ml(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Lr(n,e,t){let i=_2(n,e);return i>=0?n[1|i]=t:(i=~i,function QB(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function dh(n,e){const t=_2(n,e);if(t>=0)return n[1|t]}function _2(n,e){return function cv(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),a=n[s<<t];if(e===a)return s<<t;a>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const h0=dl(g2("Inject",n=>({token:n})),-1),Cl=dl(g2("Optional"),8),p0=dl(g2("SkipSelf"),4);var gr=(()=>((gr=gr||{})[gr.Important=1]="Important",gr[gr.DashCase=2]="DashCase",gr))();const mh=new Map;let yU=0;const _h="__ngContext__";function Fi(n,e){Er(e)?(n[_h]=e[ml],function MU(n){mh.set(n[ml],n)}(e)):n[_h]=e}let vh;function bh(n,e){return vh(n,e)}function El(n){const e=n[$n];return hs(e)?e[$n]:e}function yh(n){return Tv(n[hl])}function xh(n){return Tv(n[fs])}function Tv(n){for(;null!==n&&!hs(n);)n=n[fs];return n}function b2(n,e,t,i,r){if(null!=i){let s,a=!1;hs(i)?s=i:Er(i)&&(a=!0,i=i[aa]);const o=Hi(i);0===n&&null!==t?null==r?Iv(e,t,o):Fo(e,t,o,r||null,!0):1===n&&null!==t?Fo(e,t,o,r||null,!0):2===n?function Th(n,e,t){const i=_0(n,e);i&&function UU(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,o,a):3===n&&e.destroyNode(o),null!=s&&function jU(n,e,t,i,r){const s=t[K4];s!==Hi(t)&&b2(e,n,i,s,r);for(let o=Zi;o<t.length;o++){const c=t[o];Tl(c[He],c,n,e,i,s)}}(e,n,s,t,r)}}function Ch(n,e,t){return n.createElement(e,t)}function Lv(n,e){const t=n[c2],i=t.indexOf(e),r=e[$n];512&e[Ct]&&(e[Ct]&=-513,jf(r,-1)),t.splice(i,1)}function wh(n,e){if(n.length<=Zi)return;const t=Zi+e,i=n[t];if(i){const r=i[pl];null!==r&&r!==n&&Lv(r,i),e>0&&(n[t-1][fs]=i[fs]);const s=u0(n,Zi+e);!function IU(n,e){Tl(n,e,e[Dt],2,null,null),e[aa]=null,e[Ni]=null}(i[He],i);const a=s[Hs];null!==a&&a.detachView(s[He]),i[$n]=null,i[fs]=null,i[Ct]&=-65}return i}function Vv(n,e){if(!(128&e[Ct])){const t=e[Dt];t.destroyNode&&Tl(n,e,t,3,null,null),function NU(n){let e=n[hl];if(!e)return Sh(n[He],n);for(;e;){let t=null;if(Er(e))t=e[hl];else{const i=e[Zi];i&&(t=i)}if(!t){for(;e&&!e[fs]&&e!==n;)Er(e)&&Sh(e[He],e),e=e[$n];null===e&&(e=n),Er(e)&&Sh(e[He],e),t=e&&e[fs]}e=t}}(e)}}function Sh(n,e){if(!(128&e[Ct])){e[Ct]&=-65,e[Ct]|=128,function BU(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof vl)){const s=t[i+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const o=r[s[a]],c=s[a+1];Zr(4,o,c);try{c.call(o)}finally{Zr(5,o,c)}}else{Zr(4,r,s);try{s.call(r)}finally{Zr(5,r,s)}}}}}(n,e),function OU(n,e){const t=n.cleanup,i=e[s2];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const a=t[s+3];a>=0?i[r=a]():i[r=-a].unsubscribe(),s+=2}else{const a=i[r=t[s+1]];t[s].call(a)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();e[s2]=null}}(n,e),1===e[He].type&&e[Dt].destroy();const t=e[pl];if(null!==t&&hs(e[$n])){t!==e[$n]&&Lv(t,e);const i=e[Hs];null!==i&&i.detachView(n)}!function CU(n){mh.delete(n[ml])}(e)}}function zv(n,e,t){return function Hv(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[aa];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===us.None||s===us.Emulated)return null}return Tr(i,t)}}(n,e.parent,t)}function Fo(n,e,t,i,r){n.insertBefore(e,t,i,r)}function Iv(n,e,t){n.appendChild(e,t)}function kv(n,e,t,i,r){null!==i?Fo(n,e,t,i,r):Iv(n,e,t)}function _0(n,e){return n.parentNode(e)}function Rv(n,e,t){return Pv(n,e,t)}let Dh,y0,Vh,x0,Pv=function Nv(n,e,t){return 40&n.type?Tr(n,t):null};function v0(n,e,t,i){const r=zv(n,i,e),s=e[Dt],o=Rv(i.parent||e[Ni],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)kv(s,r,t[c],o,!1);else kv(s,r,t,o,!1);void 0!==Dh&&Dh(s,i,e,t,r)}function b0(n,e){if(null!==e){const t=e.type;if(3&t)return Tr(e,n);if(4&t)return Eh(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return b0(n,i);{const r=n[e.index];return hs(r)?Eh(-1,r):Hi(r)}}if(32&t)return bh(e,n)()||Hi(n[e.index]);{const i=Ov(n,e);return null!==i?Array.isArray(i)?i[0]:b0(El(n[Pi]),i):b0(n,e.next)}}return null}function Ov(n,e){return null!==e?n[Pi][Ni].projection[e.projection]:null}function Eh(n,e){const t=Zi+n+1;if(t<e.length){const i=e[t],r=i[He].firstChild;if(null!==r)return b0(i,r)}return e[K4]}function Ah(n,e,t,i,r,s,a){for(;null!=t;){const o=i[t.index],c=t.type;if(a&&0===e&&(o&&Fi(Hi(o),i),t.flags|=2),32!=(32&t.flags))if(8&c)Ah(n,e,t.child,i,r,s,!1),b2(e,n,r,o,s);else if(32&c){const l=bh(t,i);let d;for(;d=l();)b2(e,n,r,d,s);b2(e,n,r,o,s)}else 16&c?Bv(n,e,i,t,r,s):b2(e,n,r,o,s);t=a?t.projectionNext:t.next}}function Tl(n,e,t,i,r,s){Ah(t,i,n.firstChild,e,r,s,!1)}function Bv(n,e,t,i,r,s){const a=t[Pi],c=a[Ni].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)b2(e,n,r,c[l],s);else Ah(n,e,c,a[$n],r,s,!0)}function Uv(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Gv(n,e,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&nh(n,e,i),null!==r&&Uv(n,e,r),null!==s&&function qU(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function y2(n){return function Lh(){if(void 0===y0&&(y0=null,Sn.trustedTypes))try{y0=Sn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return y0}()?.createHTML(n)||n}function jv(n){return function zh(){if(void 0===x0&&(x0=null,Sn.trustedTypes))try{x0=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return x0}()?.createHTML(n)||n}class Oo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${O4})`}}class QU extends Oo{getTypeName(){return"HTML"}}class JU extends Oo{getTypeName(){return"Style"}}class eG extends Oo{getTypeName(){return"Script"}}class tG extends Oo{getTypeName(){return"URL"}}class nG extends Oo{getTypeName(){return"ResourceURL"}}function Vr(n){return n instanceof Oo?n.changingThisBreaksApplicationSecurity:n}function Ps(n,e){const t=function iG(n){return n instanceof Oo&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${O4})`)}return t===e}class lG{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(y2(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class dG{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=y2(e),t}}const fG=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function M0(n){return(n=String(n)).match(fG)?n:"unsafe:"+n}function la(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Al(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const Yv=la("area,br,col,hr,img,wbr"),Kv=la("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zv=la("rp,rt"),Hh=Al(Yv,Al(Kv,la("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Al(Zv,la("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Al(Zv,Kv)),Ih=la("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qv=Al(Ih,la("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),la("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hG=la("script,style,template");class pG{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Hh.hasOwnProperty(t))return this.sanitizedSomething=!0,!hG.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),a=s.name,o=a.toLowerCase();if(!Qv.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let c=s.value;Ih[o]&&(c=M0(c)),this.buf.push(" ",a,'="',Jv(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Hh.hasOwnProperty(t)&&!Yv.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Jv(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const mG=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gG=/([^\#-~ |!])/g;function Jv(n){return n.replace(/&/g,"&amp;").replace(mG,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(gG,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let C0;function eb(n,e){let t=null;try{C0=C0||function Xv(n){const e=new dG(n);return function uG(){try{return!!(new window.DOMParser).parseFromString(y2(""),"text/html")}catch{return!1}}()?new lG(e):e}(n);let i=e?String(e):"";t=C0.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=C0.getInertBodyElement(i)}while(i!==s);return y2((new pG).sanitizeChildren(kh(t)||t))}finally{if(t){const i=kh(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function kh(n){return"content"in n&&function _G(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Mn=(()=>((Mn=Mn||{})[Mn.NONE=0]="NONE",Mn[Mn.HTML=1]="HTML",Mn[Mn.STYLE=2]="STYLE",Mn[Mn.SCRIPT=3]="SCRIPT",Mn[Mn.URL=4]="URL",Mn[Mn.RESOURCE_URL=5]="RESOURCE_URL",Mn))();function tb(n){const e=Vl();return e?jv(e.sanitize(Mn.HTML,n)||""):Ps(n,"HTML")?jv(Vr(n)):eb(function Wv(){return void 0!==Vh?Vh:typeof document<"u"?document:void 0}(),vt(n))}function Ll(n){const e=Vl();return e?e.sanitize(Mn.URL,n)||"":Ps(n,"URL")?Vr(n):M0(vt(n))}function Vl(){const n=se();return n&&n[Bf]}const ib=new de("ENVIRONMENT_INITIALIZER"),rb=new de("INJECTOR",-1),sb=new de("INJECTOR_DEF_TYPES");class ab{get(e,t=cl){if(t===cl){const i=new Error(`NullInjectorError: No provider for ${xn(e)}!`);throw i.name="NullInjectorError",i}return t}}function SG(...n){return{\u0275providers:ob(0,n),\u0275fromNgModule:!0}}function ob(n,...e){const t=[],i=new Set;let r;return Po(e,s=>{const a=s;Rh(a,t,[],i)&&(r||(r=[]),r.push(a))}),void 0!==r&&cb(r,t),t}function cb(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];Nh(r,s=>{e.push(s)})}}function Rh(n,e,t,i){if(!(n=ut(n)))return!1;let r=null,s=u_(n);const a=!s&&an(n);if(s||a){if(a&&!a.standalone)return!1;r=n}else{const c=n.ngModule;if(s=u_(c),!s)return!1;r=c}const o=i.has(r);if(a){if(o)return!1;if(i.add(r),a.dependencies){const c="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const l of c)Rh(l,e,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!o){let l;i.add(r);try{Po(s.imports,d=>{Rh(d,e,t,i)&&(l||(l=[]),l.push(d))})}finally{}void 0!==l&&cb(l,e)}if(!o){const l=ko(r)||(()=>new r);e.push({provide:r,useFactory:l,deps:Jt},{provide:sb,useValue:r,multi:!0},{provide:ib,useValue:()=>Y(r),multi:!0})}const c=s.providers;null==c||o||Nh(c,d=>{e.push(d)})}}return r!==n&&void 0!==n.providers}function Nh(n,e){for(let t of n)If(t)&&(t=t.\u0275providers),Array.isArray(t)?Nh(t,e):e(t)}const DG=_n({provide:String,useValue:_n});function Ph(n){return null!==n&&"object"==typeof n&&DG in n}function Bo(n){return"function"==typeof n}const Fh=new de("Set Injector scope."),w0={},TG={};let Oh;function S0(){return void 0===Oh&&(Oh=new ab),Oh}class Uo{}class ub extends Uo{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uh(e,a=>this.processProvider(a)),this.records.set(rb,x2(void 0,this)),r.has("environment")&&this.records.set(Uo,x2(void 0,this));const s=this.records.get(Fh);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(sb.multi,Jt,_t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=r2(this),i=Kr(void 0);try{return e()}finally{r2(t),Kr(i)}}get(e,t=cl,i=_t.Default){this.assertNotDestroyed(),i=$4(i);const r=r2(this),s=Kr(void 0);try{if(!(i&_t.SkipSelf)){let o=this.records.get(e);if(void 0===o){const c=function HG(n){return"function"==typeof n||"object"==typeof n&&n instanceof de}(e)&&G4(e);o=c&&this.injectableDefInScope(c)?x2(Bh(e),w0):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(i&_t.Self?S0():this.parent).get(e,t=i&_t.Optional&&t===cl?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[j4]=a[j4]||[]).unshift(xn(e)),r)throw a;return function rB(n,e,t,i){const r=n[j4];throw e[p_]&&r.unshift(e[p_]),n.message=function sB(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==tB?n.slice(2):n;let r=xn(e);if(Array.isArray(e))r=e.map(xn).join(" -> ");else if("object"==typeof e){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let o=e[a];s.push(a+":"+("string"==typeof o?JSON.stringify(o):xn(o)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(eB,"\n  ")}`}("\n"+n.message,r,t,i),n[JO]=r,n[j4]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Kr(s),r2(r)}}resolveInjectorInitializers(){const e=r2(this),t=Kr(void 0);try{const i=this.get(ib.multi,Jt,_t.Self);for(const r of i)r()}finally{r2(e),Kr(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(xn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(e){let t=Bo(e=ut(e))?e:ut(e&&e.provide);const i=function LG(n){return Ph(n)?x2(void 0,n.useValue):x2(fb(n),w0)}(e);if(Bo(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=x2(void 0,w0,!0),r.factory=()=>Pf(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===w0&&(t.value=TG,t.value=t.factory()),"object"==typeof t.value&&t.value&&function zG(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ut(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Bh(n){const e=G4(n),t=null!==e?e.factory:ko(n);if(null!==t)return t;if(n instanceof de)throw new ae(204,!1);if(n instanceof Function)return function AG(n){const e=n.length;if(e>0)throw Ml(e,"?"),new ae(204,!1);const t=function YO(n){const e=n&&(n[W4]||n[f_]);return e?(function KO(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),e):null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new ae(204,!1)}function fb(n,e,t){let i;if(Bo(n)){const r=ut(n);return ko(r)||Bh(r)}if(Ph(n))i=()=>ut(n.useValue);else if(function db(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Pf(n.deps||[]));else if(function lb(n){return!(!n||!n.useExisting)}(n))i=()=>Y(ut(n.useExisting));else{const r=ut(n&&(n.useClass||n.provide));if(!function VG(n){return!!n.deps}(n))return ko(r)||Bh(r);i=()=>new r(...Pf(n.deps))}return i}function x2(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Uh(n,e){for(const t of n)Array.isArray(t)?Uh(t,e):t&&If(t)?Uh(t.\u0275providers,e):e(t)}class IG{}class hb{}class RG{resolveComponentFactory(e){throw function kG(n){const e=Error(`No component factory found for ${xn(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Go=(()=>{class n{}return n.NULL=new RG,n})();function NG(){return M2(Ii(),se())}function M2(n,e){return new ot(Tr(n,e))}let ot=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=NG,n})();function PG(n){return n instanceof ot?n.nativeElement:n}class zl{}let qa=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function FG(){const n=se(),t=Ar(Ii().index,n);return(Er(t)?t:n)[Dt]}(),n})(),OG=(()=>{class n{}return n.\u0275prov=Le({token:n,providedIn:"root",factory:()=>null}),n})();class C2{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const BG=new C2("15.2.1"),Gh={},Wh="ngOriginalError";function jh(n){return n[Wh]}class w2{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&jh(e);for(;t&&jh(t);)t=jh(t);return t||null}}function gb(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}const _b="ng-template";function QG(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==gb(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function vb(n){return 4===n.type&&n.value!==_b}function JG(n,e,t){return e===(4!==n.type||t?n.value:_b)}function eW(n,e,t){let i=4;const r=n.attrs||[],s=function iW(n){for(let e=0;e<n.length;e++)if($_(n[e]))return e;return n.length}(r);let a=!1;for(let o=0;o<e.length;o++){const c=e[o];if("number"!=typeof c){if(!a)if(4&i){if(i=2|1&i,""!==c&&!JG(n,c,t)||""===c&&1===e.length){if(ms(i))return!1;a=!0}}else{const l=8&i?c:e[++o];if(8&i&&null!==n.attrs){if(!QG(n.attrs,l,t)){if(ms(i))return!1;a=!0}continue}const u=tW(8&i?"class":c,r,vb(n),t);if(-1===u){if(ms(i))return!1;a=!0;continue}if(""!==l){let f;f=u>s?"":r[u+1].toLowerCase();const h=8&i?f:null;if(h&&-1!==gb(h,l,0)||2&i&&l!==f){if(ms(i))return!1;a=!0}}}}else{if(!a&&!ms(i)&&!ms(c))return!1;if(a&&ms(c))continue;a=!1,i=c|1&i}}return ms(i)||a}function ms(n){return 0==(1&n)}function tW(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const a=e[r];if(a===n)return r;if(3===a||6===a)s=!0;else{if(1===a||2===a){let o=e[++r];for(;"string"==typeof o;)o=e[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=s?1:2}return-1}return function rW(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function bb(n,e,t=!1){for(let i=0;i<e.length;i++)if(eW(n,e[i],t))return!0;return!1}function sW(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function yb(n,e){return n?":not("+e.trim()+")":e}function aW(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let a=n[t];if("string"==typeof a)if(2&i){const o=n[++t];r+="["+a+(o.length>0?'="'+o+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!ms(a)&&(e+=yb(s,r),r=""),i=a,s=s||!ms(i);t++}return""!==r&&(e+=yb(s,r)),e}const yt={};function Ae(n){xb(Bt(),se(),Ji()+n,!1)}function xb(n,e,t,i){if(!i)if(3==(3&e[Ct])){const s=n.preOrderCheckHooks;null!==s&&n0(e,s,t)}else{const s=n.preOrderHooks;null!==s&&r0(e,s,0,t)}Ro(t)}function Sb(n,e=null,t=null,i){const r=Db(n,e,t,i);return r.resolveInjectorInitializers(),r}function Db(n,e=null,t=null,i,r=new Set){const s=[t||Jt,SG(n)];return i=i||("object"==typeof n?void 0:xn(n)),new ub(s,e||S0(),i||null,r)}let er=(()=>{class n{static create(t,i){if(Array.isArray(t))return Sb({name:""},i,t,"");{const r=t.name??"";return Sb({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=cl,n.NULL=new ab,n.\u0275prov=Le({token:n,providedIn:"any",factory:()=>Y(rb)}),n.__NG_ELEMENT_ID__=-1,n})();function D(n,e=_t.Default){const t=se();return null===t?Y(n,e):tv(Ii(),t,ut(n),e)}function Kh(){throw new Error("invalid")}function Hb(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const a=n.data[s];Kf(t[i]),a.contentQueries(2,e[s],s)}}}function E0(n,e,t,i,r,s,a,o,c,l,d){const u=e.blueprint.slice();return u[aa]=r,u[Ct]=76|i,(null!==d||n&&1024&n[Ct])&&(u[Ct]|=1024),V_(u),u[$n]=u[a2]=n,u[Zn]=t,u[Y4]=a||n&&n[Y4],u[Dt]=o||n&&n[Dt],u[Bf]=c||n&&n[Bf]||null,u[X4]=l||n&&n[X4]||null,u[Ni]=s,u[ml]=function xU(){return yU++}(),u[x_]=d,u[Pi]=2==e.type?n[Pi]:u,u}function E2(n,e,t,i,r){let s=n.data[e];if(null===s)s=function Zh(n,e,t,i,r){const s=I_(),a=$f(),c=n.data[e]=function zW(n,e,t,i,r,s){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==s&&(a?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(n,e,t,i,r),function EB(){return bt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const a=function _l(){const n=bt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return Rs(s,!0),s}function Hl(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Qh(n,e,t){Zf(e);try{const i=n.viewQuery;null!==i&&l8(1,i,t);const r=n.template;null!==r&&Ib(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Hb(n,e),n.staticViewQueries&&l8(2,n.viewQuery,t);const s=n.components;null!==s&&function AW(n,e){for(let t=0;t<e.length;t++)ZW(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Ct]&=-5,Qf()}}function T0(n,e,t,i){const r=e[Ct];if(128!=(128&r)){Zf(e);try{V_(e),function R_(n){return bt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Ib(n,e,t,2,i);const a=3==(3&r);if(a){const l=n.preOrderCheckHooks;null!==l&&n0(e,l,null)}else{const l=n.preOrderHooks;null!==l&&r0(e,l,0,null),eh(e,0)}if(function YW(n){for(let e=yh(n);null!==e;e=xh(e)){if(!e[M_])continue;const t=e[c2];for(let i=0;i<t.length;i++){const r=t[i];512&r[Ct]||jf(r[$n],1),r[Ct]|=512}}}(e),function XW(n){for(let e=yh(n);null!==e;e=xh(e))for(let t=Zi;t<e.length;t++){const i=e[t],r=i[He];e0(i)&&T0(r,i,r.template,i[Zn])}}(e),null!==n.contentQueries&&Hb(n,e),a){const l=n.contentCheckHooks;null!==l&&n0(e,l)}else{const l=n.contentHooks;null!==l&&r0(e,l,1),eh(e,1)}!function EW(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Ro(~r);else{const s=r,a=t[++i],o=t[++i];TB(a,s),o(2,e[s])}}}finally{Ro(-1)}}(n,e);const o=n.components;null!==o&&function TW(n,e){for(let t=0;t<e.length;t++)KW(n,e[t])}(e,o);const c=n.viewQuery;if(null!==c&&l8(2,c,i),a){const l=n.viewCheckHooks;null!==l&&n0(e,l)}else{const l=n.viewHooks;null!==l&&r0(e,l,2),eh(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Ct]&=-41,512&e[Ct]&&(e[Ct]&=-513,jf(e[$n],-1))}finally{Qf()}}}function Ib(n,e,t,i,r){const s=Ji(),a=2&i;try{Ro(-1),a&&e.length>Dn&&xb(n,e,Dn,!1),Zr(a?2:0,r),t(i,r)}finally{Ro(s),Zr(a?3:1,r)}}function Jh(n,e,t){if(Gf(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}}function e8(n,e,t){H_()&&(function PW(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;gl(t)&&function jW(n,e,t){const i=Tr(e,n),r=kb(t),s=n[Y4],a=A0(n,E0(n,r,null,t.onPush?32:16,i,e,s,s.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||c0(t,e),Fi(i,e);const a=t.initialInputs;for(let o=r;o<s;o++){const c=n.data[o],l=No(e,n,o,t);Fi(l,e),null!==a&&$W(0,o-r,l,c,0,a),ps(c)&&(Ar(t.index,e)[Zn]=No(e,n,o,t))}}(n,e,t,Tr(t,e)),64==(64&t.flags)&&Bb(n,e,t))}function t8(n,e,t=Tr){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const a=i[s+1],o=-1===a?t(e,n):n[a];n[r++]=o}}}function kb(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=n8(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function n8(n,e,t,i,r,s,a,o,c,l){const d=Dn+i,u=d+r,f=function LW(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:yt);return t}(d,u),h="function"==typeof l?l():l;return f[He]={type:n,blueprint:f,template:t,queries:null,viewQuery:o,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:h,incompleteFirstPass:!1}}function Rb(n,e,t,i){const r=Gb(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&Wb(n).push(i,r.length-1))}function Nb(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const s=n[r];null===i?Pb(t,e,r,s):i.hasOwnProperty(r)&&Pb(t,e,i[r],s)}return t}function Pb(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function zr(n,e,t,i,r,s,a,o){const c=Tr(e,t);let d,l=e.inputs;!o&&null!=l&&(d=l[i])?(d8(n,t,d,i,r),gl(e)&&Fb(t,e.index)):3&e.type&&(i=function IW(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=a?a(r,e.value||"",i):r,s.setProperty(c,i,r))}function Fb(n,e){const t=Ar(e,n);16&t[Ct]||(t[Ct]|=32)}function r8(n,e,t,i){if(H_()){const r=null===i?null:{"":-1},s=function OW(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const a=t[s];if(bb(e,a.selectors,!1))if(i||(i=[]),ps(a))if(null!==a.findHostDirectiveDefs){const o=[];r=r||new Map,a.findHostDirectiveDefs(a,o,r),i.unshift(...o,a),s8(n,e,o.length)}else i.unshift(a),s8(n,e,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return null===i?null:[i,r]}(n,t);let a,o;null===s?a=o=null:[a,o]=s,null!==a&&Ob(n,e,t,a,r,o),r&&function BW(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new ae(-301,!1);i.push(e[r],s)}}}(t,i,r)}t.mergedAttrs=bl(t.mergedAttrs,t.attrs)}function Ob(n,e,t,i,r,s){for(let l=0;l<i.length;l++)ah(c0(t,e),n,i[l].type);!function GW(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const d=i[l];d.providersResolver&&d.providersResolver(d)}let a=!1,o=!1,c=Hl(n,e,i.length,null);for(let l=0;l<i.length;l++){const d=i[l];t.mergedAttrs=bl(t.mergedAttrs,d.hostAttrs),WW(n,t,e,c,d),UW(c,d,r),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const u=d.type.prototype;!a&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!o&&(u.ngOnChanges||u.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),o=!0),c++}!function HW(n,e,t){const r=e.directiveEnd,s=n.data,a=e.attrs,o=[];let c=null,l=null;for(let d=e.directiveStart;d<r;d++){const u=s[d],f=t?t.get(u):null,p=f?f.outputs:null;c=Nb(u.inputs,d,c,f?f.inputs:null),l=Nb(u.outputs,d,l,p);const m=null===c||null===a||vb(e)?null:qW(c,d,a);o.push(m)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=o,e.inputs=c,e.outputs=l}(n,t,s)}function Bb(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,a=function AB(){return bt.lFrame.currentDirectiveIndex}();try{Ro(s);for(let o=i;o<r;o++){const c=n.data[o],l=e[o];Xf(o),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&FW(c,l)}}finally{Ro(-1),Xf(a)}}function FW(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function s8(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function UW(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;ps(e)&&(t[""]=n)}}function WW(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=ko(r.type)),a=new vl(s,ps(r),D);n.blueprint[i]=a,t[i]=a,function RW(n,e,t,i,r){const s=r.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const o=~e.index;(function NW(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=o&&a.push(o),a.push(t,i,s)}}(n,e,i,Hl(n,t,r.hostVars,yt),r)}function Fs(n,e,t,i,r,s){const a=Tr(n,e);!function a8(n,e,t,i,r,s,a){if(null==s)n.removeAttribute(e,r,t);else{const o=null==a?vt(s):a(s,i||"",r);n.setAttribute(e,r,o,t)}}(e[Dt],a,s,n.value,t,i,r)}function $W(n,e,t,i,r,s){const a=s[e];if(null!==a){const o=i.setInput;for(let c=0;c<a.length;){const l=a[c++],d=a[c++],u=a[c++];null!==o?i.setInput(t,u,l,d):t[d]=u}}}function qW(n,e,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const a=n[s];for(let o=0;o<a.length;o+=2)if(a[o]===e){i.push(s,a[o+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function Ub(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null]}function KW(n,e){const t=Ar(e,n);if(e0(t)){const i=t[He];48&t[Ct]?T0(i,t,i.template,t[Zn]):t[Io]>0&&o8(t)}}function o8(n){for(let i=yh(n);null!==i;i=xh(i))for(let r=Zi;r<i.length;r++){const s=i[r];if(e0(s))if(512&s[Ct]){const a=s[He];T0(a,s,a.template,s[Zn])}else s[Io]>0&&o8(s)}const t=n[He].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Ar(t[i],n);e0(r)&&r[Io]>0&&o8(r)}}function ZW(n,e){const t=Ar(e,n),i=t[He];(function QW(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),Qh(i,t,t[Zn])}function A0(n,e){return n[hl]?n[y_][fs]=e:n[hl]=e,n[y_]=e,e}function c8(n){for(;n;){n[Ct]|=32;const e=El(n);if(lB(n)&&!e)return n;n=e}return null}function L0(n,e,t,i=!0){const r=e[Y4];r.begin&&r.begin();try{T0(n,e,n.template,t)}catch(a){throw i&&$b(e,a),a}finally{r.end&&r.end()}}function l8(n,e,t){Kf(0),e(n,t)}function Gb(n){return n[s2]||(n[s2]=[])}function Wb(n){return n.cleanup||(n.cleanup=[])}function $b(n,e){const t=n[X4],i=t?t.get(w2,null):null;i&&i.handleError(e)}function d8(n,e,t,i,r){for(let s=0;s<t.length;){const a=t[s++],o=t[s++],c=e[a],l=n.data[a];null!==l.setInput?l.setInput(c,r,i,o):c[o]=r}}function V0(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let a=0;a<e.length;a++){const o=e[a];"number"==typeof o?s=o:1==s?r=zf(r,o):2==s&&(i=zf(i,o+": "+e[++a]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function z0(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(Hi(s)),hs(s))for(let o=Zi;o<s.length;o++){const c=s[o],l=c[He].firstChild;null!==l&&z0(c[He],c,l,i)}const a=t.type;if(8&a)z0(n,e,t.child,i);else if(32&a){const o=bh(t,e);let c;for(;c=o();)i.push(c)}else if(16&a){const o=Ov(e,t);if(Array.isArray(o))i.push(...o);else{const c=El(e[Pi]);z0(c[He],c,o,i,!0)}}t=r?t.projectionNext:t.next}return i}class Il{get rootNodes(){const e=this._lView,t=e[He];return z0(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zn]}set context(e){this._lView[Zn]=e}get destroyed(){return 128==(128&this._lView[Ct])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[$n];if(hs(e)){const t=e[Z4],i=t?t.indexOf(this):-1;i>-1&&(wh(e,i),u0(t,i))}this._attachedToViewContainer=!1}Vv(this._lView[He],this._lView)}onDestroy(e){Rb(this._lView[He],this._lView,null,e)}markForCheck(){c8(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ct]&=-65}reattach(){this._lView[Ct]|=64}detectChanges(){L0(this._lView[He],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function RU(n,e){Tl(n,e,e[Dt],2,null,null)}(this._lView[He],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=e}}class JW extends Il{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;L0(e[He],e,e[Zn],!1)}checkNoChanges(){}get context(){return null}}class qb extends Go{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=an(e);return new kl(t,this.ngModule)}}function Xb(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class tj{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=$4(i);const r=this.injector.get(e,Gh,i);return r!==Gh||t===Gh?r:this.parentInjector.get(e,t,i)}}class kl extends hb{get inputs(){return Xb(this.componentDef.inputs)}get outputs(){return Xb(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function oW(n){return n.map(aW).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=(r=r||this.ngModule)instanceof Uo?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new tj(e,s):e,o=a.get(zl,null);if(null===o)throw new ae(407,!1);const c=a.get(OG,null),l=o.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",u=i?function VW(n,e,t){return n.selectRootElement(e,t===us.ShadowDom)}(l,i,this.componentDef.encapsulation):Ch(l,d,function ej(n){const e=n.toLowerCase();return"svg"===e?T_:"math"===e?"math":null}(d)),f=this.componentDef.onPush?288:272,h=n8(0,null,null,1,0,null,null,null,null,null),p=E0(null,h,null,f,null,null,o,l,c,a,null);let m,g;Zf(p);try{const v=this.componentDef;let b,_=null;v.findHostDirectiveDefs?(b=[],_=new Map,v.findHostDirectiveDefs(v,b,_),b.push(v)):b=[v];const y=function ij(n,e){const t=n[He],i=Dn;return n[i]=e,E2(t,i,2,"#host",null)}(p,u),M=function rj(n,e,t,i,r,s,a,o){const c=r[He];!function sj(n,e,t,i){for(const r of n)e.mergedAttrs=bl(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(V0(e,e.mergedAttrs,!0),null!==t&&Gv(i,t,e))}(i,n,e,a);const l=s.createRenderer(e,t),d=E0(r,kb(t),null,t.onPush?32:16,r[n.index],n,s,l,o||null,null,null);return c.firstCreatePass&&s8(c,n,i.length-1),A0(r,d),r[n.index]=d}(y,u,v,b,p,o,l);g=L_(h,Dn),u&&function oj(n,e,t,i){if(i)nh(n,t,["ng-version",BG.full]);else{const{attrs:r,classes:s}=function cW(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!ms(r))break;r=s}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&nh(n,t,r),s&&s.length>0&&Uv(n,t,s.join(" "))}}(l,v,u,i),void 0!==t&&function cj(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(g,this.ngContentSelectors,t),m=function aj(n,e,t,i,r,s){const a=Ii(),o=r[He],c=Tr(a,r);Ob(o,r,a,t,null,i);for(let d=0;d<t.length;d++)Fi(No(r,o,a.directiveStart+d,a),r);Bb(o,r,a),c&&Fi(c,r);const l=No(r,o,a.directiveStart+a.componentOffset,a);if(n[Zn]=r[Zn]=l,null!==s)for(const d of s)d(l,e);return Jh(o,a,n),l}(M,v,b,_,p,[lj]),Qh(h,p,null)}finally{Qf()}return new nj(this.componentType,m,M2(g,p),p,g)}}class nj extends IG{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new JW(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){const s=this._rootLView;d8(s[He],s,r,e,t),Fb(s,this._tNode.index)}}get injector(){return new f2(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function lj(){const n=Ii();t0(se()[He],n)}function xe(n){let e=function Yb(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(ps(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ae(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const a=n;a.inputs=u8(n.inputs),a.declaredInputs=u8(n.declaredInputs),a.outputs=u8(n.outputs);const o=r.hostBindings;o&&hj(n,o);const c=r.viewQuery,l=r.contentQueries;if(c&&uj(n,c),l&&fj(n,l),Vf(n.inputs,r.inputs),Vf(n.declaredInputs,r.declaredInputs),Vf(n.outputs,r.outputs),ps(r)&&r.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let a=0;a<s.length;a++){const o=s[a];o&&o.ngInherit&&o(n),o===xe&&(t=!1)}}e=Object.getPrototypeOf(e)}!function dj(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=bl(r.hostAttrs,t=bl(t,r.hostAttrs))}}(i)}function u8(n){return n===ra?{}:n===Jt?[]:n}function uj(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function fj(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function hj(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function H0(n){return!!f8(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function f8(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Os(n,e,t){return n[e]=t}function Oi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function En(n,e,t,i){const r=se();return Oi(r,d2(),e)&&(Bt(),Fs(Fn(),r,n,e,t,i)),En}function Ue(n,e,t,i,r,s,a,o){const c=se(),l=Bt(),d=n+Dn,u=l.firstCreatePass?function Cj(n,e,t,i,r,s,a,o,c){const l=e.consts,d=E2(e,n,4,a||null,$a(l,o));r8(e,t,d,$a(l,c)),t0(e,d);const u=d.tViews=n8(2,d,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,d),u.queries=e.queries.embeddedTView(d)),d}(d,l,c,e,t,i,r,s,a):l.data[d];Rs(u,!1);const f=c[Dt].createComment("");v0(l,c,f,u),Fi(f,c),A0(c,c[d]=Ub(f,c,f,u)),Q4(u)&&e8(l,c,u),null!=a&&t8(c,u,o)}function Xa(n){return function l2(n,e){return n[e]}(function DB(){return bt.lFrame.contextLView}(),Dn+n)}function Ve(n,e,t){const i=se();return Oi(i,d2(),e)&&zr(Bt(),Fn(),i,n,e,i[Dt],t,!1),Ve}function h8(n,e,t,i,r){const a=r?"class":"style";d8(n,t,e.inputs[a],a,i)}function ve(n,e,t,i){const r=se(),s=Bt(),a=Dn+n,o=r[Dt],c=s.firstCreatePass?function Sj(n,e,t,i,r,s){const a=e.consts,c=E2(e,n,2,i,$a(a,r));return r8(e,t,c,$a(a,s)),null!==c.attrs&&V0(c,c.attrs,!1),null!==c.mergedAttrs&&V0(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(a,s,r,e,t,i):s.data[a],l=r[a]=Ch(o,e,function kB(){return bt.lFrame.currentNamespace}()),d=Q4(c);return Rs(c,!0),Gv(o,l,c),32!=(32&c.flags)&&v0(s,r,l,c),0===function xB(){return bt.lFrame.elementDepthCount}()&&Fi(l,r),function MB(){bt.lFrame.elementDepthCount++}(),d&&(e8(s,r,c),Jh(s,c,r)),null!==i&&t8(r,c),ve}function Se(){let n=Ii();$f()?qf():(n=n.parent,Rs(n,!1));const e=n;!function CB(){bt.lFrame.elementDepthCount--}();const t=Bt();return t.firstCreatePass&&(t0(t,n),Gf(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function FB(n){return 0!=(8&n.flags)}(e)&&h8(t,e,se(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function OB(n){return 0!=(16&n.flags)}(e)&&h8(t,e,se(),e.stylesWithoutHost,!1),Se}function Tt(n,e,t,i){return ve(n,e,t,i),Se(),Tt}function tr(n,e,t){const i=se(),r=Bt(),s=n+Dn,a=r.firstCreatePass?function Dj(n,e,t,i,r){const s=e.consts,a=$a(s,i),o=E2(e,n,8,"ng-container",a);return null!==a&&V0(o,a,!0),r8(e,t,o,$a(s,r)),null!==e.queries&&e.queries.elementStart(e,o),o}(s,r,i,e,t):r.data[s];Rs(a,!0);const o=i[s]=i[Dt].createComment("");return v0(r,i,o,a),Fi(o,i),Q4(a)&&(e8(r,i,a),Jh(r,a,i)),null!=t&&t8(i,a),tr}function nr(){let n=Ii();const e=Bt();return $f()?qf():(n=n.parent,Rs(n,!1)),e.firstCreatePass&&(t0(e,n),Gf(n)&&e.queries.elementEnd(n)),nr}function Hr(n,e,t){return tr(n,e,t),nr(),Hr}function Ya(){return se()}function k0(n){return!!n&&"function"==typeof n.then}const ly=function cy(n){return!!n&&"function"==typeof n.subscribe};function Ft(n,e,t,i){const r=se(),s=Bt(),a=Ii();return function uy(n,e,t,i,r,s,a){const o=Q4(i),l=n.firstCreatePass&&Wb(n),d=e[Zn],u=Gb(e);let f=!0;if(3&i.type||a){const m=Tr(i,e),g=a?a(m):m,v=u.length,b=a?y=>a(Hi(y[i.index])):i.index;let _=null;if(!a&&o&&(_=function Ej(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const a=r[s];if(a===t&&r[s+1]===i){const o=e[s2],c=r[s+2];return o.length>c?o[c]:null}"string"==typeof a&&(s+=2)}return null}(n,e,r,i.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=s,_.__ngLastListenerFn__=s,f=!1;else{s=hy(i,e,d,s,!1);const y=t.listen(g,r,s);u.push(s,y),l&&l.push(r,b,v,v+1)}}else s=hy(i,e,d,s,!1);const h=i.outputs;let p;if(f&&null!==h&&(p=h[r])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const M=e[p[g]][p[g+1]].subscribe(s),C=u.length;u.push(s,M),l&&l.push(r,i.index,C,-(C+1))}}}(s,r,r[Dt],a,n,e,i),Ft}function fy(n,e,t,i){try{return Zr(6,e,t),!1!==t(i)}catch(r){return $b(n,r),!1}finally{Zr(7,e,t)}}function hy(n,e,t,i,r){return function s(a){if(a===Function)return i;c8(n.componentOffset>-1?Ar(n.index,e):e);let c=fy(e,t,i,a),l=s.__ngNextListenerFn__;for(;l;)c=fy(e,t,l,a)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&(a.preventDefault(),a.returnValue=!1),c}}function tn(n=1){return function VB(n){return(bt.lFrame.contextLView=function zB(n,e){for(;n>0;)e=e[a2],n--;return e}(n,bt.lFrame.contextLView))[Zn]}(n)}function Tj(n,e){let t=null;const i=function nW(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?bb(n,s,!0):sW(i,s))return r}else t=r}return t}function gs(n){const e=se()[Pi][Ni];if(!e.projection){const i=e.projection=Ml(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const a=n?Tj(s,n):0;null!==a&&(r[a]?r[a].projectionNext=s:i[a]=s,r[a]=s),s=s.next}}}function On(n,e=0,t){const i=se(),r=Bt(),s=E2(r,Dn+n,16,null,t||null);null===s.projection&&(s.projection=e),qf(),32!=(32&s.flags)&&function WU(n,e,t){Bv(e[Dt],0,e,t,zv(n,t,e),Rv(t.parent||e[Ni],t,e))}(r,i,s)}function R0(n,e){return n<<17|e<<2}function Ka(n){return n>>17&32767}function m8(n){return 2|n}function jo(n){return(131068&n)>>2}function g8(n,e){return-131069&n|e<<2}function _8(n){return 1|n}function Cy(n,e,t,i,r){const s=n[t+1],a=null===e;let o=i?Ka(s):jo(s),c=!1;for(;0!==o&&(!1===c||a);){const d=n[o+1];Ij(n[o],e)&&(c=!0,n[o+1]=i?_8(d):m8(d)),o=i?Ka(d):jo(d)}c&&(n[t+1]=i?m8(s):_8(s))}function Ij(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&_2(n,e)>=0}const xi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wy(n){return n.substring(xi.key,xi.keyEnd)}function Sy(n,e){const t=xi.textEnd;return t===e?-1:(e=xi.keyEnd=function Pj(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,xi.key=e,t),N2(n,e,t))}function N2(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function es(n,e,t){return _s(n,e,t,!1),es}function dn(n,e){return _s(n,e,null,!0),dn}function Ly(n){!function vs(n,e,t,i){const r=Bt(),s=ca(2);r.firstUpdatePass&&zy(r,null,s,i);const a=se();if(t!==yt&&Oi(a,s,t)){const o=r.data[Ji()];if(Ry(o,i)&&!Vy(r,s)){let c=i?o.classesWithoutHost:o.stylesWithoutHost;null!==c&&(t=zf(c,t||"")),h8(r,o,a,t,i)}else!function qj(n,e,t,i,r,s,a,o){r===yt&&(r=Jt);let c=0,l=0,d=0<r.length?r[0]:null,u=0<s.length?s[0]:null;for(;null!==d||null!==u;){const f=c<r.length?r[c+1]:void 0,h=l<s.length?s[l+1]:void 0;let m,p=null;d===u?(c+=2,l+=2,f!==h&&(p=u,m=h)):null===u||null!==d&&d<u?(c+=2,p=d):(l+=2,p=u,m=h),null!==p&&Iy(n,e,t,i,p,m,a,o),d=c<r.length?r[c]:null,u=l<s.length?s[l]:null}}(r,o,a,a[Dt],a[s+1],a[s+1]=function $j(n,e,t){if(null==t||""===t)return Jt;const i=[],r=Vr(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,s)}}(Lr,Us,n,!0)}function Us(n,e){for(let t=function Rj(n){return function Ey(n){xi.key=0,xi.keyEnd=0,xi.value=0,xi.valueEnd=0,xi.textEnd=n.length}(n),Sy(n,N2(n,0,xi.textEnd))}(e);t>=0;t=Sy(e,t))Lr(n,wy(e),!0)}function _s(n,e,t,i){const r=se(),s=Bt(),a=ca(2);s.firstUpdatePass&&zy(s,n,a,i),e!==yt&&Oi(r,a,e)&&Iy(s,s.data[Ji()],r,r[Dt],n,r[a+1]=function Xj(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=xn(Vr(n)))),n}(e,t),i,a)}function Vy(n,e){return e>=n.expandoStartIndex}function zy(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[Ji()],a=Vy(n,t);Ry(s,i)&&null===e&&!a&&(e=!1),e=function Uj(n,e,t,i){const r=function Yf(n){const e=bt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Nl(t=v8(null,n,e,t,i),e.attrs,i),s=null);else{const a=e.directiveStylingLast;if(-1===a||n[a]!==r)if(t=v8(r,n,e,t,i),null===s){let c=function Gj(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==jo(i))return n[Ka(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=v8(null,n,e,c[1],i),c=Nl(c,e.attrs,i),function Wj(n,e,t,i){n[Ka(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else s=function jj(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Nl(i,n[s].hostAttrs,t);return Nl(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function zj(n,e,t,i,r,s){let a=s?e.classBindings:e.styleBindings,o=Ka(a),c=jo(a);n[i]=t;let d,l=!1;if(Array.isArray(t)?(d=t[1],(null===d||_2(t,d)>0)&&(l=!0)):d=t,r)if(0!==c){const f=Ka(n[o+1]);n[i+1]=R0(f,o),0!==f&&(n[f+1]=g8(n[f+1],i)),n[o+1]=function Lj(n,e){return 131071&n|e<<17}(n[o+1],i)}else n[i+1]=R0(o,0),0!==o&&(n[o+1]=g8(n[o+1],i)),o=i;else n[i+1]=R0(c,0),0===o?o=i:n[c+1]=g8(n[c+1],i),c=i;l&&(n[i+1]=m8(n[i+1])),Cy(n,d,i,!0),Cy(n,d,i,!1),function Hj(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&_2(s,e)>=0&&(t[i+1]=_8(t[i+1]))}(e,d,n,i,s),a=R0(o,c),s?e.classBindings=a:e.styleBindings=a}(r,s,e,t,a,i)}}function v8(n,e,t,i,r){let s=null;const a=t.directiveEnd;let o=t.directiveStylingLast;for(-1===o?o=t.directiveStart:o++;o<a&&(s=e[o],i=Nl(i,s.hostAttrs,r),s!==n);)o++;return null!==n&&(t.directiveStylingLast=o),i}function Nl(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?r=a:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Lr(n,a,!!t||e[++s]))}return void 0===n?null:n}function Iy(n,e,t,i,r,s,a,o){if(!(3&e.type))return;const c=n.data,l=c[o+1],d=function Vj(n){return 1==(1&n)}(l)?ky(c,e,t,r,jo(l),a):void 0;N0(d)||(N0(s)||function Aj(n){return 2==(2&n)}(l)&&(s=ky(c,null,t,r,o,a)),function $U(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:gr.DashCase;null==r?n.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=gr.Important),n.setStyle(t,i,r,s))}}(i,a,J4(Ji(),t),r,s))}function ky(n,e,t,i,r,s){const a=null===e;let o;for(;r>0;){const c=n[r],l=Array.isArray(c),d=l?c[1]:c,u=null===d;let f=t[r+1];f===yt&&(f=u?Jt:void 0);let h=u?dh(f,i):d===i?f:void 0;if(l&&!N0(h)&&(h=dh(c,i)),N0(h)&&(o=h,a))return o;const p=n[r+1];r=a?Ka(p):jo(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(o=dh(c,i))}return o}function N0(n){return void 0!==n}function Ry(n,e){return 0!=(n.flags&(e?8:16))}function nn(n,e=""){const t=se(),i=Bt(),r=n+Dn,s=i.firstCreatePass?E2(i,r,1,e,null):i.data[r],a=t[r]=function Mh(n,e){return n.createText(e)}(t[Dt],e);v0(i,t,a,s),Rs(s,!1)}function Za(n){return Qa("",n,""),Za}function Qa(n,e,t){const i=se(),r=function A2(n,e,t,i){return Oi(n,d2(),t)?e+vt(t)+i:yt}(i,n,e,t);return r!==yt&&function ua(n,e,t){const i=J4(e,n);!function Av(n,e,t){n.setValue(e,t)}(n[Dt],i,t)}(i,Ji(),r),Qa}function P2(n,e,t){const i=se();return Oi(i,d2(),e)&&zr(Bt(),Fn(),i,n,e,i[Dt],t,!0),P2}const O2="en-US";let ix=O2;function x8(n,e,t,i,r){if(n=ut(n),Array.isArray(n))for(let s=0;s<n.length;s++)x8(n[s],e,t,i,r);else{const s=Bt(),a=se();let o=Bo(n)?n:ut(n.provide),c=fb(n);const l=Ii(),d=1048575&l.providerIndexes,u=l.directiveStart,f=l.providerIndexes>>20;if(Bo(n)||!n.multi){const h=new vl(c,r,D),p=C8(o,e,r?d:d+f,u);-1===p?(ah(c0(l,a),s,o),M8(s,n,e.length),e.push(o),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(h),a.push(h)):(t[p]=h,a[p]=h)}else{const h=C8(o,e,d+f,u),p=C8(o,e,d,d+f),g=p>=0&&t[p];if(r&&!g||!r&&!(h>=0&&t[h])){ah(c0(l,a),s,o);const v=function fq(n,e,t,i,r){const s=new vl(n,t,D);return s.multi=[],s.index=e,s.componentProviders=0,Tx(s,r,i&&!t),s}(r?uq:dq,t.length,r,i,c);!r&&g&&(t[p].providerFactory=v),M8(s,n,e.length,0),e.push(o),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(v),a.push(v)}else M8(s,n,h>-1?h:p,Tx(t[r?p:h],c,!r&&i));!r&&i&&g&&t[p].componentProviders++}}}function M8(n,e,t,i){const r=Bo(e),s=function EG(n){return!!n.useClass}(e);if(r||s){const c=(s?ut(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const d=l.indexOf(t);-1===d?l.push(t,[i,c]):l[d+1].push(i,c)}else l.push(t,c)}}}function Tx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function C8(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function dq(n,e,t,i){return w8(this.multi,[])}function uq(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,o=No(t,t[He],this.providerFactory.index,i);s=o.slice(0,a),w8(r,s);for(let c=a;c<o.length;c++)s.push(o[c])}else s=[],w8(r,s);return s}function w8(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ct(n,e=[]){return t=>{t.providersResolver=(i,r)=>function lq(n,e,t){const i=Bt();if(i.firstCreatePass){const r=ps(n);x8(t,i.data,i.blueprint,r,!0),x8(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class B2{}class hq{}class Ax extends B2{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qb(this);const i=function Dr(n,e){const t=n[g_]||null;if(!t&&!0===e)throw new Error(`Type ${xn(n)} does not have '\u0275mod' property.`);return t}(e);this._bootstrapComponents=function da(n){return n instanceof Function?n():n}(i.bootstrap),this._r3Injector=Db(e,t,[{provide:B2,useValue:this},{provide:Go,useValue:this.componentFactoryResolver}],xn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class S8 extends hq{constructor(e){super(),this.moduleType=e}create(e){return new Ax(this.moduleType,e)}}class mq extends B2{constructor(e,t,i){super(),this.componentFactoryResolver=new qb(this),this.instance=null;const r=new ub([...e,{provide:B2,useValue:this},{provide:Go,useValue:this.componentFactoryResolver}],t||S0(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}let gq=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const i=ob(0,t.type),r=i.length>0?function Lx(n,e,t=null){return new mq(n,e,t).injector}([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,r)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Le({token:n,providedIn:"environment",factory:()=>new n(Y(Uo))}),n})();function Vx(n){n.getStandaloneInjector=e=>e.get(gq).getOrCreateStandaloneInjector(n)}function Px(n,e,t,i){return function Ox(n,e,t,i,r,s){const a=e+t;return Oi(n,a,r)?Os(n,a+1,s?i.call(s,r):i(r)):Gl(n,a+1)}(se(),Qi(),n,e,t,i)}function Fx(n,e,t,i,r){return function Bx(n,e,t,i,r,s,a){const o=e+t;return function Wo(n,e,t,i){const r=Oi(n,e,t);return Oi(n,e+1,i)||r}(n,o,r,s)?Os(n,o+2,a?i.call(a,r,s):i(r,s)):Gl(n,o+2)}(se(),Qi(),n,e,t,i,r)}function Gl(n,e){const t=n[e];return t===yt?void 0:t}function E8(n){return e=>{setTimeout(n,void 0,e)}}const Rt=class Oq extends Ye{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,s=t||(()=>null),a=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),s=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(s=E8(s),r&&(r=E8(r)),a&&(a=E8(a)));const o=super.subscribe({next:r,error:s,complete:a});return e instanceof on&&e.add(o),o}};function Bq(){return this._results[Symbol.iterator]()}class U2{get changes(){return this._changes||(this._changes=new Rt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=U2.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Bq)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function Qr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function KB(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Bn=(()=>{class n{}return n.__NG_ELEMENT_ID__=Wq,n})();const Uq=Bn,Gq=class extends Uq{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tViews,r=E0(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);r[pl]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[Hs];return null!==a&&(r[Hs]=a.createEmbeddedView(i)),Qh(i,r,e),new Il(r)}};function Wq(){return U0(Ii(),se())}function U0(n,e){return 4&n.type?new Gq(e,n,M2(n,e)):null}let ai=(()=>{class n{}return n.__NG_ELEMENT_ID__=jq,n})();function jq(){return qx(Ii(),se())}const $q=ai,jx=class extends $q{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return M2(this._hostTNode,this._hostLView)}get injector(){return new f2(this._hostTNode,this._hostLView)}get parentInjector(){const e=sh(this._hostTNode,this._hostLView);if(Y_(e)){const t=a0(e,this._hostLView),i=s0(e);return new f2(t[He].data[i+8],t)}return new f2(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=$x(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Zi}createEmbeddedView(e,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=e.createEmbeddedView(t||{},s);return this.insert(a,r),a}createComponent(e,t,i,r,s){const a=e&&!function xl(n){return"function"==typeof n}(e);let o;if(a)o=t;else{const u=t||{};o=u.index,i=u.injector,r=u.projectableNodes,s=u.environmentInjector||u.ngModuleRef}const c=a?e:new kl(an(e)),l=i||this.parentInjector;if(!s&&null==c.ngModule){const f=(a?l:this.parentInjector).get(Uo,null);f&&(s=f)}const d=c.create(l,r,void 0,s);return this.insert(d.hostView,o),d}insert(e,t){const i=e._lView,r=i[He];if(function yB(n){return hs(n[$n])}(i)){const d=this.indexOf(e);if(-1!==d)this.detach(d);else{const u=i[$n],f=new jx(u,u[Ni],u[$n]);f.detach(f.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;!function PU(n,e,t,i){const r=Zi+i,s=t.length;i>0&&(t[r-1][fs]=e),i<s-Zi?(e[fs]=t[r],ov(t,Zi+i,e)):(t.push(e),e[fs]=null),e[$n]=t;const a=e[pl];null!==a&&t!==a&&function FU(n,e){const t=n[c2];e[Pi]!==e[$n][$n][Pi]&&(n[M_]=!0),null===t?n[c2]=[e]:t.push(e)}(a,e);const o=e[Hs];null!==o&&o.insertView(n),e[Ct]|=64}(r,i,a,s);const o=Eh(s,a),c=i[Dt],l=_0(c,a[K4]);return null!==l&&function kU(n,e,t,i,r,s){i[aa]=r,i[Ni]=e,Tl(n,i,t,1,r,s)}(r,a[Ni],c,i,l,o),e.attachToViewContainerRef(),ov(T8(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=$x(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=wh(this._lContainer,t);i&&(u0(T8(this._lContainer),t),Vv(i[He],i))}detach(e){const t=this._adjustIndex(e,-1),i=wh(this._lContainer,t);return i&&null!=u0(T8(this._lContainer),t)?new Il(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function $x(n){return n[Z4]}function T8(n){return n[Z4]||(n[Z4]=[])}function qx(n,e){let t;const i=e[n.index];if(hs(i))t=i;else{let r;if(8&n.type)r=Hi(i);else{const s=e[Dt];r=s.createComment("");const a=Tr(n,e);Fo(s,_0(s,a),r,function GU(n,e){return n.nextSibling(e)}(s,a),!1)}e[n.index]=t=Ub(i,e,r,n),A0(e,t)}return new jx(t,n,e)}class A8{constructor(e){this.queryList=e,this.matches=null}clone(){return new A8(this.queryList)}setDirty(){this.queryList.setDirty()}}class L8{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const a=t.getByIndex(s);r.push(this.queries[a.indexInDeclarationView].clone())}return new L8(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Qx(e,t).matches&&this.queries[t].setDirty()}}class Xx{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class V8{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new V8(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class z8{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new z8(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,qq(t,s)),this.matchTNodeWithReadOption(e,t,l0(t,e,s,!1,!1))}else i===Bn?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,l0(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ot||r===ai||r===Bn&&4&t.type)this.addMatch(t.index,-2);else{const s=l0(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function qq(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function Yq(n,e,t,i){return-1===t?function Xq(n,e){return 11&n.type?M2(n,e):4&n.type?U0(n,e):null}(e,n):-2===t?function Kq(n,e,t){return t===ot?M2(e,n):t===Bn?U0(e,n):t===ai?qx(e,n):void 0}(n,e,i):No(n,n[He],t,e)}function Yx(n,e,t,i){const r=e[Hs].queries[i];if(null===r.matches){const s=n.data,a=t.matches,o=[];for(let c=0;c<a.length;c+=2){const l=a[c];o.push(l<0?null:Yq(e,s[l],a[c+1],t.metadata.read))}r.matches=o}return r.matches}function H8(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const a=Yx(n,e,r,t);for(let o=0;o<s.length;o+=2){const c=s[o];if(c>0)i.push(a[o/2]);else{const l=s[o+1],d=e[-c];for(let u=Zi;u<d.length;u++){const f=d[u];f[pl]===f[$n]&&H8(f[He],f,l,i)}if(null!==d[c2]){const u=d[c2];for(let f=0;f<u.length;f++){const h=u[f];H8(h[He],h,l,i)}}}}}return i}function Je(n){const e=se(),t=Bt(),i=P_();Kf(i+1);const r=Qx(t,i);if(n.dirty&&function bB(n){return 4==(4&n[Ct])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?H8(t,e,i,[]):Yx(t,e,r,i);n.reset(s,PG),n.notifyOnChanges()}return!0}return!1}function Gt(n,e,t){const i=Bt();i.firstCreatePass&&(Zx(i,new Xx(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),Kx(i,se(),e)}function Xn(n,e,t,i){const r=Bt();if(r.firstCreatePass){const s=Ii();Zx(r,new Xx(e,t,i),s.index),function Qq(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}Kx(r,se(),t)}function et(){return function Zq(n,e){return n[Hs].queries[e].queryList}(se(),P_())}function Kx(n,e,t){const i=new U2(4==(4&t));Rb(n,e,i,i.destroy),null===e[Hs]&&(e[Hs]=new L8),e[Hs].queries.push(new A8(i))}function Zx(n,e,t){null===n.queries&&(n.queries=new V8),n.queries.track(new z8(e,t))}function Qx(n,e){return n.queries.getByIndex(e)}function G0(n,e){return U0(n,e)}function j0(...n){}const _M=new de("Application Initializer");let $0=(()=>{class n{constructor(t){this.appInits=t,this.resolve=j0,this.reject=j0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(k0(s))t.push(s);else if(ly(s)){const a=new Promise((o,c)=>{s.subscribe({complete:o,error:c})});t.push(a)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Y(_M,8))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $l=new de("AppId",{providedIn:"root",factory:function vM(){return`${P8()}${P8()}${P8()}`}});function P8(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bM=new de("Platform Initializer"),q0=new de("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vX=new de("appBootstrapListener"),sr=new de("AnimationModuleType"),Gs=new de("LocaleId",{providedIn:"root",factory:()=>Sr(Gs,_t.Optional|_t.SkipSelf)||function bX(){return typeof $localize<"u"&&$localize.locale||O2}()}),wX=(()=>Promise.resolve(0))();function F8(n){typeof Zone>"u"?wX.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class it{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rt(!1),this.onMicrotaskEmpty=new Rt(!1),this.onStable=new Rt(!1),this.onError=new Rt(!1),typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function SX(){let n=Sn.requestAnimationFrame,e=Sn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function TX(n){const e=()=>{!function EX(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Sn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,B8(n),n.isCheckStableRunning=!0,O8(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),B8(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,a,o)=>{try{return MM(n),t.invokeTask(r,s,a,o)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),CM(n)}},onInvoke:(t,i,r,s,a,o,c)=>{try{return MM(n),t.invoke(r,s,a,o,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),CM(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,B8(n),O8(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!it.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(it.isInAngularZone())throw new ae(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+r,e,DX,j0,j0);try{return s.runTask(a,t,i)}finally{s.cancelTask(a)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const DX={};function O8(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function B8(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function MM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function CM(n){n._nesting--,O8(n)}class AX{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rt,this.onMicrotaskEmpty=new Rt,this.onStable=new Rt,this.onError=new Rt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const wM=new de(""),X0=new de("");let W8,U8=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,W8||(function LX(n){W8=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{it.assertNotInAngularZone(),F8(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())F8(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(Y(it),Y(G8),Y(X0))},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})(),G8=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return W8?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ja=null;const SM=new de("AllowMultipleToken"),j8=new de("PlatformDestroyListeners"),fa=!1;function EM(n,e,t=[]){const i=`Platform: ${e}`,r=new de(i);return(s=[])=>{let a=$8();if(!a||a.injector.get(SM,!1)){const o=[...t,...s,{provide:r,useValue:!0}];n?n(o):function HX(n){if(Ja&&!Ja.get(SM,!1))throw new ae(400,!1);Ja=n;const e=n.get(AM);(function DM(n){const e=n.get(bM,null);e&&e.forEach(t=>t())})(n)}(function TM(n=[],e){return er.create({name:e,providers:[{provide:Fh,useValue:"platform"},{provide:j8,useValue:new Set([()=>Ja=null])},...n]})}(o,i))}return function kX(n){const e=$8();if(!e)throw new ae(401,!1);return e}()}}function $8(){return Ja?.get(AM)??null}let AM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function VM(n,e){let t;return t="noop"===n?new AX:("zone.js"===n?void 0:n)||new it(e),t}(i?.ngZone,function LM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:it,useValue:r}];return r.run(()=>{const a=er.create({providers:s,parent:this.injector,name:t.moduleType.name}),o=t.create(a),c=o.injector.get(w2,null);if(!c)throw new ae(402,!1);return r.runOutsideAngular(()=>{const l=r.onError.subscribe({next:d=>{c.handleError(d)}});o.onDestroy(()=>{Y0(this._modules,o),l.unsubscribe()})}),function zM(n,e,t){try{const i=t();return k0(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(c,r,()=>{const l=o.injector.get($0);return l.runInitializers(),l.donePromise.then(()=>(function rx(n){Yr(n,"Expected localeId to be defined"),"string"==typeof n&&(ix=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Gs,O2)||O2),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=HM({},i);return function VX(n,e,t){const i=new S8(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(ql);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new ae(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ae(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(j8,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Y(er))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function HM(n,e){return Array.isArray(e)?e.reduce(HM,n):{...n,...e}}let ql=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new st(o=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{o.next(this._stable),o.complete()})}),a=new st(o=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{it.assertNotInAngularZone(),F8(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,o.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{it.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{o.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=Ho(s,a.pipe(function UO(n={}){const{connector:e=(()=>new Ye),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let a,o,c,l=0,d=!1,u=!1;const f=()=>{o?.unsubscribe(),o=void 0},h=()=>{f(),a=c=void 0,d=u=!1},p=()=>{const m=a;h(),m?.unsubscribe()};return Kt((m,g)=>{l++,!u&&!d&&f();const v=c=c??e();g.add(()=>{l--,0===l&&!u&&!d&&(o=Lf(p,r))}),v.subscribe(g),!a&&l>0&&(a=new qt({next:b=>v.next(b),error:b=>{u=!0,f(),o=Lf(h,t,b),v.error(b)},complete:()=>{d=!0,f(),o=Lf(h,i),v.complete()}}),pr(m).subscribe(a))})(s)}}()))}bootstrap(t,i){const r=t instanceof hb;if(!this._injector.get($0).done){!r&&function fl(n){const e=an(n)||Ri(n)||Ki(n);return null!==e&&e.standalone}(t);throw new ae(405,fa)}let a;a=r?t:this._injector.get(Go).resolveComponentFactory(t),this.componentTypes.push(a.componentType);const o=function zX(n){return n.isBoundToModule}(a)?void 0:this._injector.get(B2),l=a.create(er.NULL,[],i||a.selector,o),d=l.location.nativeElement,u=l.injector.get(wM,null);return u?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Y0(this.components,l),u?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new ae(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Y0(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(vX,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Y0(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ae(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(Y(it),Y(Uo),Y(w2))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Y0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Bi=(()=>{class n{}return n.__NG_ELEMENT_ID__=NX,n})();function NX(n){return function PX(n,e,t){if(gl(n)&&!t){const i=Ar(n.index,e);return new Il(i,i)}return 47&n.type?new Il(e[Pi],e):null}(Ii(),se(),16==(16&n))}class PM{constructor(){}supports(e){return H0(e)}create(e){return new WX(e)}}const GX=(n,e)=>e;class WX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||GX}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const a=!i||t&&t.currentIndex<OM(i,r,s)?t:i,o=OM(a,r,s),c=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(t=t._next,null==a.previousIndex)r++;else{s||(s=[]);const l=o-r,d=c-r;if(l!=d){for(let f=0;f<l;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;d<=p&&p<l&&(s[f]=h+1)}s[a.previousIndex]=d-l}}o!==c&&e(a,o,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!H0(e))throw new ae(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,a,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let o=0;o<this.length;o++)s=e[o],a=this._trackByFn(o,s),null!==t&&Object.is(t.trackById,a)?(i&&(t=this._verifyReinsertion(t,s,a,o)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,a,o),i=!0),t=t._next}else r=0,function yj(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,o=>{a=this._trackByFn(r,o),null!==t&&Object.is(t.trackById,a)?(i&&(t=this._verifyReinsertion(t,o,a,r)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,a,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new jX(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new FM),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new FM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class jX{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $X{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class FM{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new $X,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OM(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class BM{constructor(){}supports(e){return e instanceof Map||f8(e)}create(){return new qX}}class qX{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||f8(e)))throw new ae(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,a=r._next;return s&&(s._next=a),a&&(a._prev=s),r._next=null,r._prev=null,r}const i=new XX(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class XX{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function UM(){return new ha([new PM])}let ha=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||UM()),deps:[[n,new p0,new Cl]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new ae(901,!1)}}return n.\u0275prov=Le({token:n,providedIn:"root",factory:UM}),n})();function GM(){return new Xl([new BM])}let Xl=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||GM()),deps:[[n,new p0,new Cl]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new ae(901,!1)}}return n.\u0275prov=Le({token:n,providedIn:"root",factory:GM}),n})();const ZX=EM(null,"core",[]);let QX=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Y(ql))},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({}),n})();let Q8=null;function pa(){return Q8}class tY{}const At=new de("DocumentToken");let WM=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Le({token:n,factory:function(){return function nY(){return Y(jM)}()},providedIn:"platform"}),n})(),jM=(()=>{class n extends WM{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pa().getBaseHref(this._doc)}onPopState(t){const i=pa().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=pa().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){$M()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){$M()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Y(At))},n.\u0275prov=Le({token:n,factory:function(){return function iY(){return new jM(Y(At))}()},providedIn:"platform"}),n})();function $M(){return!!window.history.pushState}function qM(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function XM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Xo(n){return n&&"?"!==n[0]?"?"+n:n}let J8=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Le({token:n,factory:function(){return Sr(sY)},providedIn:"root"}),n})();const rY=new de("appBaseHref");let sY=(()=>{class n extends J8{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Sr(At).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return qM(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Xo(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const a=this.prepareExternalUrl(r+Xo(s));this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,s){const a=this.prepareExternalUrl(r+Xo(s));this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Y(WM),Y(rY,8))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e5=(()=>{class n{constructor(t){this._subject=new Rt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function cY(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(XM(YM(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Xo(i))}normalize(t){return n.stripTrailingSlash(function oY(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,YM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xo(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Xo,n.joinWithSlash=qM,n.stripTrailingSlash=XM,n.\u0275fac=function(t){return new(t||n)(Y(J8))},n.\u0275prov=Le({token:n,factory:function(){return function aY(){return new e5(Y(J8))}()},providedIn:"root"}),n})();function YM(n){return n.replace(/\/index.html$/,"")}function rC(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}const u5=/\s+/,sC=[];let aC=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=sC,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(u5):sC}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(u5):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(u5).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(D(ha),D(Xl),D(ot),D(qa))},n.\u0275dir=ce({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class $Y{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let f5=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new $Y(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const o=i.get(s);i.move(o,a),lC(o,r)}});for(let r=0,s=i.length;r<s;r++){const o=i.get(r).context;o.index=r,o.count=s,o.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{lC(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(D(ai),D(Bn),D(ha))},n.\u0275dir=ce({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function lC(n,e){n.context.$implicit=e.item}let j2=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new XY,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(D(ai),D(Bn))},n.\u0275dir=ce({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class XY{constructor(){this.$implicit=null,this.ngIf=null}}function dC(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${xn(e)}'.`)}class h5{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let o6=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ce({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),uC=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new h5(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(D(ai),D(Bn),D(o6,9))},n.\u0275dir=ce({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),p5=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(r,s,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(D(ai))},n.\u0275dir=ce({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[zi]}),n})(),Yo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({}),n})();const pC="browser";class gC{}class ZK extends tY{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class b5 extends ZK{static makeCurrent(){!function eY(n){Q8||(Q8=n)}(new b5)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function QK(){return Ql=Ql||document.querySelector("base"),Ql?Ql.getAttribute("href"):null}();return null==t?null:function JK(n){d6=d6||document.createElement("a"),d6.setAttribute("href",n);const e=d6.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ql=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return rC(document.cookie,e)}}let d6,Ql=null;const xC=new de("TRANSITION_ID"),tZ=[{provide:_M,useFactory:function eZ(n,e,t){return()=>{t.get($0).donePromise.then(()=>{const i=pa(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[xC,At,er],multi:!0}];let iZ=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})();const u6=new de("EventManagerPlugins");let f6=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Y(u6),Y(it))},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})();class MC{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=pa().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let CC=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let s=r.get(t)??0;return s+=i,s>0?r.set(t,s):r.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})(),Jl=(()=>{class n extends CC{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(s=>s.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(Y(At))},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})();const y5={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},x5=/%COMP%/g,DC=new de("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function EC(n,e){return e.flat(100).map(t=>t.replace(x5,n))}function TC(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let h6=(()=>{class n{constructor(t,i,r,s){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new M5(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof VC?r.applyToHost(t):r instanceof C5&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const a=this.eventManager,o=this.sharedStylesHost,c=this.removeStylesOnCompDestory;switch(i.encapsulation){case us.Emulated:s=new VC(a,o,i,this.appId,c);break;case us.ShadowDom:return new dZ(a,o,t,i);default:s=new C5(a,o,i,c)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Y(f6),Y(Jl),Y($l),Y(DC))},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})();class M5{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(y5[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(LC(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(LC(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=y5[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=y5[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(gr.DashCase|gr.Important)?e.style.setProperty(t,i,r&gr.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&gr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,TC(i)):this.eventManager.addEventListener(e,t,TC(i))}}function LC(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class dZ extends M5{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=EC(r.id,r.styles);for(const a of s){const o=document.createElement("style");o.textContent=a,this.shadowRoot.appendChild(o)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class C5 extends M5{constructor(e,t,i,r,s=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=EC(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class VC extends C5{constructor(e,t,i,r,s){const a=r+"-"+i.id;super(e,t,i,s,a),this.contentAttr=function oZ(n){return"_ngcontent-%COMP%".replace(x5,n)}(a),this.hostAttr=function cZ(n){return"_nghost-%COMP%".replace(x5,n)}(a)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let uZ=(()=>{class n extends MC{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(Y(At))},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})();const zC=["alt","control","meta","shift"],fZ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hZ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let pZ=(()=>{class n extends MC{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pa().onAndCancel(t,s.domEventName,a))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="",o=i.indexOf("code");if(o>-1&&(i.splice(o,1),a="code."),zC.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=s,0!=i.length||0===s.length)return null;const c={};return c.domEventName=r,c.fullKey=a,c}static matchEventFullKeyCode(t,i){let r=fZ[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),zC.forEach(a=>{a!==r&&(0,hZ[a])(t)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(Y(At))},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})();const IC=[{provide:q0,useValue:pC},{provide:bM,useValue:function mZ(){b5.makeCurrent()},multi:!0},{provide:At,useFactory:function _Z(){return function ZU(n){Vh=n}(document),document},deps:[]}],vZ=EM(ZX,"browser",IC),kC=new de(""),RC=[{provide:X0,useClass:class nZ{addToWindow(e){Sn.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Sn.getAllAngularTestabilities=()=>e.getAllTestabilities(),Sn.getAllAngularRootElements=()=>e.getAllRootElements(),Sn.frameworkStabilizers||(Sn.frameworkStabilizers=[]),Sn.frameworkStabilizers.push(i=>{const r=Sn.getAllAngularTestabilities();let s=r.length,a=!1;const o=function(c){a=a||c,s--,0==s&&i(a)};r.forEach(function(c){c.whenStable(o)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?pa().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:wM,useClass:U8,deps:[it,G8,X0]},{provide:U8,useClass:U8,deps:[it,G8,X0]}],NC=[{provide:Fh,useValue:"root"},{provide:w2,useFactory:function gZ(){return new w2},deps:[]},{provide:u6,useClass:uZ,multi:!0,deps:[At,it,q0]},{provide:u6,useClass:pZ,multi:!0,deps:[At]},{provide:h6,useClass:h6,deps:[f6,Jl,$l,DC]},{provide:zl,useExisting:h6},{provide:CC,useExisting:Jl},{provide:Jl,useClass:Jl,deps:[At]},{provide:f6,useClass:f6,deps:[u6,it]},{provide:gC,useClass:iZ,deps:[]},[]];let PC=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:$l,useValue:t.appId},{provide:xC,useExisting:$l},tZ]}}}return n.\u0275fac=function(t){return new(t||n)(Y(kC,12))},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({providers:[...NC,...RC],imports:[Yo,QX]}),n})();typeof window<"u"&&window;let BC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Le({token:n,factory:function(t){let i=null;return i=t?new(t||n):Y(UC),i},providedIn:"root"}),n})(),UC=(()=>{class n extends BC{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Mn.NONE:return i;case Mn.HTML:return Ps(i,"HTML")?Vr(i):eb(this._doc,String(i)).toString();case Mn.STYLE:return Ps(i,"Style")?Vr(i):i;case Mn.SCRIPT:if(Ps(i,"Script"))return Vr(i);throw new Error("unsafe value used in a script context");case Mn.URL:return Ps(i,"URL")?Vr(i):M0(String(i));case Mn.RESOURCE_URL:if(Ps(i,"ResourceURL"))return Vr(i);throw new Error(`unsafe value used in a resource URL context (see ${O4})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${O4})`)}}bypassSecurityTrustHtml(t){return function rG(n){return new QU(n)}(t)}bypassSecurityTrustStyle(t){return function sG(n){return new JU(n)}(t)}bypassSecurityTrustScript(t){return function aG(n){return new eG(n)}(t)}bypassSecurityTrustUrl(t){return function oG(n){return new tG(n)}(t)}bypassSecurityTrustResourceUrl(t){return function cG(n){return new nG(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(Y(At))},n.\u0275prov=Le({token:n,factory:function(t){let i=null;return i=t?new t:function EZ(n){return new UC(n.get(At))}(Y(er)),i},providedIn:"root"}),n})();function GC(n,e,t,i,r,s,a){try{var o=n[s](a),c=o.value}catch(l){return void t(l)}o.done?e(c):Promise.resolve(c).then(i,r)}const D5="150",$2={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},q2={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},AZ=0,WC=1,LZ=2,jC=1,VZ=2,e3=3,to=0,Ir=1,no=2,io=0,X2=1,$C=2,qC=3,XC=4,zZ=5,Y2=100,HZ=101,IZ=102,YC=103,KC=104,kZ=200,RZ=201,NZ=202,PZ=203,ZC=204,QC=205,FZ=206,OZ=207,BZ=208,UZ=209,GZ=210,WZ=0,jZ=1,$Z=2,E5=3,qZ=4,XZ=5,YZ=6,KZ=7,p6=0,ZZ=1,QZ=2,ga=0,JZ=1,eQ=2,tQ=3,nQ=4,iQ=5,Ko=301,Zo=302,m6=303,g6=304,t3=306,_6=1e3,ar=1001,v6=1002,li=1003,A5=1004,b6=1005,di=1006,JC=1007,Qo=1008,Jo=1009,rQ=1010,sQ=1011,ew=1012,aQ=1013,e1=1014,ro=1015,n3=1016,oQ=1017,cQ=1018,K2=1020,lQ=1021,is=1023,dQ=1024,uQ=1025,t1=1026,Z2=1027,fQ=1028,hQ=1029,pQ=1030,mQ=1031,gQ=1033,L5=33776,V5=33777,z5=33778,H5=33779,tw=35840,nw=35841,iw=35842,rw=35843,_Q=36196,sw=37492,aw=37496,ow=37808,cw=37809,lw=37810,dw=37811,uw=37812,fw=37813,hw=37814,pw=37815,mw=37816,gw=37817,_w=37818,vw=37819,bw=37820,yw=37821,I5=36492,vQ=36283,xw=36284,Mw=36285,Cw=36286,n1=3e3,Tn=3001,CQ=3201,r1=0,wQ=1,Ws="srgb",r3="srgb-linear",Sw="display-p3",Dw="300 es",P5=1035;class s1{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const i=this._listeners[e.type];if(void 0!==i){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}const Ui=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],a1=Math.PI/180,s3=180/Math.PI;function kr(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Ui[255&n]+Ui[n>>8&255]+Ui[n>>16&255]+Ui[n>>24&255]+"-"+Ui[255&e]+Ui[e>>8&255]+"-"+Ui[e>>16&15|64]+Ui[e>>24&255]+"-"+Ui[63&t|128]+Ui[t>>8&255]+"-"+Ui[t>>16&255]+Ui[t>>24&255]+Ui[255&i]+Ui[i>>8&255]+Ui[i>>16&255]+Ui[i>>24&255]).toLowerCase()}function ei(n,e,t){return Math.max(e,Math.min(t,n))}function a3(n,e,t){return(1-t)*n+t*e}function O5(n){return 0==(n&n-1)&&0!==n}function Aw(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function _a(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function vn(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}class ne{constructor(e=0,t=0){ne.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Gi{constructor(){Gi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,a,o,c,l){const d=this.elements;return d[0]=e,d[1]=r,d[2]=o,d[3]=t,d[4]=s,d[5]=c,d[6]=i,d[7]=a,d[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[3],c=i[6],l=i[1],d=i[4],u=i[7],f=i[2],h=i[5],p=i[8],m=r[0],g=r[3],v=r[6],b=r[1],_=r[4],y=r[7],M=r[2],C=r[5],V=r[8];return s[0]=a*m+o*b+c*M,s[3]=a*g+o*_+c*C,s[6]=a*v+o*y+c*V,s[1]=l*m+d*b+u*M,s[4]=l*g+d*_+u*C,s[7]=l*v+d*y+u*V,s[2]=f*m+h*b+p*M,s[5]=f*g+h*_+p*C,s[8]=f*v+h*y+p*V,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],c=e[6],l=e[7],d=e[8];return t*a*d-t*o*l-i*s*d+i*o*c+r*s*l-r*a*c}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],c=e[6],l=e[7],d=e[8],u=d*a-o*l,f=o*c-d*s,h=l*s-a*c,p=t*u+i*f+r*h;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=u*m,e[1]=(r*l-d*i)*m,e[2]=(o*i-r*a)*m,e[3]=f*m,e[4]=(d*t-r*c)*m,e[5]=(r*s-o*t)*m,e[6]=h*m,e[7]=(i*c-l*t)*m,e[8]=(a*t-i*s)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,a,o){const c=Math.cos(s),l=Math.sin(s);return this.set(i*c,i*l,-i*(c*a+l*o)+a+e,-r*l,r*c,-r*(-l*a+c*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(B5.makeScale(e,t)),this}rotate(e){return this.premultiply(B5.makeRotation(-e)),this}translate(e,t){return this.premultiply(B5.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const B5=new Gi;function Lw(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function o3(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;class or{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,a,o){let c=i[r+0],l=i[r+1],d=i[r+2],u=i[r+3];const f=s[a+0],h=s[a+1],p=s[a+2],m=s[a+3];if(0===o)return e[t+0]=c,e[t+1]=l,e[t+2]=d,void(e[t+3]=u);if(1===o)return e[t+0]=f,e[t+1]=h,e[t+2]=p,void(e[t+3]=m);if(u!==m||c!==f||l!==h||d!==p){let g=1-o;const v=c*f+l*h+d*p+u*m,b=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){const M=Math.sqrt(_),C=Math.atan2(M,v*b);g=Math.sin(g*C)/M,o=Math.sin(o*C)/M}const y=o*b;if(c=c*g+f*y,l=l*g+h*y,d=d*g+p*y,u=u*g+m*y,g===1-o){const M=1/Math.sqrt(c*c+l*l+d*d+u*u);c*=M,l*=M,d*=M,u*=M}}e[t]=c,e[t+1]=l,e[t+2]=d,e[t+3]=u}static multiplyQuaternionsFlat(e,t,i,r,s,a){const o=i[r],c=i[r+1],l=i[r+2],d=i[r+3],u=s[a],f=s[a+1],h=s[a+2],p=s[a+3];return e[t]=o*p+d*u+c*h-l*f,e[t+1]=c*p+d*f+l*u-o*h,e[t+2]=l*p+d*h+o*f-c*u,e[t+3]=d*p-o*u-c*f-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,c=Math.sin,l=o(i/2),d=o(r/2),u=o(s/2),f=c(i/2),h=c(r/2),p=c(s/2);switch(a){case"XYZ":this._x=f*d*u+l*h*p,this._y=l*h*u-f*d*p,this._z=l*d*p+f*h*u,this._w=l*d*u-f*h*p;break;case"YXZ":this._x=f*d*u+l*h*p,this._y=l*h*u-f*d*p,this._z=l*d*p-f*h*u,this._w=l*d*u+f*h*p;break;case"ZXY":this._x=f*d*u-l*h*p,this._y=l*h*u+f*d*p,this._z=l*d*p+f*h*u,this._w=l*d*u-f*h*p;break;case"ZYX":this._x=f*d*u-l*h*p,this._y=l*h*u+f*d*p,this._z=l*d*p-f*h*u,this._w=l*d*u+f*h*p;break;case"YZX":this._x=f*d*u+l*h*p,this._y=l*h*u+f*d*p,this._z=l*d*p-f*h*u,this._w=l*d*u-f*h*p;break;case"XZY":this._x=f*d*u-l*h*p,this._y=l*h*u-f*d*p,this._z=l*d*p+f*h*u,this._w=l*d*u+f*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],a=t[1],o=t[5],c=t[9],l=t[2],d=t[6],u=t[10],f=i+o+u;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(d-c)*h,this._y=(s-l)*h,this._z=(a-r)*h}else if(i>o&&i>u){const h=2*Math.sqrt(1+i-o-u);this._w=(d-c)/h,this._x=.25*h,this._y=(r+a)/h,this._z=(s+l)/h}else if(o>u){const h=2*Math.sqrt(1+o-i-u);this._w=(s-l)/h,this._x=(r+a)/h,this._y=.25*h,this._z=(c+d)/h}else{const h=2*Math.sqrt(1+u-i-o);this._w=(a-r)/h,this._x=(s+l)/h,this._y=(c+d)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ei(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(0===i)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,a=e._w,o=t._x,c=t._y,l=t._z,d=t._w;return this._x=i*d+a*o+r*l-s*c,this._y=r*d+a*c+s*o-i*l,this._z=s*d+a*l+i*c-r*o,this._w=a*d-i*o-r*c-s*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const i=this._x,r=this._y,s=this._z,a=this._w;let o=a*e._w+i*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const c=1-o*o;if(c<=Number.EPSILON){const h=1-t;return this._w=h*a+t*this._w,this._x=h*i+t*this._x,this._y=h*r+t*this._y,this._z=h*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(c),d=Math.atan2(l,o),u=Math.sin((1-t)*d)/l,f=Math.sin(t*d)/l;return this._w=a*u+this._w*f,this._x=i*u+this._x*f,this._y=r*u+this._y*f,this._z=s*u+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class E{constructor(e=0,t=0,i=0){E.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return void 0===i&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Vw.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Vw.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,a=e.y,o=e.z,c=e.w,l=c*t+a*r-o*i,d=c*i+o*t-s*r,u=c*r+s*i-a*t,f=-s*t-a*i-o*r;return this.x=l*c+f*-s+d*-o-u*-a,this.y=d*c+f*-a+u*-s-l*-o,this.z=u*c+f*-o+l*-a-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,a=t.x,o=t.y,c=t.z;return this.x=r*c-s*o,this.y=s*a-i*c,this.z=i*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return U5.copy(this).projectOnVector(e),this.sub(U5)}reflect(e){return this.sub(U5.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(ei(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const U5=new E,Vw=new or;function tc(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function G5(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}const OQ=(new Gi).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),BQ=(new Gi).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),so=new E,WQ={[r3]:n=>n,[Ws]:n=>n.convertSRGBToLinear(),[Sw]:function UQ(n){return n.convertSRGBToLinear(),so.set(n.r,n.g,n.b).applyMatrix3(BQ),n.setRGB(so.x,so.y,so.z)}},jQ={[r3]:n=>n,[Ws]:n=>n.convertLinearToSRGB(),[Sw]:function GQ(n){return so.set(n.r,n.g,n.b).applyMatrix3(OQ),n.setRGB(so.x,so.y,so.z).convertLinearToSRGB()}},cr={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return r3},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(!1===this.enabled||e===t||!e||!t)return n;const i=WQ[e],r=jQ[t];if(void 0===i||void 0===r)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let nc;class zw{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===nc&&(nc=o3("canvas")),nc.width=e.width,nc.height=e.height;const i=nc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=nc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=o3("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=255*tc(s[a]/255);return i.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t[i]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*tc(t[i]/255)):tc(t[i]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class ic{constructor(e=null){this.isSource=!0,this.uuid=kr(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(null!==r){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)s.push(W5(r[a].isDataTexture?r[a].image:r[a]))}else s=W5(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function W5(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?zw.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let $Q=0,ao=(()=>{class n extends s1{constructor(t=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,r=ar,s=ar,a=di,o=Qo,c=is,l=Jo,d=n.DEFAULT_ANISOTROPY,u=n1){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:$Q++}),this.uuid=kr(),this.name="",this.source=new ic(t),this.mipmaps=[],this.mapping=i,this.wrapS=r,this.wrapT=s,this.magFilter=a,this.minFilter=o,this.anisotropy=d,this.format=c,this.internalFormat=null,this.type=l,this.offset=new ne(0,0),this.repeat=new ne(1,1),this.center=new ne(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Gi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const i=void 0===t||"string"==typeof t;if(!i&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case _6:t.x=t.x-Math.floor(t.x);break;case ar:t.x=t.x<0?0:1;break;case v6:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case _6:t.y=t.y-Math.floor(t.y);break;case ar:t.y=t.y<0?0:1;break;case v6:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class hn{constructor(e=0,t=0,i=0,r=1){hn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const c=e.elements,l=c[0],d=c[4],u=c[8],f=c[1],h=c[5],p=c[9],m=c[2],g=c[6],v=c[10];if(Math.abs(d-f)<.01&&Math.abs(u-m)<.01&&Math.abs(p-g)<.01){if(Math.abs(d+f)<.1&&Math.abs(u+m)<.1&&Math.abs(p+g)<.1&&Math.abs(l+h+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const _=(l+1)/2,y=(h+1)/2,M=(v+1)/2,C=(d+f)/4,V=(u+m)/4,x=(p+g)/4;return _>y&&_>M?_<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(_),r=C/i,s=V/i):y>M?y<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(y),i=C/r,s=x/r):M<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(M),i=V/s,r=x/s),this.set(i,r,s,t),this}let b=Math.sqrt((g-p)*(g-p)+(u-m)*(u-m)+(f-d)*(f-d));return Math.abs(b)<.001&&(b=1),this.x=(g-p)/b,this.y=(u-m)/b,this.z=(f-d)/b,this.w=Math.acos((l+h+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class o1 extends s1{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new hn(0,0,e,t),this.scissorTest=!1,this.viewport=new hn(0,0,e,t),this.texture=new ao({width:e,height:t,depth:1},i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:di,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,this.samples=void 0!==i.samples?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new ic(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class j5 extends ao{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=li,this.minFilter=li,this.wrapR=ar,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Hw extends ao{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=li,this.minFilter=li,this.wrapR=ar,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class rc{constructor(e=new E(1/0,1/0,1/0),t=new E(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,a=-1/0,o=-1/0;for(let c=0,l=e.length;c<l;c+=3){const d=e[c],u=e[c+1],f=e[c+2];d<t&&(t=d),u<i&&(i=u),f<r&&(r=f),d>s&&(s=d),u>a&&(a=u),f>o&&(o=f)}return this.min.set(t,i,r),this.max.set(s,a,o),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,a=-1/0,o=-1/0;for(let c=0,l=e.count;c<l;c++){const d=e.getX(c),u=e.getY(c),f=e.getZ(c);d<t&&(t=d),u<i&&(i=u),f<r&&(r=f),d>s&&(s=d),u>a&&(a=u),f>o&&(o=f)}return this.min.set(t,i,r),this.max.set(s,a,o),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=c1.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(void 0!==i)if(t&&null!=i.attributes&&void 0!==i.attributes.position){const s=i.attributes.position;for(let a=0,o=s.count;a<o;a++)c1.fromBufferAttribute(s,a).applyMatrix4(e.matrixWorld),this.expandByPoint(c1)}else null===i.boundingBox&&i.computeBoundingBox(),$5.copy(i.boundingBox),$5.applyMatrix4(e.matrixWorld),this.union($5);const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,c1),c1.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(c3),w6.subVectors(this.max,c3),sc.subVectors(e.a,c3),ac.subVectors(e.b,c3),oc.subVectors(e.c,c3),oo.subVectors(ac,sc),co.subVectors(oc,ac),l1.subVectors(sc,oc);let t=[0,-oo.z,oo.y,0,-co.z,co.y,0,-l1.z,l1.y,oo.z,0,-oo.x,co.z,0,-co.x,l1.z,0,-l1.x,-oo.y,oo.x,0,-co.y,co.x,0,-l1.y,l1.x,0];return!(!q5(t,sc,ac,oc,w6)||(t=[1,0,0,0,1,0,0,0,1],!q5(t,sc,ac,oc,w6)))&&(S6.crossVectors(oo,co),t=[S6.x,S6.y,S6.z],q5(t,sc,ac,oc,w6))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,c1).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(c1).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(va[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),va[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),va[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),va[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),va[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),va[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),va[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),va[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(va)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const va=[new E,new E,new E,new E,new E,new E,new E,new E],c1=new E,$5=new rc,sc=new E,ac=new E,oc=new E,oo=new E,co=new E,l1=new E,c3=new E,w6=new E,S6=new E,d1=new E;function q5(n,e,t,i,r){for(let s=0,a=n.length-3;s<=a;s+=3){d1.fromArray(n,s);const o=r.x*Math.abs(d1.x)+r.y*Math.abs(d1.y)+r.z*Math.abs(d1.z),c=e.dot(d1),l=t.dot(d1),d=i.dot(d1);if(Math.max(-Math.max(c,l,d),Math.min(c,l,d))>o)return!1}return!0}const qQ=new rc,l3=new E,X5=new E;class cc{constructor(e=new E,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;void 0!==t?i.copy(t):qQ.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;l3.subVectors(e,this.center);const t=l3.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=.5*(i-this.radius);this.center.addScaledVector(l3,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(X5.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(l3.copy(e.center).add(X5)),this.expandByPoint(l3.copy(e.center).sub(X5))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const ba=new E,Y5=new E,D6=new E,lo=new E,K5=new E,E6=new E,Z5=new E;class T6{constructor(e=new E,t=new E(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ba)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ba.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ba.copy(this.origin).addScaledVector(this.direction,t),ba.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Y5.copy(e).add(t).multiplyScalar(.5),D6.copy(t).sub(e).normalize(),lo.copy(this.origin).sub(Y5);const s=.5*e.distanceTo(t),a=-this.direction.dot(D6),o=lo.dot(this.direction),c=-lo.dot(D6),l=lo.lengthSq(),d=Math.abs(1-a*a);let u,f,h,p;if(d>0)if(u=a*c-o,f=a*o-c,p=s*d,u>=0)if(f>=-p)if(f<=p){const m=1/d;u*=m,f*=m,h=u*(u+a*f+2*o)+f*(a*u+f+2*c)+l}else f=s,u=Math.max(0,-(a*f+o)),h=-u*u+f*(f+2*c)+l;else f=-s,u=Math.max(0,-(a*f+o)),h=-u*u+f*(f+2*c)+l;else f<=-p?(u=Math.max(0,-(-a*s+o)),f=u>0?-s:Math.min(Math.max(-s,-c),s),h=-u*u+f*(f+2*c)+l):f<=p?(u=0,f=Math.min(Math.max(-s,-c),s),h=f*(f+2*c)+l):(u=Math.max(0,-(a*s+o)),f=u>0?s:Math.min(Math.max(-s,-c),s),h=-u*u+f*(f+2*c)+l);else f=a>0?-s:s,u=Math.max(0,-(a*f+o)),h=-u*u+f*(f+2*c)+l;return i&&i.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(Y5).addScaledVector(D6,f),h}intersectSphere(e,t){ba.subVectors(e.center,this.origin);const i=ba.dot(this.direction),r=ba.dot(ba)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=i-a,c=i+a;return c<0?null:this.at(o<0?c:o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return null===i?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,a,o,c;const l=1/this.direction.x,d=1/this.direction.y,u=1/this.direction.z,f=this.origin;return l>=0?(i=(e.min.x-f.x)*l,r=(e.max.x-f.x)*l):(i=(e.max.x-f.x)*l,r=(e.min.x-f.x)*l),d>=0?(s=(e.min.y-f.y)*d,a=(e.max.y-f.y)*d):(s=(e.max.y-f.y)*d,a=(e.min.y-f.y)*d),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),u>=0?(o=(e.min.z-f.z)*u,c=(e.max.z-f.z)*u):(o=(e.max.z-f.z)*u,c=(e.min.z-f.z)*u),i>c||o>r)||((o>i||i!=i)&&(i=o),(c<r||r!=r)&&(r=c),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return null!==this.intersectBox(e,ba)}intersectTriangle(e,t,i,r,s){K5.subVectors(t,e),E6.subVectors(i,e),Z5.crossVectors(K5,E6);let o,a=this.direction.dot(Z5);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}lo.subVectors(this.origin,e);const c=o*this.direction.dot(E6.crossVectors(lo,E6));if(c<0)return null;const l=o*this.direction.dot(K5.cross(lo));if(l<0||c+l>a)return null;const d=-o*lo.dot(Z5);return d<0?null:this.at(d/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class St{constructor(){St.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,a,o,c,l,d,u,f,h,p,m,g){const v=this.elements;return v[0]=e,v[4]=t,v[8]=i,v[12]=r,v[1]=s,v[5]=a,v[9]=o,v[13]=c,v[2]=l,v[6]=d,v[10]=u,v[14]=f,v[3]=h,v[7]=p,v[11]=m,v[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new St).fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/lc.setFromMatrixColumn(e,0).length(),s=1/lc.setFromMatrixColumn(e,1).length(),a=1/lc.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),c=Math.cos(r),l=Math.sin(r),d=Math.cos(s),u=Math.sin(s);if("XYZ"===e.order){const f=a*d,h=a*u,p=o*d,m=o*u;t[0]=c*d,t[4]=-c*u,t[8]=l,t[1]=h+p*l,t[5]=f-m*l,t[9]=-o*c,t[2]=m-f*l,t[6]=p+h*l,t[10]=a*c}else if("YXZ"===e.order){const f=c*d,h=c*u,p=l*d,m=l*u;t[0]=f+m*o,t[4]=p*o-h,t[8]=a*l,t[1]=a*u,t[5]=a*d,t[9]=-o,t[2]=h*o-p,t[6]=m+f*o,t[10]=a*c}else if("ZXY"===e.order){const f=c*d,h=c*u,p=l*d,m=l*u;t[0]=f-m*o,t[4]=-a*u,t[8]=p+h*o,t[1]=h+p*o,t[5]=a*d,t[9]=m-f*o,t[2]=-a*l,t[6]=o,t[10]=a*c}else if("ZYX"===e.order){const f=a*d,h=a*u,p=o*d,m=o*u;t[0]=c*d,t[4]=p*l-h,t[8]=f*l+m,t[1]=c*u,t[5]=m*l+f,t[9]=h*l-p,t[2]=-l,t[6]=o*c,t[10]=a*c}else if("YZX"===e.order){const f=a*c,h=a*l,p=o*c,m=o*l;t[0]=c*d,t[4]=m-f*u,t[8]=p*u+h,t[1]=u,t[5]=a*d,t[9]=-o*d,t[2]=-l*d,t[6]=h*u+p,t[10]=f-m*u}else if("XZY"===e.order){const f=a*c,h=a*l,p=o*c,m=o*l;t[0]=c*d,t[4]=-u,t[8]=l*d,t[1]=f*u+m,t[5]=a*d,t[9]=h*u-p,t[2]=p*u-h,t[6]=o*d,t[10]=m*u+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(XQ,e,YQ)}lookAt(e,t,i){const r=this.elements;return Rr.subVectors(e,t),0===Rr.lengthSq()&&(Rr.z=1),Rr.normalize(),uo.crossVectors(i,Rr),0===uo.lengthSq()&&(1===Math.abs(i.z)?Rr.x+=1e-4:Rr.z+=1e-4,Rr.normalize(),uo.crossVectors(i,Rr)),uo.normalize(),A6.crossVectors(Rr,uo),r[0]=uo.x,r[4]=A6.x,r[8]=Rr.x,r[1]=uo.y,r[5]=A6.y,r[9]=Rr.y,r[2]=uo.z,r[6]=A6.z,r[10]=Rr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[4],c=i[8],l=i[12],d=i[1],u=i[5],f=i[9],h=i[13],p=i[2],m=i[6],g=i[10],v=i[14],b=i[3],_=i[7],y=i[11],M=i[15],C=r[0],V=r[4],x=r[8],S=r[12],H=r[1],$=r[5],J=r[9],F=r[13],k=r[2],K=r[6],R=r[10],q=r[14],N=r[3],X=r[7],ie=r[11],be=r[15];return s[0]=a*C+o*H+c*k+l*N,s[4]=a*V+o*$+c*K+l*X,s[8]=a*x+o*J+c*R+l*ie,s[12]=a*S+o*F+c*q+l*be,s[1]=d*C+u*H+f*k+h*N,s[5]=d*V+u*$+f*K+h*X,s[9]=d*x+u*J+f*R+h*ie,s[13]=d*S+u*F+f*q+h*be,s[2]=p*C+m*H+g*k+v*N,s[6]=p*V+m*$+g*K+v*X,s[10]=p*x+m*J+g*R+v*ie,s[14]=p*S+m*F+g*q+v*be,s[3]=b*C+_*H+y*k+M*N,s[7]=b*V+_*$+y*K+M*X,s[11]=b*x+_*J+y*R+M*ie,s[15]=b*S+_*F+y*q+M*be,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],a=e[1],o=e[5],c=e[9],l=e[13],d=e[2],u=e[6],f=e[10],h=e[14];return e[3]*(+s*c*u-r*l*u-s*o*f+i*l*f+r*o*h-i*c*h)+e[7]*(+t*c*h-t*l*f+s*a*f-r*a*h+r*l*d-s*c*d)+e[11]*(+t*l*u-t*o*h-s*a*u+i*a*h+s*o*d-i*l*d)+e[15]*(-r*o*d-t*c*u+t*o*f+r*a*u-i*a*f+i*c*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],c=e[6],l=e[7],d=e[8],u=e[9],f=e[10],h=e[11],p=e[12],m=e[13],g=e[14],v=e[15],b=u*g*l-m*f*l+m*c*h-o*g*h-u*c*v+o*f*v,_=p*f*l-d*g*l-p*c*h+a*g*h+d*c*v-a*f*v,y=d*m*l-p*u*l+p*o*h-a*m*h-d*o*v+a*u*v,M=p*u*c-d*m*c-p*o*f+a*m*f+d*o*g-a*u*g,C=t*b+i*_+r*y+s*M;if(0===C)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const V=1/C;return e[0]=b*V,e[1]=(m*f*s-u*g*s-m*r*h+i*g*h+u*r*v-i*f*v)*V,e[2]=(o*g*s-m*c*s+m*r*l-i*g*l-o*r*v+i*c*v)*V,e[3]=(u*c*s-o*f*s-u*r*l+i*f*l+o*r*h-i*c*h)*V,e[4]=_*V,e[5]=(d*g*s-p*f*s+p*r*h-t*g*h-d*r*v+t*f*v)*V,e[6]=(p*c*s-a*g*s-p*r*l+t*g*l+a*r*v-t*c*v)*V,e[7]=(a*f*s-d*c*s+d*r*l-t*f*l-a*r*h+t*c*h)*V,e[8]=y*V,e[9]=(p*u*s-d*m*s-p*i*h+t*m*h+d*i*v-t*u*v)*V,e[10]=(a*m*s-p*o*s+p*i*l-t*m*l-a*i*v+t*o*v)*V,e[11]=(d*o*s-a*u*s-d*i*l+t*u*l+a*i*h-t*o*h)*V,e[12]=M*V,e[13]=(d*m*r-p*u*r+p*i*f-t*m*f-d*i*g+t*u*g)*V,e[14]=(p*o*r-a*m*r-p*i*c+t*m*c+a*i*g-t*o*g)*V,e[15]=(a*u*r-d*o*r+d*i*c-t*u*c-a*i*f+t*o*f)*V,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,a=e.x,o=e.y,c=e.z,l=s*a,d=s*o;return this.set(l*a+i,l*o-r*c,l*c+r*o,0,l*o+r*c,d*o+i,d*c-r*a,0,l*c-r*o,d*c+r*a,s*c*c+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,a=t._y,o=t._z,c=t._w,l=s+s,d=a+a,u=o+o,f=s*l,h=s*d,p=s*u,m=a*d,g=a*u,v=o*u,b=c*l,_=c*d,y=c*u,M=i.x,C=i.y,V=i.z;return r[0]=(1-(m+v))*M,r[1]=(h+y)*M,r[2]=(p-_)*M,r[3]=0,r[4]=(h-y)*C,r[5]=(1-(f+v))*C,r[6]=(g+b)*C,r[7]=0,r[8]=(p+_)*V,r[9]=(g-b)*V,r[10]=(1-(f+m))*V,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=lc.set(r[0],r[1],r[2]).length();const a=lc.set(r[4],r[5],r[6]).length(),o=lc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Ms.copy(this);const l=1/s,d=1/a,u=1/o;return Ms.elements[0]*=l,Ms.elements[1]*=l,Ms.elements[2]*=l,Ms.elements[4]*=d,Ms.elements[5]*=d,Ms.elements[6]*=d,Ms.elements[8]*=u,Ms.elements[9]*=u,Ms.elements[10]*=u,t.setFromRotationMatrix(Ms),i.x=s,i.y=a,i.z=o,this}makePerspective(e,t,i,r,s,a){const o=this.elements,l=2*s/(i-r),d=(t+e)/(t-e),u=(i+r)/(i-r),f=-(a+s)/(a-s),h=-2*a*s/(a-s);return o[0]=2*s/(t-e),o[4]=0,o[8]=d,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,i,r,s,a){const o=this.elements,c=1/(t-e),l=1/(i-r),d=1/(a-s),u=(t+e)*c,f=(i+r)*l,h=(a+s)*d;return o[0]=2*c,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*d,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const lc=new E,Ms=new St,XQ=new E(0,0,0),YQ=new E(1,1,1),uo=new E,A6=new E,Rr=new E,Iw=new St,kw=new or;let KQ=(()=>{class n{constructor(t=0,i=0,r=0,s=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=i,this._z=r,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,r,s=this._order){return this._x=t,this._y=i,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,r=!0){const s=t.elements,a=s[0],o=s[4],c=s[8],l=s[1],d=s[5],u=s[9],f=s[2],h=s[6],p=s[10];switch(i){case"XYZ":this._y=Math.asin(ei(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,d),this._z=0);break;case"YXZ":this._x=Math.asin(-ei(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(c,p),this._z=Math.atan2(l,d)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(ei(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-ei(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(ei(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,d),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(c,p));break;case"XZY":this._z=Math.asin(-ei(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,d),this._y=Math.atan2(c,a)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===r&&this._onChangeCallback(),this}setFromQuaternion(t,i,r){return Iw.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Iw,i,r)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return kw.setFromEuler(this),this.setFromQuaternion(kw,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class Q5{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let ZQ=0;const Rw=new E,dc=new or,ya=new St,L6=new E,d3=new E,QQ=new E,JQ=new or,Nw=new E(1,0,0),Pw=new E(0,1,0),Fw=new E(0,0,1),eJ={type:"added"},Ow={type:"removed"};let Nr=(()=>{class n extends s1{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ZQ++}),this.uuid=kr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new E,i=new KQ,r=new or,s=new E(1,1,1);i._onChange(function a(){r.setFromEuler(i,!1)}),r._onChange(function o(){i.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new St},normalMatrix:{value:new Gi}}),this.matrix=new St,this.matrixWorld=new St,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Q5,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return dc.setFromAxisAngle(t,i),this.quaternion.multiply(dc),this}rotateOnWorldAxis(t,i){return dc.setFromAxisAngle(t,i),this.quaternion.premultiply(dc),this}rotateX(t){return this.rotateOnAxis(Nw,t)}rotateY(t){return this.rotateOnAxis(Pw,t)}rotateZ(t){return this.rotateOnAxis(Fw,t)}translateOnAxis(t,i){return Rw.copy(t).applyQuaternion(this.quaternion),this.position.add(Rw.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(Nw,t)}translateY(t){return this.translateOnAxis(Pw,t)}translateZ(t){return this.translateOnAxis(Fw,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(ya.copy(this.matrixWorld).invert())}lookAt(t,i,r){t.isVector3?L6.copy(t):L6.set(t,i,r);const s=this.parent;this.updateWorldMatrix(!0,!1),d3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ya.lookAt(d3,L6,this.up):ya.lookAt(L6,d3,this.up),this.quaternion.setFromRotationMatrix(ya),s&&(ya.extractRotation(s.matrixWorld),dc.setFromRotationMatrix(ya),this.quaternion.premultiply(dc.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(eJ)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(t);return-1!==i&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(Ow)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const i=this.children[t];i.parent=null,i.dispatchEvent(Ow)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),ya.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),ya.multiply(t.parent.matrixWorld)),t.applyMatrix4(ya),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectByProperty(t,i);if(void 0!==o)return o}}getObjectsByProperty(t,i){let r=[];this[t]===i&&r.push(this);for(let s=0,a=this.children.length;s<a;s++){const o=this.children[s].getObjectsByProperty(t,i);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(d3,t,QQ),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(d3,JQ,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverseVisible(t)}traverseAncestors(t){const i=this.parent;null!==i&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let r=0,s=i.length;r<s;r++){const a=i[r];(!0===a.matrixWorldAutoUpdate||!0===t)&&a.updateMatrixWorld(t)}}updateWorldMatrix(t,i){const r=this.parent;if(!0===t&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===i){const s=this.children;for(let a=0,o=s.length;a<o;a++){const c=s[a];!0===c.matrixWorldAutoUpdate&&c.updateWorldMatrix(!1,!0)}}}toJSON(t){const i=void 0===t||"string"==typeof t,r={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const s={};function a(c,l){return void 0===c[l.uuid]&&(c[l.uuid]=l.toJSON(t)),l.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=a(t.geometries,this.geometry);const c=this.geometry.parameters;if(void 0!==c&&void 0!==c.shapes){const l=c.shapes;if(Array.isArray(l))for(let d=0,u=l.length;d<u;d++)a(t.shapes,l[d]);else a(t.shapes,l)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(a(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const c=[];for(let l=0,d=this.material.length;l<d;l++)c.push(a(t.materials,this.material[l]));s.material=c}else s.material=a(t.materials,this.material);if(this.children.length>0){s.children=[];for(let c=0;c<this.children.length;c++)s.children.push(this.children[c].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let c=0;c<this.animations.length;c++)s.animations.push(a(t.animations,this.animations[c]))}if(i){const c=o(t.geometries),l=o(t.materials),d=o(t.textures),u=o(t.images),f=o(t.shapes),h=o(t.skeletons),p=o(t.animations),m=o(t.nodes);c.length>0&&(r.geometries=c),l.length>0&&(r.materials=l),d.length>0&&(r.textures=d),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),p.length>0&&(r.animations=p),m.length>0&&(r.nodes=m)}return r.object=s,r;function o(c){const l=[];for(const d in c){const u=c[d];delete u.metadata,l.push(u)}return l}}clone(t){return(new this.constructor).copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===i)for(let r=0;r<t.children.length;r++)this.add(t.children[r].clone());return this}}return n.DEFAULT_UP=new E(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const Cs=new E,xa=new E,J5=new E,Ma=new E,uc=new E,fc=new E,Bw=new E,ep=new E,tp=new E,np=new E;class ws{constructor(e=new E,t=new E,i=new E){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Cs.subVectors(e,t),r.cross(Cs);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Cs.subVectors(r,t),xa.subVectors(i,t),J5.subVectors(e,t);const a=Cs.dot(Cs),o=Cs.dot(xa),c=Cs.dot(J5),l=xa.dot(xa),d=xa.dot(J5),u=a*l-o*o;if(0===u)return s.set(-2,-1,-1);const f=1/u,h=(l*c-o*d)*f,p=(a*d-o*c)*f;return s.set(1-h-p,p,h)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Ma),Ma.x>=0&&Ma.y>=0&&Ma.x+Ma.y<=1}static getUV(e,t,i,r,s,a,o,c){return this.getBarycoord(e,t,i,r,Ma),c.set(0,0),c.addScaledVector(s,Ma.x),c.addScaledVector(a,Ma.y),c.addScaledVector(o,Ma.z),c}static isFrontFacing(e,t,i,r){return Cs.subVectors(i,t),xa.subVectors(e,t),Cs.cross(xa).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Cs.subVectors(this.c,this.b),xa.subVectors(this.a,this.b),.5*Cs.cross(xa).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ws.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ws.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return ws.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return ws.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ws.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let a,o;uc.subVectors(r,i),fc.subVectors(s,i),ep.subVectors(e,i);const c=uc.dot(ep),l=fc.dot(ep);if(c<=0&&l<=0)return t.copy(i);tp.subVectors(e,r);const d=uc.dot(tp),u=fc.dot(tp);if(d>=0&&u<=d)return t.copy(r);const f=c*u-d*l;if(f<=0&&c>=0&&d<=0)return a=c/(c-d),t.copy(i).addScaledVector(uc,a);np.subVectors(e,s);const h=uc.dot(np),p=fc.dot(np);if(p>=0&&h<=p)return t.copy(s);const m=h*l-c*p;if(m<=0&&l>=0&&p<=0)return o=l/(l-p),t.copy(i).addScaledVector(fc,o);const g=d*p-h*u;if(g<=0&&u-d>=0&&h-p>=0)return Bw.subVectors(s,r),o=(u-d)/(u-d+(h-p)),t.copy(r).addScaledVector(Bw,o);const v=1/(g+m+f);return a=m*v,o=f*v,t.copy(i).addScaledVector(uc,a).addScaledVector(fc,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let tJ=0;class u1 extends s1{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:tJ++}),this.uuid=kr(),this.name="",this.type="Material",this.blending=X2,this.side=to,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=ZC,this.blendDst=QC,this.blendEquation=Y2,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=E5,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const i=e[t];if(void 0===i){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(s){const a=[];for(const o in s){const c=s[o];delete c.metadata,a.push(c)}return a}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==X2&&(i.blending=this.blending),this.side!==to&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(i.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),t){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(null!==t){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}const Uw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ss={h:0,s:0,l:0},V6={h:0,s:0,l:0};function ip(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class Re{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===t&&void 0===i?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ws){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,cr.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=cr.workingColorSpace){return this.r=e,this.g=t,this.b=i,cr.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=cr.workingColorSpace){if(e=function F5(n,e){return(n%e+e)%e}(e,1),t=ei(t,0,1),i=ei(i,0,1),0===t)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,a=2*i-s;this.r=ip(a,s,e+1/3),this.g=ip(a,s,e),this.b=ip(a,s,e-1/3)}return cr.toWorkingColorSpace(this,r),this}setStyle(e,t=Ws){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[2];switch(r[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,cr.toWorkingColorSpace(this,t),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,cr.toWorkingColorSpace(this,t),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){const c=parseFloat(s[1])/360,l=parseFloat(s[2])/100,d=parseFloat(s[3])/100;return i(s[4]),this.setHSL(c,l,d,t)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(3===a)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,cr.toWorkingColorSpace(this,t),this;if(6===a)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,cr.toWorkingColorSpace(this,t),this;console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ws){const i=Uw[e.toLowerCase()];return void 0!==i?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=tc(e.r),this.g=tc(e.g),this.b=tc(e.b),this}copyLinearToSRGB(e){return this.r=G5(e.r),this.g=G5(e.g),this.b=G5(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ws){return cr.fromWorkingColorSpace(Wi.copy(this),e),ei(255*Wi.r,0,255)<<16^ei(255*Wi.g,0,255)<<8^ei(255*Wi.b,0,255)<<0}getHexString(e=Ws){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=cr.workingColorSpace){cr.fromWorkingColorSpace(Wi.copy(this),t);const i=Wi.r,r=Wi.g,s=Wi.b,a=Math.max(i,r,s),o=Math.min(i,r,s);let c,l;const d=(o+a)/2;if(o===a)c=0,l=0;else{const u=a-o;switch(l=d<=.5?u/(a+o):u/(2-a-o),a){case i:c=(r-s)/u+(r<s?6:0);break;case r:c=(s-i)/u+2;break;case s:c=(i-r)/u+4}c/=6}return e.h=c,e.s=l,e.l=d,e}getRGB(e,t=cr.workingColorSpace){return cr.fromWorkingColorSpace(Wi.copy(this),t),e.r=Wi.r,e.g=Wi.g,e.b=Wi.b,e}getStyle(e=Ws){cr.fromWorkingColorSpace(Wi.copy(this),e);const t=Wi.r,i=Wi.g,r=Wi.b;return e!==Ws?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${255*t|0},${255*i|0},${255*r|0})`}offsetHSL(e,t,i){return this.getHSL(Ss),Ss.h+=e,Ss.s+=t,Ss.l+=i,this.setHSL(Ss.h,Ss.s,Ss.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Ss),e.getHSL(V6);const i=a3(Ss.h,V6.h,t),r=a3(Ss.s,V6.s,t),s=a3(Ss.l,V6.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Wi=new Re;Re.NAMES=Uw;class f1 extends u1{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Re(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=p6,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ui=new E,z6=new ne;class Di{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,i=this.count;t<i;t++)z6.fromBufferAttribute(this,t),z6.applyMatrix3(e),this.setXY(t,z6.x,z6.y);else if(3===this.itemSize)for(let t=0,i=this.count;t<i;t++)ui.fromBufferAttribute(this,t),ui.applyMatrix3(e),this.setXYZ(t,ui.x,ui.y,ui.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)ui.fromBufferAttribute(this,t),ui.applyMatrix4(e),this.setXYZ(t,ui.x,ui.y,ui.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ui.fromBufferAttribute(this,t),ui.applyNormalMatrix(e),this.setXYZ(t,ui.x,ui.y,ui.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ui.fromBufferAttribute(this,t),ui.transformDirection(e),this.setXYZ(t,ui.x,ui.y,ui.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=_a(t,this.array)),t}setX(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=_a(t,this.array)),t}setY(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=_a(t,this.array)),t}setZ(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=_a(t,this.array)),t}setW(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=vn(t,this.array),i=vn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=vn(t,this.array),i=vn(i,this.array),r=vn(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=vn(t,this.array),i=vn(i,this.array),r=vn(r,this.array),s=vn(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Gw extends Di{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Ww extends Di{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Oe extends Di{constructor(e,t,i){super(new Float32Array(e),t,i)}}let nJ=0;const rs=new St,rp=new Nr,hc=new E,Pr=new rc,u3=new rc,Ei=new E;class Lt extends s1{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:nJ++}),this.uuid=kr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(Lw(e)?Ww:Gw)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const s=(new Gi).getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return rs.makeRotationFromQuaternion(e),this.applyMatrix4(rs),this}rotateX(e){return rs.makeRotationX(e),this.applyMatrix4(rs),this}rotateY(e){return rs.makeRotationY(e),this.applyMatrix4(rs),this}rotateZ(e){return rs.makeRotationZ(e),this.applyMatrix4(rs),this}translate(e,t,i){return rs.makeTranslation(e,t,i),this.applyMatrix4(rs),this}scale(e,t,i){return rs.makeScale(e,t,i),this.applyMatrix4(rs),this}lookAt(e){return rp.lookAt(e),rp.updateMatrix(),this.applyMatrix4(rp.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(hc).negate(),this.translate(hc.x,hc.y,hc.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Oe(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new rc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new E(-1/0,-1/0,-1/0),new E(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++)Pr.setFromBufferAttribute(t[i]),this.morphTargetsRelative?(Ei.addVectors(this.boundingBox.min,Pr.min),this.boundingBox.expandByPoint(Ei),Ei.addVectors(this.boundingBox.max,Pr.max),this.boundingBox.expandByPoint(Ei)):(this.boundingBox.expandByPoint(Pr.min),this.boundingBox.expandByPoint(Pr.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new cc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new E,1/0);if(e){const i=this.boundingSphere.center;if(Pr.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++)u3.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(Ei.addVectors(Pr.min,u3.min),Pr.expandByPoint(Ei),Ei.addVectors(Pr.max,u3.max),Pr.expandByPoint(Ei)):(Pr.expandByPoint(u3.min),Pr.expandByPoint(u3.max));Pr.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)Ei.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Ei));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],c=this.morphTargetsRelative;for(let l=0,d=o.count;l<d;l++)Ei.fromBufferAttribute(o,l),c&&(hc.fromBufferAttribute(e,l),Ei.add(hc)),r=Math.max(r,i.distanceToSquared(Ei))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=e.array,r=t.position.array,s=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Di(new Float32Array(4*o),4));const c=this.getAttribute("tangent").array,l=[],d=[];for(let H=0;H<o;H++)l[H]=new E,d[H]=new E;const u=new E,f=new E,h=new E,p=new ne,m=new ne,g=new ne,v=new E,b=new E;function _(H,$,J){u.fromArray(r,3*H),f.fromArray(r,3*$),h.fromArray(r,3*J),p.fromArray(a,2*H),m.fromArray(a,2*$),g.fromArray(a,2*J),f.sub(u),h.sub(u),m.sub(p),g.sub(p);const F=1/(m.x*g.y-g.x*m.y);isFinite(F)&&(v.copy(f).multiplyScalar(g.y).addScaledVector(h,-m.y).multiplyScalar(F),b.copy(h).multiplyScalar(m.x).addScaledVector(f,-g.x).multiplyScalar(F),l[H].add(v),l[$].add(v),l[J].add(v),d[H].add(b),d[$].add(b),d[J].add(b))}let y=this.groups;0===y.length&&(y=[{start:0,count:i.length}]);for(let H=0,$=y.length;H<$;++H){const J=y[H],F=J.start;for(let K=F,R=F+J.count;K<R;K+=3)_(i[K+0],i[K+1],i[K+2])}const M=new E,C=new E,V=new E,x=new E;function S(H){V.fromArray(s,3*H),x.copy(V);const $=l[H];M.copy($),M.sub(V.multiplyScalar(V.dot($))).normalize(),C.crossVectors(x,$);const F=C.dot(d[H])<0?-1:1;c[4*H]=M.x,c[4*H+1]=M.y,c[4*H+2]=M.z,c[4*H+3]=F}for(let H=0,$=y.length;H<$;++H){const J=y[H],F=J.start;for(let K=F,R=F+J.count;K<R;K+=3)S(i[K+0]),S(i[K+1]),S(i[K+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let i=this.getAttribute("normal");if(void 0===i)i=new Di(new Float32Array(3*t.count),3),this.setAttribute("normal",i);else for(let f=0,h=i.count;f<h;f++)i.setXYZ(f,0,0,0);const r=new E,s=new E,a=new E,o=new E,c=new E,l=new E,d=new E,u=new E;if(e)for(let f=0,h=e.count;f<h;f+=3){const p=e.getX(f+0),m=e.getX(f+1),g=e.getX(f+2);r.fromBufferAttribute(t,p),s.fromBufferAttribute(t,m),a.fromBufferAttribute(t,g),d.subVectors(a,s),u.subVectors(r,s),d.cross(u),o.fromBufferAttribute(i,p),c.fromBufferAttribute(i,m),l.fromBufferAttribute(i,g),o.add(d),c.add(d),l.add(d),i.setXYZ(p,o.x,o.y,o.z),i.setXYZ(m,c.x,c.y,c.z),i.setXYZ(g,l.x,l.y,l.z)}else for(let f=0,h=t.count;f<h;f+=3)r.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),a.fromBufferAttribute(t,f+2),d.subVectors(a,s),u.subVectors(r,s),d.cross(u),i.setXYZ(f+0,d.x,d.y,d.z),i.setXYZ(f+1,d.x,d.y,d.z),i.setXYZ(f+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Ei.fromBufferAttribute(e,t),Ei.normalize(),e.setXYZ(t,Ei.x,Ei.y,Ei.z)}toNonIndexed(){function e(o,c){const l=o.array,d=o.itemSize,u=o.normalized,f=new l.constructor(c.length*d);let h=0,p=0;for(let m=0,g=c.length;m<g;m++){h=o.isInterleavedBufferAttribute?c[m]*o.data.stride+o.offset:c[m]*d;for(let v=0;v<d;v++)f[p++]=l[h++]}return new Di(f,d,u)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Lt,i=this.index.array,r=this.attributes;for(const o in r){const l=e(r[o],i);t.setAttribute(o,l)}const s=this.morphAttributes;for(const o in s){const c=[],l=s[o];for(let d=0,u=l.length;d<u;d++){const h=e(l[d],i);c.push(h)}t.morphAttributes[o]=c}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,c=a.length;o<c;o++){const l=a[o];t.addGroup(l.start,l.count,l.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const c=this.parameters;for(const l in c)void 0!==c[l]&&(e[l]=c[l]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const c in i)e.data.attributes[c]=i[c].toJSON(e.data);const r={};let s=!1;for(const c in this.morphAttributes){const l=this.morphAttributes[c],d=[];for(let u=0,f=l.length;u<f;u++)d.push(l[u].toJSON(e.data));d.length>0&&(r[c]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;null!==i&&this.setIndex(i.clone(t));const r=e.attributes;for(const l in r)this.setAttribute(l,r[l].clone(t));const s=e.morphAttributes;for(const l in s){const d=[],u=s[l];for(let f=0,h=u.length;f<h;f++)d.push(u[f].clone(t));this.morphAttributes[l]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let l=0,d=a.length;l<d;l++){const u=a[l];this.addGroup(u.start,u.count,u.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const c=e.boundingSphere;return null!==c&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const jw=new St,js=new T6,H6=new cc,$w=new E,f3=new E,h3=new E,p3=new E,sp=new E,I6=new E,k6=new ne,R6=new ne,N6=new ne,ap=new E,P6=new E;class ji extends Nr{constructor(e=new Lt,t=new f1){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const i=this.geometry,s=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(i.attributes.position,e);const o=this.morphTargetInfluences;if(s&&o){I6.set(0,0,0);for(let c=0,l=s.length;c<l;c++){const d=o[c];0!==d&&(sp.fromBufferAttribute(s[c],e),I6.addScaledVector(a?sp:sp.sub(t),d))}t.add(I6)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(void 0===r||(null===i.boundingSphere&&i.computeBoundingSphere(),H6.copy(i.boundingSphere),H6.applyMatrix4(s),js.copy(e.ray).recast(e.near),!1===H6.containsPoint(js.origin)&&(null===js.intersectSphere(H6,$w)||js.origin.distanceToSquared($w)>(e.far-e.near)**2))||(jw.copy(s).invert(),js.copy(e.ray).applyMatrix4(jw),null!==i.boundingBox&&!1===js.intersectsBox(i.boundingBox)))return;let a;const o=i.index,c=i.attributes.position,l=i.attributes.uv,d=i.attributes.uv2,u=i.groups,f=i.drawRange;if(null!==o)if(Array.isArray(r))for(let h=0,p=u.length;h<p;h++){const m=u[h],g=r[m.materialIndex];for(let _=Math.max(m.start,f.start),y=Math.min(o.count,Math.min(m.start+m.count,f.start+f.count));_<y;_+=3){const M=o.getX(_),C=o.getX(_+1),V=o.getX(_+2);a=F6(this,g,e,js,l,d,M,C,V),a&&(a.faceIndex=Math.floor(_/3),a.face.materialIndex=m.materialIndex,t.push(a))}}else for(let m=Math.max(0,f.start),g=Math.min(o.count,f.start+f.count);m<g;m+=3){const v=o.getX(m),b=o.getX(m+1),_=o.getX(m+2);a=F6(this,r,e,js,l,d,v,b,_),a&&(a.faceIndex=Math.floor(m/3),t.push(a))}else if(void 0!==c)if(Array.isArray(r))for(let h=0,p=u.length;h<p;h++){const m=u[h],g=r[m.materialIndex];for(let _=Math.max(m.start,f.start),y=Math.min(c.count,Math.min(m.start+m.count,f.start+f.count));_<y;_+=3)a=F6(this,g,e,js,l,d,_,_+1,_+2),a&&(a.faceIndex=Math.floor(_/3),a.face.materialIndex=m.materialIndex,t.push(a))}else for(let m=Math.max(0,f.start),g=Math.min(c.count,f.start+f.count);m<g;m+=3)a=F6(this,r,e,js,l,d,m,m+1,m+2),a&&(a.faceIndex=Math.floor(m/3),t.push(a))}}function F6(n,e,t,i,r,s,a,o,c){n.getVertexPosition(a,f3),n.getVertexPosition(o,h3),n.getVertexPosition(c,p3);const l=function iJ(n,e,t,i,r,s,a,o){let c;if(c=e.side===Ir?i.intersectTriangle(a,s,r,!0,o):i.intersectTriangle(r,s,a,e.side===to,o),null===c)return null;P6.copy(o),P6.applyMatrix4(n.matrixWorld);const l=t.ray.origin.distanceTo(P6);return l<t.near||l>t.far?null:{distance:l,point:P6.clone(),object:n}}(n,e,t,i,f3,h3,p3,ap);if(l){r&&(k6.fromBufferAttribute(r,a),R6.fromBufferAttribute(r,o),N6.fromBufferAttribute(r,c),l.uv=ws.getUV(ap,f3,h3,p3,k6,R6,N6,new ne)),s&&(k6.fromBufferAttribute(s,a),R6.fromBufferAttribute(s,o),N6.fromBufferAttribute(s,c),l.uv2=ws.getUV(ap,f3,h3,p3,k6,R6,N6,new ne));const d={a,b:o,c,normal:new E,materialIndex:0};ws.getNormal(f3,h3,p3,d.normal),l.face=d}return l}class pc extends Lt{constructor(e=1,t=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const c=[],l=[],d=[],u=[];let f=0,h=0;function p(m,g,v,b,_,y,M,C,V,x,S){const H=y/V,$=M/x,J=y/2,F=M/2,k=C/2,K=V+1,R=x+1;let q=0,N=0;const X=new E;for(let ie=0;ie<R;ie++){const be=ie*$-F;for(let j=0;j<K;j++)X[m]=(j*H-J)*b,X[g]=be*_,X[v]=k,l.push(X.x,X.y,X.z),X[m]=0,X[g]=0,X[v]=C>0?1:-1,d.push(X.x,X.y,X.z),u.push(j/V),u.push(1-ie/x),q+=1}for(let ie=0;ie<x;ie++)for(let be=0;be<V;be++){const le=f+be+K*(ie+1),oe=f+(be+1)+K*(ie+1),G=f+(be+1)+K*ie;c.push(f+be+K*ie,le,G),c.push(le,oe,G),N+=6}o.addGroup(h,N,S),h+=N,f+=q}p("z","y","x",-1,-1,i,t,e,a,s,0),p("z","y","x",1,-1,i,t,-e,a,s,1),p("x","z","y",1,1,e,i,t,r,a,2),p("x","z","y",1,-1,e,i,-t,r,a,3),p("x","y","z",1,-1,e,t,i,r,s,4),p("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(c),this.setAttribute("position",new Oe(l,3)),this.setAttribute("normal",new Oe(d,3)),this.setAttribute("uv",new Oe(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function mc(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];e[t][i]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.clone():Array.isArray(r)?r.slice():r}}return e}function lr(n){const e={};for(let t=0;t<n.length;t++){const i=mc(n[t]);for(const r in i)e[r]=i[r]}return e}function qw(n){return null===n.getRenderTarget()&&n.outputEncoding===Tn?Ws:r3}const sJ={clone:mc,merge:lr};class fo extends u1{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=mc(e.uniforms),this.uniformsGroups=function rJ(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;t.uniforms[r]=a&&a.isTexture?{type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?{type:"c",value:a.getHex()}:a&&a.isVector2?{type:"v2",value:a.toArray()}:a&&a.isVector3?{type:"v3",value:a.toArray()}:a&&a.isVector4?{type:"v4",value:a.toArray()}:a&&a.isMatrix3?{type:"m3",value:a.toArray()}:a&&a.isMatrix4?{type:"m4",value:a.toArray()}:{value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)!0===this.extensions[r]&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class op extends Nr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new St,this.projectionMatrix=new St,this.projectionMatrixInverse=new St}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class ki extends op{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*s3*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*a1*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*s3*Math.atan(Math.tan(.5*a1*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*a1*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const a=this.view;if(null!==this.view&&this.view.enabled){const c=a.fullWidth,l=a.fullHeight;s+=a.offsetX*r/c,t-=a.offsetY*i/l,r*=a.width/c,i*=a.height/l}const o=this.filmOffset;0!==o&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class cJ extends Nr{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new ki(-90,1,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new ki(-90,1,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const a=new ki(-90,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(0,1,0),this.add(a);const o=new ki(-90,1,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(0,-1,0),this.add(o);const c=new ki(-90,1,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,1),this.add(c);const l=new ki(-90,1,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,-1),this.add(l)}update(e,t){null===this.parent&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,a,o,c,l]=this.children,d=e.getRenderTarget(),u=e.toneMapping,f=e.xr.enabled;e.toneMapping=ga,e.xr.enabled=!1;const h=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,a),e.setRenderTarget(i,3),e.render(t,o),e.setRenderTarget(i,4),e.render(t,c),i.texture.generateMipmaps=h,e.setRenderTarget(i,5),e.render(t,l),e.setRenderTarget(d),e.toneMapping=u,e.xr.enabled=f,i.texture.needsPMREMUpdate=!0}}class O6 extends ao{constructor(e,t,i,r,s,a,o,c,l,d){super(e=void 0!==e?e:[],t=void 0!==t?t:Ko,i,r,s,a,o,c,l,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class lJ extends o1{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1};this.texture=new O6([i,i,i,i,i,i],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:di}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new pc(5,5,5),s=new fo({name:"CubemapFromEquirect",uniforms:mc(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:Ir,blending:io});s.uniforms.tEquirect.value=t;const a=new ji(r,s),o=t.minFilter;return t.minFilter===Qo&&(t.minFilter=di),new cJ(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(s)}}const cp=new E,dJ=new E,uJ=new Gi;class h1{constructor(e=new E(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=cp.subVectors(i,t).cross(dJ.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(cp),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||uJ.getNormalMatrix(e),r=this.coplanarPoint(cp).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const vc=new cc,B6=new E;class lp{constructor(e=new h1,t=new h1,i=new h1,r=new h1,s=new h1,a=new h1){this.planes=[e,t,i,r,s,a]}set(e,t,i,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],a=i[2],o=i[3],c=i[4],l=i[5],d=i[6],u=i[7],f=i[8],h=i[9],p=i[10],m=i[11],g=i[12],v=i[13],b=i[14],_=i[15];return t[0].setComponents(o-r,u-c,m-f,_-g).normalize(),t[1].setComponents(o+r,u+c,m+f,_+g).normalize(),t[2].setComponents(o+s,u+l,m+h,_+v).normalize(),t[3].setComponents(o-s,u-l,m-h,_-v).normalize(),t[4].setComponents(o-a,u-d,m-p,_-b).normalize(),t[5].setComponents(o+a,u+d,m+p,_+b).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),vc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(vc)}intersectsSprite(e){return vc.center.set(0,0,0),vc.radius=.7071067811865476,vc.applyMatrix4(e.matrixWorld),this.intersectsSphere(vc)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(B6.x=r.normal.x>0?e.max.x:e.min.x,B6.y=r.normal.y>0?e.max.y:e.min.y,B6.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(B6)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Xw(){let n=null,e=!1,t=null,i=null;function r(s,a){t(s,a),i=n.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==t&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function fJ(n,e){const t=e.isWebGL2,i=new WeakMap;return{get:function a(l){return l.isInterleavedBufferAttribute&&(l=l.data),i.get(l)},remove:function o(l){l.isInterleavedBufferAttribute&&(l=l.data);const d=i.get(l);d&&(n.deleteBuffer(d.buffer),i.delete(l))},update:function c(l,d){if(l.isGLBufferAttribute){const f=i.get(l);return void((!f||f.version<l.version)&&i.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version}))}l.isInterleavedBufferAttribute&&(l=l.data);const u=i.get(l);void 0===u?i.set(l,function r(l,d){const u=l.array,f=l.usage,h=n.createBuffer();let p;if(n.bindBuffer(d,h),n.bufferData(d,u,f),l.onUploadCallback(),u instanceof Float32Array)p=5126;else if(u instanceof Uint16Array)if(l.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");p=5131}else p=5123;else if(u instanceof Int16Array)p=5122;else if(u instanceof Uint32Array)p=5125;else if(u instanceof Int32Array)p=5124;else if(u instanceof Int8Array)p=5120;else if(u instanceof Uint8Array)p=5121;else{if(!(u instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);p=5121}return{buffer:h,type:p,bytesPerElement:u.BYTES_PER_ELEMENT,version:l.version}}(l,d)):u.version<l.version&&(function s(l,d,u){const f=d.array,h=d.updateRange;n.bindBuffer(u,l),-1===h.count?n.bufferSubData(u,0,f):(t?n.bufferSubData(u,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):n.bufferSubData(u,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1),d.onUploadCallback()}(u.buffer,l,d),u.version=l.version)}}}class U6 extends Lt{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,a=t/2,o=Math.floor(i),c=Math.floor(r),l=o+1,d=c+1,u=e/o,f=t/c,h=[],p=[],m=[],g=[];for(let v=0;v<d;v++){const b=v*f-a;for(let _=0;_<l;_++)p.push(_*u-s,-b,0),m.push(0,0,1),g.push(_/o),g.push(1-v/c)}for(let v=0;v<c;v++)for(let b=0;b<o;b++){const y=b+l*(v+1),M=b+1+l*(v+1),C=b+1+l*v;h.push(b+l*v,y,C),h.push(y,M,C)}this.setIndex(h),this.setAttribute("position",new Oe(p,3)),this.setAttribute("normal",new Oe(m,3)),this.setAttribute("uv",new Oe(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new U6(e.width,e.height,e.widthSegments,e.heightSegments)}}const Et={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\t\n\t\tvec2 lodFudge = pow( 1.95, lod ) / fullSize;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec2 fullSize = vec2( textureSize( sampler, 0 ) );\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},ye={common:{diffuse:{value:new Re(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Gi},uv2Transform:{value:new Gi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ne(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Re(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Re(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Gi}},sprite:{diffuse:{value:new Re(16777215)},opacity:{value:1},center:{value:new ne(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Gi}}},$s={basic:{uniforms:lr([ye.common,ye.specularmap,ye.envmap,ye.aomap,ye.lightmap,ye.fog]),vertexShader:Et.meshbasic_vert,fragmentShader:Et.meshbasic_frag},lambert:{uniforms:lr([ye.common,ye.specularmap,ye.envmap,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.fog,ye.lights,{emissive:{value:new Re(0)}}]),vertexShader:Et.meshlambert_vert,fragmentShader:Et.meshlambert_frag},phong:{uniforms:lr([ye.common,ye.specularmap,ye.envmap,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.fog,ye.lights,{emissive:{value:new Re(0)},specular:{value:new Re(1118481)},shininess:{value:30}}]),vertexShader:Et.meshphong_vert,fragmentShader:Et.meshphong_frag},standard:{uniforms:lr([ye.common,ye.envmap,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.roughnessmap,ye.metalnessmap,ye.fog,ye.lights,{emissive:{value:new Re(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Et.meshphysical_vert,fragmentShader:Et.meshphysical_frag},toon:{uniforms:lr([ye.common,ye.aomap,ye.lightmap,ye.emissivemap,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.gradientmap,ye.fog,ye.lights,{emissive:{value:new Re(0)}}]),vertexShader:Et.meshtoon_vert,fragmentShader:Et.meshtoon_frag},matcap:{uniforms:lr([ye.common,ye.bumpmap,ye.normalmap,ye.displacementmap,ye.fog,{matcap:{value:null}}]),vertexShader:Et.meshmatcap_vert,fragmentShader:Et.meshmatcap_frag},points:{uniforms:lr([ye.points,ye.fog]),vertexShader:Et.points_vert,fragmentShader:Et.points_frag},dashed:{uniforms:lr([ye.common,ye.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Et.linedashed_vert,fragmentShader:Et.linedashed_frag},depth:{uniforms:lr([ye.common,ye.displacementmap]),vertexShader:Et.depth_vert,fragmentShader:Et.depth_frag},normal:{uniforms:lr([ye.common,ye.bumpmap,ye.normalmap,ye.displacementmap,{opacity:{value:1}}]),vertexShader:Et.meshnormal_vert,fragmentShader:Et.meshnormal_frag},sprite:{uniforms:lr([ye.sprite,ye.fog]),vertexShader:Et.sprite_vert,fragmentShader:Et.sprite_frag},background:{uniforms:{uvTransform:{value:new Gi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Et.background_vert,fragmentShader:Et.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Et.backgroundCube_vert,fragmentShader:Et.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Et.cube_vert,fragmentShader:Et.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Et.equirect_vert,fragmentShader:Et.equirect_frag},distanceRGBA:{uniforms:lr([ye.common,ye.displacementmap,{referencePosition:{value:new E},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Et.distanceRGBA_vert,fragmentShader:Et.distanceRGBA_frag},shadow:{uniforms:lr([ye.lights,ye.fog,{color:{value:new Re(0)},opacity:{value:1}}]),vertexShader:Et.shadow_vert,fragmentShader:Et.shadow_frag}};$s.physical={uniforms:lr([$s.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ne(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Re(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ne},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Re(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Re(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Et.meshphysical_vert,fragmentShader:Et.meshphysical_frag};const G6={r:0,b:0,g:0};function ute(n,e,t,i,r,s,a){const o=new Re(0);let l,d,c=!0===s?0:1,u=null,f=0,h=null;function m(g,v){g.getRGB(G6,qw(n)),i.buffers.color.setClear(G6.r,G6.g,G6.b,v,a)}return{getClearColor:function(){return o},setClearColor:function(g,v=1){o.set(g),c=v,m(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(g){c=g,m(o,c)},render:function p(g,v){let b=!1,_=!0===v.isScene?v.background:null;_&&_.isTexture&&(_=(v.backgroundBlurriness>0?t:e).get(_));const y=n.xr,M=y.getSession&&y.getSession();M&&"additive"===M.environmentBlendMode&&(_=null),null===_?m(o,c):_&&_.isColor&&(m(_,1),b=!0),(n.autoClear||b)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),_&&(_.isCubeTexture||_.mapping===t3)?(void 0===d&&(d=new ji(new pc(1,1,1),new fo({name:"BackgroundCubeMaterial",uniforms:mc($s.backgroundCube.uniforms),vertexShader:$s.backgroundCube.vertexShader,fragmentShader:$s.backgroundCube.fragmentShader,side:Ir,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(C,V,x){this.matrixWorld.copyPosition(x.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=_,d.material.uniforms.flipEnvMap.value=_.isCubeTexture&&!1===_.isRenderTargetTexture?-1:1,d.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,d.material.toneMapped=_.encoding!==Tn,(u!==_||f!==_.version||h!==n.toneMapping)&&(d.material.needsUpdate=!0,u=_,f=_.version,h=n.toneMapping),d.layers.enableAll(),g.unshift(d,d.geometry,d.material,0,0,null)):_&&_.isTexture&&(void 0===l&&(l=new ji(new U6(2,2),new fo({name:"BackgroundMaterial",uniforms:mc($s.background.uniforms),vertexShader:$s.background.vertexShader,fragmentShader:$s.background.fragmentShader,side:to,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=_,l.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,l.material.toneMapped=_.encoding!==Tn,!0===_.matrixAutoUpdate&&_.updateMatrix(),l.material.uniforms.uvTransform.value.copy(_.matrix),(u!==_||f!==_.version||h!==n.toneMapping)&&(l.material.needsUpdate=!0,u=_,f=_.version,h=n.toneMapping),l.layers.enableAll(),g.unshift(l,l.geometry,l.material,0,0,null))}}}function fte(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),a=i.isWebGL2||null!==s,o={},c=g(null);let l=c,d=!1;function h(k){return i.isWebGL2?n.bindVertexArray(k):s.bindVertexArrayOES(k)}function p(k){return i.isWebGL2?n.deleteVertexArray(k):s.deleteVertexArrayOES(k)}function g(k){const K=[],R=[],q=[];for(let N=0;N<r;N++)K[N]=0,R[N]=0,q[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:K,enabledAttributes:R,attributeDivisors:q,object:k,attributes:{},index:null}}function _(){const k=l.newAttributes;for(let K=0,R=k.length;K<R;K++)k[K]=0}function y(k){M(k,0)}function M(k,K){const q=l.enabledAttributes,N=l.attributeDivisors;l.newAttributes[k]=1,0===q[k]&&(n.enableVertexAttribArray(k),q[k]=1),N[k]!==K&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](k,K),N[k]=K)}function C(){const k=l.newAttributes,K=l.enabledAttributes;for(let R=0,q=K.length;R<q;R++)K[R]!==k[R]&&(n.disableVertexAttribArray(R),K[R]=0)}function V(k,K,R,q,N,X){!0!==i.isWebGL2||5124!==R&&5125!==R?n.vertexAttribPointer(k,K,R,q,N,X):n.vertexAttribIPointer(k,K,R,N,X)}function J(){F(),d=!0,l!==c&&(l=c,h(l.object))}function F(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function u(k,K,R,q,N){let X=!1;if(a){const ie=function m(k,K,R){const q=!0===R.wireframe;let N=o[k.id];void 0===N&&(N={},o[k.id]=N);let X=N[K.id];void 0===X&&(X={},N[K.id]=X);let ie=X[q];return void 0===ie&&(ie=g(function f(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}()),X[q]=ie),ie}(q,R,K);l!==ie&&(l=ie,h(l.object)),X=function v(k,K,R,q){const N=l.attributes,X=K.attributes;let ie=0;const be=R.getAttributes();for(const j in be)if(be[j].location>=0){const oe=N[j];let G=X[j];if(void 0===G&&("instanceMatrix"===j&&k.instanceMatrix&&(G=k.instanceMatrix),"instanceColor"===j&&k.instanceColor&&(G=k.instanceColor)),void 0===oe||oe.attribute!==G||G&&oe.data!==G.data)return!0;ie++}return l.attributesNum!==ie||l.index!==q}(k,q,R,N),X&&function b(k,K,R,q){const N={},X=K.attributes;let ie=0;const be=R.getAttributes();for(const j in be)if(be[j].location>=0){let oe=X[j];void 0===oe&&("instanceMatrix"===j&&k.instanceMatrix&&(oe=k.instanceMatrix),"instanceColor"===j&&k.instanceColor&&(oe=k.instanceColor));const G={};G.attribute=oe,oe&&oe.data&&(G.data=oe.data),N[j]=G,ie++}l.attributes=N,l.attributesNum=ie,l.index=q}(k,q,R,N)}else{const ie=!0===K.wireframe;(l.geometry!==q.id||l.program!==R.id||l.wireframe!==ie)&&(l.geometry=q.id,l.program=R.id,l.wireframe=ie,X=!0)}null!==N&&t.update(N,34963),(X||d)&&(d=!1,function x(k,K,R,q){if(!1===i.isWebGL2&&(k.isInstancedMesh||q.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;_();const N=q.attributes,X=R.getAttributes(),ie=K.defaultAttributeValues;for(const be in X){const j=X[be];if(j.location>=0){let le=N[be];if(void 0===le&&("instanceMatrix"===be&&k.instanceMatrix&&(le=k.instanceMatrix),"instanceColor"===be&&k.instanceColor&&(le=k.instanceColor)),void 0!==le){const oe=le.normalized,G=le.itemSize,Ie=t.get(le);if(void 0===Ie)continue;const pe=Ie.buffer,De=Ie.type,Me=Ie.bytesPerElement;if(le.isInterleavedBufferAttribute){const Pe=le.data,tt=Pe.stride,re=le.offset;if(Pe.isInstancedInterleavedBuffer){for(let ue=0;ue<j.locationSize;ue++)M(j.location+ue,Pe.meshPerAttribute);!0!==k.isInstancedMesh&&void 0===q._maxInstanceCount&&(q._maxInstanceCount=Pe.meshPerAttribute*Pe.count)}else for(let ue=0;ue<j.locationSize;ue++)y(j.location+ue);n.bindBuffer(34962,pe);for(let ue=0;ue<j.locationSize;ue++)V(j.location+ue,G/j.locationSize,De,oe,tt*Me,(re+G/j.locationSize*ue)*Me)}else{if(le.isInstancedBufferAttribute){for(let Pe=0;Pe<j.locationSize;Pe++)M(j.location+Pe,le.meshPerAttribute);!0!==k.isInstancedMesh&&void 0===q._maxInstanceCount&&(q._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let Pe=0;Pe<j.locationSize;Pe++)y(j.location+Pe);n.bindBuffer(34962,pe);for(let Pe=0;Pe<j.locationSize;Pe++)V(j.location+Pe,G/j.locationSize,De,oe,G*Me,G/j.locationSize*Pe*Me)}}else if(void 0!==ie){const oe=ie[be];if(void 0!==oe)switch(oe.length){case 2:n.vertexAttrib2fv(j.location,oe);break;case 3:n.vertexAttrib3fv(j.location,oe);break;case 4:n.vertexAttrib4fv(j.location,oe);break;default:n.vertexAttrib1fv(j.location,oe)}}}}C()}(k,K,R,q),null!==N&&n.bindBuffer(34963,t.get(N).buffer))},reset:J,resetDefaultState:F,dispose:function S(){J();for(const k in o){const K=o[k];for(const R in K){const q=K[R];for(const N in q)p(q[N].object),delete q[N];delete K[R]}delete o[k]}},releaseStatesOfGeometry:function H(k){if(void 0===o[k.id])return;const K=o[k.id];for(const R in K){const q=K[R];for(const N in q)p(q[N].object),delete q[N];delete K[R]}delete o[k.id]},releaseStatesOfProgram:function $(k){for(const K in o){const R=o[K];if(void 0===R[k.id])continue;const q=R[k.id];for(const N in q)p(q[N].object),delete q[N];delete R[k.id]}},initAttributes:_,enableAttribute:y,disableUnusedAttributes:C}}function hte(n,e,t,i){const r=i.isWebGL2;let s;this.setMode=function a(l){s=l},this.render=function o(l,d){n.drawArrays(s,l,d),t.update(d,s,1)},this.renderInstances=function c(l,d,u){if(0===u)return;let f,h;if(r)f=n,h="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",null===f)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");f[h](s,l,d,u),t.update(d,s,u)}}function pte(n,e,t){let i;function s(V){if("highp"===V){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";V="mediump"}return"mediump"===V&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext;let o=void 0!==t.precision?t.precision:"highp";const c=s(o);c!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",c,"instead."),o=c);const l=a||e.has("WEBGL_draw_buffers"),d=!0===t.logarithmicDepthBuffer,u=n.getParameter(34930),f=n.getParameter(35660),h=n.getParameter(3379),p=n.getParameter(34076),m=n.getParameter(34921),g=n.getParameter(36347),v=n.getParameter(36348),b=n.getParameter(36349),_=f>0,y=a||e.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function r(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const V=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(V.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:s,precision:o,logarithmicDepthBuffer:d,maxTextures:u,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:g,maxVaryings:v,maxFragmentUniforms:b,vertexTextures:_,floatFragmentTextures:y,floatVertexTextures:_&&y,maxSamples:a?n.getParameter(36183):0}}function mte(n){const e=this;let t=null,i=0,r=!1,s=!1;const a=new h1,o=new Gi,c={value:null,needsUpdate:!1};function d(u,f,h,p){const m=null!==u?u.length:0;let g=null;if(0!==m){if(g=c.value,!0!==p||null===g){const v=h+4*m,b=f.matrixWorldInverse;o.getNormalMatrix(b),(null===g||g.length<v)&&(g=new Float32Array(v));for(let _=0,y=h;_!==m;++_,y+=4)a.copy(u[_]).applyMatrix4(b,o),a.normal.toArray(g,y),g[y+3]=a.constant}c.value=g,c.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,g}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(u,f){const h=0!==u.length||f||0!==i||r;return r=f,i=u.length,h},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(u,f){t=d(u,f,0)},this.setState=function(u,f,h){const p=u.clippingPlanes,m=u.clipIntersection,g=u.clipShadows,v=n.get(u);if(!r||null===p||0===p.length||s&&!g)s?d(null):function l(){c.value!==t&&(c.value=t,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}();else{const b=s?0:i,_=4*b;let y=v.clippingState||null;c.value=y,y=d(p,f,_,h);for(let M=0;M!==_;++M)y[M]=t[M];v.clippingState=y,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=b}}}function gte(n){let e=new WeakMap;function t(a,o){return o===m6?a.mapping=Ko:o===g6&&(a.mapping=Zo),a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const c=e.get(o);void 0!==c&&(e.delete(o),c.dispose())}return{get:function i(a){if(a&&a.isTexture&&!1===a.isRenderTargetTexture){const o=a.mapping;if(o===m6||o===g6){if(e.has(a))return t(e.get(a).texture,a.mapping);{const c=a.image;if(c&&c.height>0){const l=new lJ(c.height/2);return l.fromEquirectangularTexture(n,a),e.set(a,l),a.addEventListener("dispose",r),t(l.texture,a.mapping)}return null}}}return a},dispose:function s(){e=new WeakMap}}}class dp extends op{constructor(e=-1,t=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,o=r+t,c=r-t;if(null!==this.view&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=l*this.view.offsetX,a=s+l*this.view.width,o-=d*this.view.offsetY,c=o-d*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,c,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const Yw=[.125,.215,.35,.446,.526,.582],up=new dp,Kw=new Re;let fp=null;const m1=(1+Math.sqrt(5))/2,yc=1/m1,Zw=[new E(1,1,1),new E(-1,1,1),new E(1,1,-1),new E(-1,1,-1),new E(0,m1,yc),new E(0,m1,-yc),new E(yc,0,m1),new E(-yc,0,m1),new E(m1,yc,0),new E(-m1,yc,0)];class Qw{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){fp=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=tS(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=eS(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(fp),e.scissorTest=!1,W6(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===Ko||e.mapping===Zo?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),fp=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:di,minFilter:di,generateMipmaps:!1,type:n3,format:is,encoding:n1,depthBuffer:!1},r=Jw(e,t,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Jw(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function _te(n){const e=[],t=[],i=[];let r=n;const s=n-4+1+Yw.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);t.push(o);let c=1/o;a>n-4?c=Yw[a-n+4-1]:0===a&&(c=0),i.push(c);const l=1/(o-2),d=-l,u=1+l,f=[d,d,u,d,u,u,d,d,u,u,d,u],h=6,p=6,m=3,g=2,v=1,b=new Float32Array(m*p*h),_=new Float32Array(g*p*h),y=new Float32Array(v*p*h);for(let C=0;C<h;C++){const V=C%3*2/3-1,x=C>2?0:-1;b.set([V,x,0,V+2/3,x,0,V+2/3,x+1,0,V,x,0,V+2/3,x+1,0,V,x+1,0],m*p*C),_.set(f,g*p*C),y.set([C,C,C,C,C,C],v*p*C)}const M=new Lt;M.setAttribute("position",new Di(b,m)),M.setAttribute("uv",new Di(_,g)),M.setAttribute("faceIndex",new Di(y,v)),e.push(M),r>4&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}(s)),this._blurMaterial=function vte(n,e,t){const i=new Float32Array(20),r=new E(0,1,0);return new fo({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:io,depthTest:!1,depthWrite:!1})}(s,e,t)}return r}_compileMaterial(e){const t=new ji(this._lodPlanes[0],e);this._renderer.compile(t,up)}_sceneToCubeUV(e,t,i,r){const o=new ki(90,1,t,i),c=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],d=this._renderer,u=d.autoClear,f=d.toneMapping;d.getClearColor(Kw),d.toneMapping=ga,d.autoClear=!1;const h=new f1({name:"PMREM.Background",side:Ir,depthWrite:!1,depthTest:!1}),p=new ji(new pc,h);let m=!1;const g=e.background;g?g.isColor&&(h.color.copy(g),e.background=null,m=!0):(h.color.copy(Kw),m=!0);for(let v=0;v<6;v++){const b=v%3;0===b?(o.up.set(0,c[v],0),o.lookAt(l[v],0,0)):1===b?(o.up.set(0,0,c[v]),o.lookAt(0,l[v],0)):(o.up.set(0,c[v],0),o.lookAt(0,0,l[v]));const _=this._cubeSize;W6(r,b*_,v>2?_:0,_,_),d.setRenderTarget(r),m&&d.render(p,o),d.render(e,o)}p.geometry.dispose(),p.material.dispose(),d.toneMapping=f,d.autoClear=u,e.background=g}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Ko||e.mapping===Zo;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=tS()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=eS());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new ji(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const c=this._cubeSize;W6(t,0,0,3*c,2*c),i.setRenderTarget(t),i.render(a,up)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(e,r-1,r,s,Zw[(r-1)%Zw.length])}t.autoClear=i}_blur(e,t,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,a,o){const c=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const u=new ji(this._lodPlanes[r],l),f=l.uniforms,h=this._sizeLods[i]-1,p=isFinite(s)?Math.PI/(2*h):2*Math.PI/39,m=s/p,g=isFinite(s)?1+Math.floor(3*m):20;g>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${g} samples when the maximum is set to 20`);const v=[];let b=0;for(let V=0;V<20;++V){const x=V/m,S=Math.exp(-x*x/2);v.push(S),0===V?b+=S:V<g&&(b+=2*S)}for(let V=0;V<v.length;V++)v[V]=v[V]/b;f.envMap.value=e.texture,f.samples.value=g,f.weights.value=v,f.latitudinal.value="latitudinal"===a,o&&(f.poleAxis.value=o);const{_lodMax:_}=this;f.dTheta.value=p,f.mipInt.value=_-i;const y=this._sizeLods[r];W6(t,3*y*(r>_-4?r-_+4:0),4*(this._cubeSize-y),3*y,2*y),c.setRenderTarget(t),c.render(u,up)}}function Jw(n,e,t){const i=new o1(n,e,t);return i.texture.mapping=t3,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function W6(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function eS(){return new fo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:io,depthTest:!1,depthWrite:!1})}function tS(){return new fo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:io,depthTest:!1,depthWrite:!1})}function bte(n){let e=new WeakMap,t=null;function s(o){const c=o.target;c.removeEventListener("dispose",s);const l=e.get(c);void 0!==l&&(e.delete(c),l.dispose())}return{get:function i(o){if(o&&o.isTexture){const c=o.mapping,l=c===m6||c===g6,d=c===Ko||c===Zo;if(l||d){if(o.isRenderTargetTexture&&!0===o.needsPMREMUpdate){o.needsPMREMUpdate=!1;let u=e.get(o);return null===t&&(t=new Qw(n)),u=l?t.fromEquirectangular(o,u):t.fromCubemap(o,u),e.set(o,u),u.texture}if(e.has(o))return e.get(o).texture;{const u=o.image;if(l&&u&&u.height>0||d&&u&&function r(o){let c=0;for(let d=0;d<6;d++)void 0!==o[d]&&c++;return 6===c}(u)){null===t&&(t=new Qw(n));const f=l?t.fromEquirectangular(o):t.fromCubemap(o);return e.set(o,f),o.addEventListener("dispose",s),f.texture}return null}}}return o},dispose:function a(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function yte(n){const e={};function t(i){if(void 0!==e[i])return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return null!==t(i)},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function xte(n,e,t,i){const r={},s=new WeakMap;function a(u){const f=u.target;null!==f.index&&e.remove(f.index);for(const p in f.attributes)e.remove(f.attributes[p]);f.removeEventListener("dispose",a),delete r[f.id];const h=s.get(f);h&&(e.remove(h),s.delete(f)),i.releaseStatesOfGeometry(f),!0===f.isInstancedBufferGeometry&&delete f._maxInstanceCount,t.memory.geometries--}function l(u){const f=[],h=u.index,p=u.attributes.position;let m=0;if(null!==h){const b=h.array;m=h.version;for(let _=0,y=b.length;_<y;_+=3){const M=b[_+0],C=b[_+1],V=b[_+2];f.push(M,C,C,V,V,M)}}else{m=p.version;for(let _=0,y=p.array.length/3-1;_<y;_+=3){const M=_+0,C=_+1,V=_+2;f.push(M,C,C,V,V,M)}}const g=new(Lw(f)?Ww:Gw)(f,1);g.version=m;const v=s.get(u);v&&e.remove(v),s.set(u,g)}return{get:function o(u,f){return!0===r[f.id]||(f.addEventListener("dispose",a),r[f.id]=!0,t.memory.geometries++),f},update:function c(u){const f=u.attributes;for(const p in f)e.update(f[p],34962);const h=u.morphAttributes;for(const p in h){const m=h[p];for(let g=0,v=m.length;g<v;g++)e.update(m[g],34962)}},getWireframeAttribute:function d(u){const f=s.get(u);if(f){const h=u.index;null!==h&&f.version<h.version&&l(u)}else l(u);return s.get(u)}}}function Mte(n,e,t,i){const r=i.isWebGL2;let s,o,c;this.setMode=function a(f){s=f},this.setIndex=function l(f){o=f.type,c=f.bytesPerElement},this.render=function d(f,h){n.drawElements(s,h,o,f*c),t.update(h,s,1)},this.renderInstances=function u(f,h,p){if(0===p)return;let m,g;if(r)m=n,g="drawElementsInstanced";else if(m=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",null===m)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");m[g](s,h,o,f*c,p),t.update(h,s,p)}}function Cte(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function i(s,a,o){switch(t.calls++,a){case 4:t.triangles+=o*(s/3);break;case 1:t.lines+=o*(s/2);break;case 3:t.lines+=o*(s-1);break;case 2:t.lines+=o*s;break;case 0:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a)}}}}function wte(n,e){return n[0]-e[0]}function Ste(n,e){return Math.abs(e[1])-Math.abs(n[1])}function Dte(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,a=new hn,o=[];for(let l=0;l<8;l++)o[l]=[l,0];return{update:function c(l,d,u){const f=l.morphTargetInfluences;if(!0===e.isWebGL2){const h=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,p=void 0!==h?h.length:0;let m=s.get(d);if(void 0===m||m.count!==p){let k=function(){J.dispose(),s.delete(d),d.removeEventListener("dispose",k)};void 0!==m&&m.texture.dispose();const b=void 0!==d.morphAttributes.position,_=void 0!==d.morphAttributes.normal,y=void 0!==d.morphAttributes.color,M=d.morphAttributes.position||[],C=d.morphAttributes.normal||[],V=d.morphAttributes.color||[];let x=0;!0===b&&(x=1),!0===_&&(x=2),!0===y&&(x=3);let S=d.attributes.position.count*x,H=1;S>e.maxTextureSize&&(H=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const $=new Float32Array(S*H*4*p),J=new j5($,S,H,p);J.type=ro,J.needsUpdate=!0;const F=4*x;for(let K=0;K<p;K++){const R=M[K],q=C[K],N=V[K],X=S*H*4*K;for(let ie=0;ie<R.count;ie++){const be=ie*F;!0===b&&(a.fromBufferAttribute(R,ie),$[X+be+0]=a.x,$[X+be+1]=a.y,$[X+be+2]=a.z,$[X+be+3]=0),!0===_&&(a.fromBufferAttribute(q,ie),$[X+be+4]=a.x,$[X+be+5]=a.y,$[X+be+6]=a.z,$[X+be+7]=0),!0===y&&(a.fromBufferAttribute(N,ie),$[X+be+8]=a.x,$[X+be+9]=a.y,$[X+be+10]=a.z,$[X+be+11]=4===N.itemSize?a.w:1)}}m={count:p,texture:J,size:new ne(S,H)},s.set(d,m),d.addEventListener("dispose",k)}let g=0;for(let b=0;b<f.length;b++)g+=f[b];const v=d.morphTargetsRelative?1:1-g;u.getUniforms().setValue(n,"morphTargetBaseInfluence",v),u.getUniforms().setValue(n,"morphTargetInfluences",f),u.getUniforms().setValue(n,"morphTargetsTexture",m.texture,t),u.getUniforms().setValue(n,"morphTargetsTextureSize",m.size)}else{const h=void 0===f?0:f.length;let p=i[d.id];if(void 0===p||p.length!==h){p=[];for(let _=0;_<h;_++)p[_]=[_,0];i[d.id]=p}for(let _=0;_<h;_++){const y=p[_];y[0]=_,y[1]=f[_]}p.sort(Ste);for(let _=0;_<8;_++)_<h&&p[_][1]?(o[_][0]=p[_][0],o[_][1]=p[_][1]):(o[_][0]=Number.MAX_SAFE_INTEGER,o[_][1]=0);o.sort(wte);const m=d.morphAttributes.position,g=d.morphAttributes.normal;let v=0;for(let _=0;_<8;_++){const y=o[_],M=y[0],C=y[1];M!==Number.MAX_SAFE_INTEGER&&C?(m&&d.getAttribute("morphTarget"+_)!==m[M]&&d.setAttribute("morphTarget"+_,m[M]),g&&d.getAttribute("morphNormal"+_)!==g[M]&&d.setAttribute("morphNormal"+_,g[M]),r[_]=C,v+=C):(m&&!0===d.hasAttribute("morphTarget"+_)&&d.deleteAttribute("morphTarget"+_),g&&!0===d.hasAttribute("morphNormal"+_)&&d.deleteAttribute("morphNormal"+_),r[_]=0)}const b=d.morphTargetsRelative?1:1-v;u.getUniforms().setValue(n,"morphTargetBaseInfluence",b),u.getUniforms().setValue(n,"morphTargetInfluences",r)}}}}function Ete(n,e,t,i){let r=new WeakMap;function o(c){const l=c.target;l.removeEventListener("dispose",o),t.remove(l.instanceMatrix),null!==l.instanceColor&&t.remove(l.instanceColor)}return{update:function s(c){const l=i.render.frame,u=e.get(c,c.geometry);return r.get(u)!==l&&(e.update(u),r.set(u,l)),c.isInstancedMesh&&(!1===c.hasEventListener("dispose",o)&&c.addEventListener("dispose",o),t.update(c.instanceMatrix,34962),null!==c.instanceColor&&t.update(c.instanceColor,34962)),u},dispose:function a(){r=new WeakMap}}}const nS=new ao,iS=new j5,rS=new Hw,sS=new O6,aS=[],oS=[],cS=new Float32Array(16),lS=new Float32Array(9),dS=new Float32Array(4);function xc(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=aS[r];if(void 0===s&&(s=new Float32Array(r),aS[r]=s),0!==e){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function Ci(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function wi(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function j6(n,e){let t=oS[e];void 0===t&&(t=new Int32Array(e),oS[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Tte(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Ate(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ci(t,e))return;n.uniform2fv(this.addr,e),wi(t,e)}}function Lte(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ci(t,e))return;n.uniform3fv(this.addr,e),wi(t,e)}}function Vte(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ci(t,e))return;n.uniform4fv(this.addr,e),wi(t,e)}}function zte(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Ci(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),wi(t,e)}else{if(Ci(t,i))return;dS.set(i),n.uniformMatrix2fv(this.addr,!1,dS),wi(t,i)}}function Hte(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Ci(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),wi(t,e)}else{if(Ci(t,i))return;lS.set(i),n.uniformMatrix3fv(this.addr,!1,lS),wi(t,i)}}function Ite(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Ci(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),wi(t,e)}else{if(Ci(t,i))return;cS.set(i),n.uniformMatrix4fv(this.addr,!1,cS),wi(t,i)}}function kte(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Rte(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ci(t,e))return;n.uniform2iv(this.addr,e),wi(t,e)}}function Nte(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ci(t,e))return;n.uniform3iv(this.addr,e),wi(t,e)}}function Pte(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ci(t,e))return;n.uniform4iv(this.addr,e),wi(t,e)}}function Fte(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Ote(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ci(t,e))return;n.uniform2uiv(this.addr,e),wi(t,e)}}function Bte(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ci(t,e))return;n.uniform3uiv(this.addr,e),wi(t,e)}}function Ute(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ci(t,e))return;n.uniform4uiv(this.addr,e),wi(t,e)}}function Gte(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||nS,r)}function Wte(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||rS,r)}function jte(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||sS,r)}function $te(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||iS,r)}function Xte(n,e){n.uniform1fv(this.addr,e)}function Yte(n,e){const t=xc(e,this.size,2);n.uniform2fv(this.addr,t)}function Kte(n,e){const t=xc(e,this.size,3);n.uniform3fv(this.addr,t)}function Zte(n,e){const t=xc(e,this.size,4);n.uniform4fv(this.addr,t)}function Qte(n,e){const t=xc(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Jte(n,e){const t=xc(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function ene(n,e){const t=xc(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function tne(n,e){n.uniform1iv(this.addr,e)}function nne(n,e){n.uniform2iv(this.addr,e)}function ine(n,e){n.uniform3iv(this.addr,e)}function rne(n,e){n.uniform4iv(this.addr,e)}function sne(n,e){n.uniform1uiv(this.addr,e)}function ane(n,e){n.uniform2uiv(this.addr,e)}function one(n,e){n.uniform3uiv(this.addr,e)}function cne(n,e){n.uniform4uiv(this.addr,e)}function lne(n,e,t){const i=this.cache,r=e.length,s=j6(t,r);Ci(i,s)||(n.uniform1iv(this.addr,s),wi(i,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||nS,s[a])}function dne(n,e,t){const i=this.cache,r=e.length,s=j6(t,r);Ci(i,s)||(n.uniform1iv(this.addr,s),wi(i,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||rS,s[a])}function une(n,e,t){const i=this.cache,r=e.length,s=j6(t,r);Ci(i,s)||(n.uniform1iv(this.addr,s),wi(i,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||sS,s[a])}function fne(n,e,t){const i=this.cache,r=e.length,s=j6(t,r);Ci(i,s)||(n.uniform1iv(this.addr,s),wi(i,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||iS,s[a])}class pne{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=function qte(n){switch(n){case 5126:return Tte;case 35664:return Ate;case 35665:return Lte;case 35666:return Vte;case 35674:return zte;case 35675:return Hte;case 35676:return Ite;case 5124:case 35670:return kte;case 35667:case 35671:return Rte;case 35668:case 35672:return Nte;case 35669:case 35673:return Pte;case 5125:return Fte;case 36294:return Ote;case 36295:return Bte;case 36296:return Ute;case 35678:case 36198:case 36298:case 36306:case 35682:return Gte;case 35679:case 36299:case 36307:return Wte;case 35680:case 36300:case 36308:case 36293:return jte;case 36289:case 36303:case 36311:case 36292:return $te}}(t.type)}}class mne{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=function hne(n){switch(n){case 5126:return Xte;case 35664:return Yte;case 35665:return Kte;case 35666:return Zte;case 35674:return Qte;case 35675:return Jte;case 35676:return ene;case 5124:case 35670:return tne;case 35667:case 35671:return nne;case 35668:case 35672:return ine;case 35669:case 35673:return rne;case 5125:return sne;case 36294:return ane;case 36295:return one;case 36296:return cne;case 35678:case 36198:case 36298:case 36306:case 35682:return lne;case 35679:case 36299:case 36307:return dne;case 35680:case 36300:case 36308:case 36293:return une;case 36289:case 36303:case 36311:case 36292:return fne}}(t.type)}}class gne{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,t[o.id],i)}}}const pp=/(\w+)(\])?(\[|\.)?/g;function uS(n,e){n.seq.push(e),n.map[e.id]=e}function _ne(n,e,t){const i=n.name,r=i.length;for(pp.lastIndex=0;;){const s=pp.exec(i);let o=s[1];const l=s[3];if("]"===s[2]&&(o|=0),void 0===l||"["===l&&pp.lastIndex+2===r){uS(t,void 0===l?new pne(o,n,e):new mne(o,n,e));break}{let u=t.map[o];void 0===u&&(u=new gne(o),uS(t,u)),t=u}}}class $6{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r);_ne(s,e.getUniformLocation(t,s.name),this)}}setValue(e,t,i,r){const s=this.map[t];void 0!==s&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];void 0!==r&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,a=t.length;s!==a;++s){const o=t[s],c=i[o.id];!1!==c.needsUpdate&&o.setValue(e,c.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&i.push(a)}return i}}function fS(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let vne=0;function hS(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+"\n\n"+r+"\n\n"+function bne(n,e){const t=n.split("\n"),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return i.join("\n")}(n.getShaderSource(e),a)}return r}function xne(n,e){const t=function yne(n){switch(n){case n1:return["Linear","( value )"];case Tn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Mne(n,e){let t;switch(e){case JZ:t="Linear";break;case eQ:t="Reinhard";break;case tQ:t="OptimizedCineon";break;case nQ:t="ACESFilmic";break;case iQ:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function m3(n){return""!==n}function pS(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function mS(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Dne=/^[ \t]*#include +<([\w\d./]+)>/gm;function mp(n){return n.replace(Dne,Ene)}function Ene(n,e){const t=Et[e];if(void 0===t)throw new Error("Can not resolve #include <"+e+">");return mp(t)}const Tne=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function gS(n){return n.replace(Tne,Ane)}function Ane(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function _S(n){let e="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function kne(n,e,t,i){const r=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const c=function Lne(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===jC?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===VZ?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===e3&&(e="SHADOWMAP_TYPE_VSM"),e}(t),l=function Vne(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ko:case Zo:e="ENVMAP_TYPE_CUBE";break;case t3:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),d=function zne(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===Zo&&(e="ENVMAP_MODE_REFRACTION"),e}(t),u=function Hne(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case p6:e="ENVMAP_BLENDING_MULTIPLY";break;case ZZ:e="ENVMAP_BLENDING_MIX";break;case QZ:e="ENVMAP_BLENDING_ADD"}return e}(t),f=function Ine(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}(t),h=t.isWebGL2?"":function Cne(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(m3).join("\n")}(t),p=function wne(n){const e=[];for(const t in n){const i=n[t];!1!==i&&e.push("#define "+t+" "+i)}return e.join("\n")}(s),m=r.createProgram();let g,v,b=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(g=[p].filter(m3).join("\n"),g.length>0&&(g+="\n"),v=[h,p].filter(m3).join("\n"),v.length>0&&(v+="\n")):(g=[_S(t),"#define SHADER_NAME "+t.shaderName,p,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(m3).join("\n"),v=[h,_S(t),"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+l:"",t.envMap?"#define "+d:"",t.envMap?"#define "+u:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ga?"#define TONE_MAPPING":"",t.toneMapping!==ga?Et.tonemapping_pars_fragment:"",t.toneMapping!==ga?Mne("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Et.encodings_pars_fragment,xne("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(m3).join("\n")),a=mp(a),a=pS(a,t),a=mS(a,t),o=mp(o),o=pS(o,t),o=mS(o,t),a=gS(a),o=gS(o),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(b="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",t.glslVersion===Dw?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Dw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const y=b+v+o,M=fS(r,35633,b+g+a),C=fS(r,35632,y);if(r.attachShader(m,M),r.attachShader(m,C),void 0!==t.index0AttributeName?r.bindAttribLocation(m,0,t.index0AttributeName):!0===t.morphTargets&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),n.debug.checkShaderErrors){const S=r.getProgramInfoLog(m).trim(),H=r.getShaderInfoLog(M).trim(),$=r.getShaderInfoLog(C).trim();let J=!0,F=!0;if(!1===r.getProgramParameter(m,35714)){J=!1;const k=hS(r,M,"vertex"),K=hS(r,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,35715)+"\n\nProgram Info Log: "+S+"\n"+k+"\n"+K)}else""!==S?console.warn("THREE.WebGLProgram: Program Info Log:",S):(""===H||""===$)&&(F=!1);F&&(this.diagnostics={runnable:J,programLog:S,vertexShader:{log:H,prefix:g},fragmentShader:{log:$,prefix:v}})}let V,x;return r.deleteShader(M),r.deleteShader(C),this.getUniforms=function(){return void 0===V&&(V=new $6(r,m)),V},this.getAttributes=function(){return void 0===x&&(x=function Sne(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),a=s.name;let o=1;35674===s.type&&(o=2),35675===s.type&&(o=3),35676===s.type&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}(r,m)),x},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.name=t.shaderName,this.id=vne++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=M,this.fragmentShader=C,this}let Rne=0;class Nne{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.fragmentShader,r=this._getShaderStage(e.vertexShader),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(s)&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return void 0===i&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return void 0===i&&(i=new Pne(e),t.set(e,i)),i}}class Pne{constructor(e){this.id=Rne++,this.code=e,this.usedTimes=0}}function Fne(n,e,t,i,r,s,a){const o=new Q5,c=new Nne,l=[],d=r.isWebGL2,u=r.logarithmicDepthBuffer,f=r.vertexTextures;let h=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function m(x,S,H,$,J){const F=$.fog,k=J.geometry,R=(x.isMeshStandardMaterial?t:e).get(x.envMap||(x.isMeshStandardMaterial?$.environment:null)),q=R&&R.mapping===t3?R.image.height:null,N=p[x.type];null!==x.precision&&(h=r.getMaxPrecision(x.precision),h!==x.precision&&console.warn("THREE.WebGLProgram.getParameters:",x.precision,"not supported, using",h,"instead."));const X=k.morphAttributes.position||k.morphAttributes.normal||k.morphAttributes.color,ie=void 0!==X?X.length:0;let j,le,oe,G,be=0;if(void 0!==k.morphAttributes.position&&(be=1),void 0!==k.morphAttributes.normal&&(be=2),void 0!==k.morphAttributes.color&&(be=3),N){const tt=$s[N];j=tt.vertexShader,le=tt.fragmentShader}else j=x.vertexShader,le=x.fragmentShader,c.update(x),oe=c.getVertexShaderID(x),G=c.getFragmentShaderID(x);const Ie=n.getRenderTarget(),De=x.clearcoat>0,Me=x.iridescence>0;return{isWebGL2:d,shaderID:N,shaderName:x.type,vertexShader:j,fragmentShader:le,defines:x.defines,customVertexShaderID:oe,customFragmentShaderID:G,isRawShaderMaterial:!0===x.isRawShaderMaterial,glslVersion:x.glslVersion,precision:h,instancing:!0===J.isInstancedMesh,instancingColor:!0===J.isInstancedMesh&&null!==J.instanceColor,supportsVertexTextures:f,outputEncoding:null===Ie?n.outputEncoding:!0===Ie.isXRRenderTarget?Ie.texture.encoding:n1,map:!!x.map,matcap:!!x.matcap,envMap:!!R,envMapMode:R&&R.mapping,envMapCubeUVHeight:q,lightMap:!!x.lightMap,aoMap:!!x.aoMap,emissiveMap:!!x.emissiveMap,bumpMap:!!x.bumpMap,normalMap:!!x.normalMap,objectSpaceNormalMap:x.normalMapType===wQ,tangentSpaceNormalMap:x.normalMapType===r1,decodeVideoTexture:!!x.map&&!0===x.map.isVideoTexture&&x.map.encoding===Tn,clearcoat:De,clearcoatMap:De&&!!x.clearcoatMap,clearcoatRoughnessMap:De&&!!x.clearcoatRoughnessMap,clearcoatNormalMap:De&&!!x.clearcoatNormalMap,iridescence:Me,iridescenceMap:Me&&!!x.iridescenceMap,iridescenceThicknessMap:Me&&!!x.iridescenceThicknessMap,displacementMap:!!x.displacementMap,roughnessMap:!!x.roughnessMap,metalnessMap:!!x.metalnessMap,specularMap:!!x.specularMap,specularIntensityMap:!!x.specularIntensityMap,specularColorMap:!!x.specularColorMap,opaque:!1===x.transparent&&x.blending===X2,alphaMap:!!x.alphaMap,alphaTest:x.alphaTest>0,gradientMap:!!x.gradientMap,sheen:x.sheen>0,sheenColorMap:!!x.sheenColorMap,sheenRoughnessMap:!!x.sheenRoughnessMap,transmission:x.transmission>0,transmissionMap:!!x.transmissionMap,thicknessMap:!!x.thicknessMap,combine:x.combine,vertexTangents:!!x.normalMap&&!!k.attributes.tangent,vertexColors:x.vertexColors,vertexAlphas:!0===x.vertexColors&&!!k.attributes.color&&4===k.attributes.color.itemSize,vertexUvs:!!(x.map||x.bumpMap||x.normalMap||x.specularMap||x.alphaMap||x.emissiveMap||x.roughnessMap||x.metalnessMap||x.clearcoatMap||x.clearcoatRoughnessMap||x.clearcoatNormalMap||x.iridescenceMap||x.iridescenceThicknessMap||x.displacementMap||x.transmissionMap||x.thicknessMap||x.specularIntensityMap||x.specularColorMap||x.sheenColorMap||x.sheenRoughnessMap),uvsVertexOnly:!(x.map||x.bumpMap||x.normalMap||x.specularMap||x.alphaMap||x.emissiveMap||x.roughnessMap||x.metalnessMap||x.clearcoatNormalMap||x.iridescenceMap||x.iridescenceThicknessMap||x.transmission>0||x.transmissionMap||x.thicknessMap||x.specularIntensityMap||x.specularColorMap||x.sheen>0||x.sheenColorMap||x.sheenRoughnessMap||!x.displacementMap),fog:!!F,useFog:!0===x.fog,fogExp2:F&&F.isFogExp2,flatShading:!!x.flatShading,sizeAttenuation:x.sizeAttenuation,logarithmicDepthBuffer:u,skinning:!0===J.isSkinnedMesh,morphTargets:void 0!==k.morphAttributes.position,morphNormals:void 0!==k.morphAttributes.normal,morphColors:void 0!==k.morphAttributes.color,morphTargetsCount:ie,morphTextureStride:be,numDirLights:S.directional.length,numPointLights:S.point.length,numSpotLights:S.spot.length,numSpotLightMaps:S.spotLightMap.length,numRectAreaLights:S.rectArea.length,numHemiLights:S.hemi.length,numDirLightShadows:S.directionalShadowMap.length,numPointLightShadows:S.pointShadowMap.length,numSpotLightShadows:S.spotShadowMap.length,numSpotLightShadowsWithMaps:S.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:x.dithering,shadowMapEnabled:n.shadowMap.enabled&&H.length>0,shadowMapType:n.shadowMap.type,toneMapping:x.toneMapped?n.toneMapping:ga,useLegacyLights:n.useLegacyLights,premultipliedAlpha:x.premultipliedAlpha,doubleSided:x.side===no,flipSided:x.side===Ir,useDepthPacking:!!x.depthPacking,depthPacking:x.depthPacking||0,index0AttributeName:x.index0AttributeName,extensionDerivatives:x.extensions&&x.extensions.derivatives,extensionFragDepth:x.extensions&&x.extensions.fragDepth,extensionDrawBuffers:x.extensions&&x.extensions.drawBuffers,extensionShaderTextureLOD:x.extensions&&x.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:x.customProgramCacheKey()}},getProgramCacheKey:function g(x){const S=[];if(x.shaderID?S.push(x.shaderID):(S.push(x.customVertexShaderID),S.push(x.customFragmentShaderID)),void 0!==x.defines)for(const H in x.defines)S.push(H),S.push(x.defines[H]);return!1===x.isRawShaderMaterial&&(function v(x,S){x.push(S.precision),x.push(S.outputEncoding),x.push(S.envMapMode),x.push(S.envMapCubeUVHeight),x.push(S.combine),x.push(S.vertexUvs),x.push(S.fogExp2),x.push(S.sizeAttenuation),x.push(S.morphTargetsCount),x.push(S.morphAttributeCount),x.push(S.numDirLights),x.push(S.numPointLights),x.push(S.numSpotLights),x.push(S.numSpotLightMaps),x.push(S.numHemiLights),x.push(S.numRectAreaLights),x.push(S.numDirLightShadows),x.push(S.numPointLightShadows),x.push(S.numSpotLightShadows),x.push(S.numSpotLightShadowsWithMaps),x.push(S.shadowMapType),x.push(S.toneMapping),x.push(S.numClippingPlanes),x.push(S.numClipIntersection),x.push(S.depthPacking)}(S,x),function b(x,S){o.disableAll(),S.isWebGL2&&o.enable(0),S.supportsVertexTextures&&o.enable(1),S.instancing&&o.enable(2),S.instancingColor&&o.enable(3),S.map&&o.enable(4),S.matcap&&o.enable(5),S.envMap&&o.enable(6),S.lightMap&&o.enable(7),S.aoMap&&o.enable(8),S.emissiveMap&&o.enable(9),S.bumpMap&&o.enable(10),S.normalMap&&o.enable(11),S.objectSpaceNormalMap&&o.enable(12),S.tangentSpaceNormalMap&&o.enable(13),S.clearcoat&&o.enable(14),S.clearcoatMap&&o.enable(15),S.clearcoatRoughnessMap&&o.enable(16),S.clearcoatNormalMap&&o.enable(17),S.iridescence&&o.enable(18),S.iridescenceMap&&o.enable(19),S.iridescenceThicknessMap&&o.enable(20),S.displacementMap&&o.enable(21),S.specularMap&&o.enable(22),S.roughnessMap&&o.enable(23),S.metalnessMap&&o.enable(24),S.gradientMap&&o.enable(25),S.alphaMap&&o.enable(26),S.alphaTest&&o.enable(27),S.vertexColors&&o.enable(28),S.vertexAlphas&&o.enable(29),S.vertexUvs&&o.enable(30),S.vertexTangents&&o.enable(31),S.uvsVertexOnly&&o.enable(32),x.push(o.mask),o.disableAll(),S.fog&&o.enable(0),S.useFog&&o.enable(1),S.flatShading&&o.enable(2),S.logarithmicDepthBuffer&&o.enable(3),S.skinning&&o.enable(4),S.morphTargets&&o.enable(5),S.morphNormals&&o.enable(6),S.morphColors&&o.enable(7),S.premultipliedAlpha&&o.enable(8),S.shadowMapEnabled&&o.enable(9),S.useLegacyLights&&o.enable(10),S.doubleSided&&o.enable(11),S.flipSided&&o.enable(12),S.useDepthPacking&&o.enable(13),S.dithering&&o.enable(14),S.specularIntensityMap&&o.enable(15),S.specularColorMap&&o.enable(16),S.transmission&&o.enable(17),S.transmissionMap&&o.enable(18),S.thicknessMap&&o.enable(19),S.sheen&&o.enable(20),S.sheenColorMap&&o.enable(21),S.sheenRoughnessMap&&o.enable(22),S.decodeVideoTexture&&o.enable(23),S.opaque&&o.enable(24),x.push(o.mask)}(S,x),S.push(n.outputEncoding)),S.push(x.customProgramCacheKey),S.join()},getUniforms:function _(x){const S=p[x.type];let H;return H=S?sJ.clone($s[S].uniforms):x.uniforms,H},acquireProgram:function y(x,S){let H;for(let $=0,J=l.length;$<J;$++){const F=l[$];if(F.cacheKey===S){H=F,++H.usedTimes;break}}return void 0===H&&(H=new kne(n,S,x,s),l.push(H)),H},releaseProgram:function M(x){if(0==--x.usedTimes){const S=l.indexOf(x);l[S]=l[l.length-1],l.pop(),x.destroy()}},releaseShaderCache:function C(x){c.remove(x)},programs:l,dispose:function V(){c.dispose()}}}function One(){let n=new WeakMap;return{get:function e(s){let a=n.get(s);return void 0===a&&(a={},n.set(s,a)),a},remove:function t(s){n.delete(s)},update:function i(s,a,o){n.get(s)[a]=o},dispose:function r(){n=new WeakMap}}}function Bne(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function vS(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function bS(){const n=[];let e=0;const t=[],i=[],r=[];function a(u,f,h,p,m,g){let v=n[e];return void 0===v?(v={id:u.id,object:u,geometry:f,material:h,groupOrder:p,renderOrder:u.renderOrder,z:m,group:g},n[e]=v):(v.id=u.id,v.object=u,v.geometry=f,v.material=h,v.groupOrder=p,v.renderOrder=u.renderOrder,v.z=m,v.group=g),e++,v}return{opaque:t,transmissive:i,transparent:r,init:function s(){e=0,t.length=0,i.length=0,r.length=0},push:function o(u,f,h,p,m,g){const v=a(u,f,h,p,m,g);h.transmission>0?i.push(v):!0===h.transparent?r.push(v):t.push(v)},unshift:function c(u,f,h,p,m,g){const v=a(u,f,h,p,m,g);h.transmission>0?i.unshift(v):!0===h.transparent?r.unshift(v):t.unshift(v)},finish:function d(){for(let u=e,f=n.length;u<f;u++){const h=n[u];if(null===h.id)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}},sort:function l(u,f){t.length>1&&t.sort(u||Bne),i.length>1&&i.sort(f||vS),r.length>1&&r.sort(f||vS)}}}function Une(){let n=new WeakMap;return{get:function e(i,r){const s=n.get(i);let a;return void 0===s?(a=new bS,n.set(i,[a])):r>=s.length?(a=new bS,s.push(a)):a=s[r],a},dispose:function t(){n=new WeakMap}}}function Gne(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new E,color:new Re};break;case"SpotLight":t={position:new E,direction:new E,color:new Re,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new E,color:new Re,distance:0,decay:0};break;case"HemisphereLight":t={direction:new E,skyColor:new Re,groundColor:new Re};break;case"RectAreaLight":t={color:new Re,position:new E,halfWidth:new E,halfHeight:new E}}return n[e.id]=t,t}}}let jne=0;function $ne(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function qne(n,e){const t=new Gne,i=function Wne(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ne};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ne,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)r.probe.push(new E);const s=new E,a=new St,o=new St;return{setup:function c(d,u){let f=0,h=0,p=0;for(let $=0;$<9;$++)r.probe[$].set(0,0,0);let m=0,g=0,v=0,b=0,_=0,y=0,M=0,C=0,V=0,x=0;d.sort($ne);const S=!0===u?Math.PI:1;for(let $=0,J=d.length;$<J;$++){const F=d[$],k=F.color,K=F.intensity,R=F.distance,q=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)f+=k.r*K*S,h+=k.g*K*S,p+=k.b*K*S;else if(F.isLightProbe)for(let N=0;N<9;N++)r.probe[N].addScaledVector(F.sh.coefficients[N],K);else if(F.isDirectionalLight){const N=t.get(F);if(N.color.copy(F.color).multiplyScalar(F.intensity*S),F.castShadow){const X=F.shadow,ie=i.get(F);ie.shadowBias=X.bias,ie.shadowNormalBias=X.normalBias,ie.shadowRadius=X.radius,ie.shadowMapSize=X.mapSize,r.directionalShadow[m]=ie,r.directionalShadowMap[m]=q,r.directionalShadowMatrix[m]=F.shadow.matrix,y++}r.directional[m]=N,m++}else if(F.isSpotLight){const N=t.get(F);N.position.setFromMatrixPosition(F.matrixWorld),N.color.copy(k).multiplyScalar(K*S),N.distance=R,N.coneCos=Math.cos(F.angle),N.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),N.decay=F.decay,r.spot[v]=N;const X=F.shadow;if(F.map&&(r.spotLightMap[V]=F.map,V++,X.updateMatrices(F),F.castShadow&&x++),r.spotLightMatrix[v]=X.matrix,F.castShadow){const ie=i.get(F);ie.shadowBias=X.bias,ie.shadowNormalBias=X.normalBias,ie.shadowRadius=X.radius,ie.shadowMapSize=X.mapSize,r.spotShadow[v]=ie,r.spotShadowMap[v]=q,C++}v++}else if(F.isRectAreaLight){const N=t.get(F);N.color.copy(k).multiplyScalar(K),N.halfWidth.set(.5*F.width,0,0),N.halfHeight.set(0,.5*F.height,0),r.rectArea[b]=N,b++}else if(F.isPointLight){const N=t.get(F);if(N.color.copy(F.color).multiplyScalar(F.intensity*S),N.distance=F.distance,N.decay=F.decay,F.castShadow){const X=F.shadow,ie=i.get(F);ie.shadowBias=X.bias,ie.shadowNormalBias=X.normalBias,ie.shadowRadius=X.radius,ie.shadowMapSize=X.mapSize,ie.shadowCameraNear=X.camera.near,ie.shadowCameraFar=X.camera.far,r.pointShadow[g]=ie,r.pointShadowMap[g]=q,r.pointShadowMatrix[g]=F.shadow.matrix,M++}r.point[g]=N,g++}else if(F.isHemisphereLight){const N=t.get(F);N.skyColor.copy(F.color).multiplyScalar(K*S),N.groundColor.copy(F.groundColor).multiplyScalar(K*S),r.hemi[_]=N,_++}}b>0&&(e.isWebGL2||!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=ye.LTC_FLOAT_1,r.rectAreaLTC2=ye.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=ye.LTC_HALF_1,r.rectAreaLTC2=ye.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=f,r.ambient[1]=h,r.ambient[2]=p;const H=r.hash;(H.directionalLength!==m||H.pointLength!==g||H.spotLength!==v||H.rectAreaLength!==b||H.hemiLength!==_||H.numDirectionalShadows!==y||H.numPointShadows!==M||H.numSpotShadows!==C||H.numSpotMaps!==V)&&(r.directional.length=m,r.spot.length=v,r.rectArea.length=b,r.point.length=g,r.hemi.length=_,r.directionalShadow.length=y,r.directionalShadowMap.length=y,r.pointShadow.length=M,r.pointShadowMap.length=M,r.spotShadow.length=C,r.spotShadowMap.length=C,r.directionalShadowMatrix.length=y,r.pointShadowMatrix.length=M,r.spotLightMatrix.length=C+V-x,r.spotLightMap.length=V,r.numSpotLightShadowsWithMaps=x,H.directionalLength=m,H.pointLength=g,H.spotLength=v,H.rectAreaLength=b,H.hemiLength=_,H.numDirectionalShadows=y,H.numPointShadows=M,H.numSpotShadows=C,H.numSpotMaps=V,r.version=jne++)},setupView:function l(d,u){let f=0,h=0,p=0,m=0,g=0;const v=u.matrixWorldInverse;for(let b=0,_=d.length;b<_;b++){const y=d[b];if(y.isDirectionalLight){const M=r.directional[f];M.direction.setFromMatrixPosition(y.matrixWorld),s.setFromMatrixPosition(y.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(v),f++}else if(y.isSpotLight){const M=r.spot[p];M.position.setFromMatrixPosition(y.matrixWorld),M.position.applyMatrix4(v),M.direction.setFromMatrixPosition(y.matrixWorld),s.setFromMatrixPosition(y.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(v),p++}else if(y.isRectAreaLight){const M=r.rectArea[m];M.position.setFromMatrixPosition(y.matrixWorld),M.position.applyMatrix4(v),o.identity(),a.copy(y.matrixWorld),a.premultiply(v),o.extractRotation(a),M.halfWidth.set(.5*y.width,0,0),M.halfHeight.set(0,.5*y.height,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),m++}else if(y.isPointLight){const M=r.point[h];M.position.setFromMatrixPosition(y.matrixWorld),M.position.applyMatrix4(v),h++}else if(y.isHemisphereLight){const M=r.hemi[g];M.direction.setFromMatrixPosition(y.matrixWorld),M.direction.transformDirection(v),g++}}},state:r}}function yS(n,e){const t=new qne(n,e),i=[],r=[];return{init:function s(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:function c(u){t.setup(i,u)},setupLightsView:function l(u){t.setupView(i,u)},pushLight:function a(u){i.push(u)},pushShadow:function o(u){r.push(u)}}}function Xne(n,e){let t=new WeakMap;return{get:function i(s,a=0){const o=t.get(s);let c;return void 0===o?(c=new yS(n,e),t.set(s,[c])):a>=o.length?(c=new yS(n,e),o.push(c)):c=o[a],c},dispose:function r(){t=new WeakMap}}}class xS extends u1{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class MS extends u1{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new E,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Yne="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",Kne="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function Zne(n,e,t){let i=new lp;const r=new ne,s=new ne,a=new hn,o=new xS({depthPacking:CQ}),c=new MS,l={},d=t.maxTextureSize,u={[to]:Ir,[Ir]:to,[no]:no},f=new fo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ne},radius:{value:4}},vertexShader:Yne,fragmentShader:Kne}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const p=new Lt;p.setAttribute("position",new Di(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new ji(p,f),g=this;function v(y,M){const C=e.update(m);f.defines.VSM_SAMPLES!==y.blurSamples&&(f.defines.VSM_SAMPLES=y.blurSamples,h.defines.VSM_SAMPLES=y.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),null===y.mapPass&&(y.mapPass=new o1(r.x,r.y)),f.uniforms.shadow_pass.value=y.map.texture,f.uniforms.resolution.value=y.mapSize,f.uniforms.radius.value=y.radius,n.setRenderTarget(y.mapPass),n.clear(),n.renderBufferDirect(M,null,C,f,m,null),h.uniforms.shadow_pass.value=y.mapPass.texture,h.uniforms.resolution.value=y.mapSize,h.uniforms.radius.value=y.radius,n.setRenderTarget(y.map),n.clear(),n.renderBufferDirect(M,null,C,h,m,null)}function b(y,M,C,V,x,S){let H=null;const $=!0===C.isPointLight?y.customDistanceMaterial:y.customDepthMaterial;if(void 0!==$)H=$;else if(H=!0===C.isPointLight?c:o,n.localClippingEnabled&&!0===M.clipShadows&&Array.isArray(M.clippingPlanes)&&0!==M.clippingPlanes.length||M.displacementMap&&0!==M.displacementScale||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const J=H.uuid,F=M.uuid;let k=l[J];void 0===k&&(k={},l[J]=k);let K=k[F];void 0===K&&(K=H.clone(),k[F]=K),H=K}return H.visible=M.visible,H.wireframe=M.wireframe,H.side=S===e3?null!==M.shadowSide?M.shadowSide:M.side:null!==M.shadowSide?M.shadowSide:u[M.side],H.alphaMap=M.alphaMap,H.alphaTest=M.alphaTest,H.map=M.map,H.clipShadows=M.clipShadows,H.clippingPlanes=M.clippingPlanes,H.clipIntersection=M.clipIntersection,H.displacementMap=M.displacementMap,H.displacementScale=M.displacementScale,H.displacementBias=M.displacementBias,H.wireframeLinewidth=M.wireframeLinewidth,H.linewidth=M.linewidth,!0===C.isPointLight&&!0===H.isMeshDistanceMaterial&&(H.referencePosition.setFromMatrixPosition(C.matrixWorld),H.nearDistance=V,H.farDistance=x),H}function _(y,M,C,V,x){if(!1===y.visible)return;if(y.layers.test(M.layers)&&(y.isMesh||y.isLine||y.isPoints)&&(y.castShadow||y.receiveShadow&&x===e3)&&(!y.frustumCulled||i.intersectsObject(y))){y.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,y.matrixWorld);const $=e.update(y),J=y.material;if(Array.isArray(J)){const F=$.groups;for(let k=0,K=F.length;k<K;k++){const R=F[k],q=J[R.materialIndex];if(q&&q.visible){const N=b(y,q,V,C.near,C.far,x);n.renderBufferDirect(C,null,$,N,y,R)}}}else if(J.visible){const F=b(y,J,V,C.near,C.far,x);n.renderBufferDirect(C,null,$,F,y,null)}}const H=y.children;for(let $=0,J=H.length;$<J;$++)_(H[$],M,C,V,x)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=jC,this.render=function(y,M,C){if(!1===g.enabled||!1===g.autoUpdate&&!1===g.needsUpdate||0===y.length)return;const V=n.getRenderTarget(),x=n.getActiveCubeFace(),S=n.getActiveMipmapLevel(),H=n.state;H.setBlending(io),H.buffers.color.setClear(1,1,1,1),H.buffers.depth.setTest(!0),H.setScissorTest(!1);for(let $=0,J=y.length;$<J;$++){const F=y[$],k=F.shadow;if(void 0===k){console.warn("THREE.WebGLShadowMap:",F,"has no shadow.");continue}if(!1===k.autoUpdate&&!1===k.needsUpdate)continue;r.copy(k.mapSize);const K=k.getFrameExtents();r.multiply(K),s.copy(k.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/K.x),r.x=s.x*K.x,k.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/K.y),r.y=s.y*K.y,k.mapSize.y=s.y)),null===k.map&&(k.map=new o1(r.x,r.y,this.type!==e3?{minFilter:li,magFilter:li}:{}),k.map.texture.name=F.name+".shadowMap",k.camera.updateProjectionMatrix()),n.setRenderTarget(k.map),n.clear();const R=k.getViewportCount();for(let q=0;q<R;q++){const N=k.getViewport(q);a.set(s.x*N.x,s.y*N.y,s.x*N.z,s.y*N.w),H.viewport(a),k.updateMatrices(F,q),i=k.getFrustum(),_(M,C,k.camera,F,this.type)}!0!==k.isPointLightShadow&&this.type===e3&&v(k,C),k.needsUpdate=!1}g.needsUpdate=!1,n.setRenderTarget(V,x,S)}}function Qne(n,e,t){const i=t.isWebGL2,o=new function r(){let I=!1;const ee=new hn;let he=null;const Ne=new hn(0,0,0,0);return{setMask:function(je){he!==je&&!I&&(n.colorMask(je,je,je,je),he=je)},setLocked:function(je){I=je},setClear:function(je,In,Ai,fr,Qs){!0===Qs&&(je*=fr,In*=fr,Ai*=fr),ee.set(je,In,Ai,fr),!1===Ne.equals(ee)&&(n.clearColor(je,In,Ai,fr),Ne.copy(ee))},reset:function(){I=!1,he=null,Ne.set(-1,0,0,0)}}},c=new function s(){let I=!1,ee=null,he=null,Ne=null;return{setTest:function(je){je?pe(2929):De(2929)},setMask:function(je){ee!==je&&!I&&(n.depthMask(je),ee=je)},setFunc:function(je){if(he!==je){switch(je){case WZ:n.depthFunc(512);break;case jZ:n.depthFunc(519);break;case $Z:n.depthFunc(513);break;case E5:n.depthFunc(515);break;case qZ:n.depthFunc(514);break;case XZ:n.depthFunc(518);break;case YZ:n.depthFunc(516);break;case KZ:n.depthFunc(517);break;default:n.depthFunc(515)}he=je}},setLocked:function(je){I=je},setClear:function(je){Ne!==je&&(n.clearDepth(je),Ne=je)},reset:function(){I=!1,ee=null,he=null,Ne=null}}},l=new function a(){let I=!1,ee=null,he=null,Ne=null,je=null,In=null,Ai=null,fr=null,Qs=null;return{setTest:function(ri){I||(ri?pe(2960):De(2960))},setMask:function(ri){ee!==ri&&!I&&(n.stencilMask(ri),ee=ri)},setFunc:function(ri,ls,Js){(he!==ri||Ne!==ls||je!==Js)&&(n.stencilFunc(ri,ls,Js),he=ri,Ne=ls,je=Js)},setOp:function(ri,ls,Js){(In!==ri||Ai!==ls||fr!==Js)&&(n.stencilOp(ri,ls,Js),In=ri,Ai=ls,fr=Js)},setLocked:function(ri){I=ri},setClear:function(ri){Qs!==ri&&(n.clearStencil(ri),Qs=ri)},reset:function(){I=!1,ee=null,he=null,Ne=null,je=null,In=null,Ai=null,fr=null,Qs=null}}},d=new WeakMap,u=new WeakMap;let f={},h={},p=new WeakMap,m=[],g=null,v=!1,b=null,_=null,y=null,M=null,C=null,V=null,x=null,S=!1,H=null,$=null,J=null,F=null,k=null;const K=n.getParameter(35661);let R=!1,q=0;const N=n.getParameter(7938);-1!==N.indexOf("WebGL")?(q=parseFloat(/^WebGL (\d)/.exec(N)[1]),R=q>=1):-1!==N.indexOf("OpenGL ES")&&(q=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),R=q>=2);let X=null,ie={};const be=n.getParameter(3088),j=n.getParameter(2978),le=(new hn).fromArray(be),oe=(new hn).fromArray(j);function G(I,ee,he){const Ne=new Uint8Array(4),je=n.createTexture();n.bindTexture(I,je),n.texParameteri(I,10241,9728),n.texParameteri(I,10240,9728);for(let In=0;In<he;In++)n.texImage2D(ee+In,0,6408,1,1,0,6408,5121,Ne);return je}const Ie={};function pe(I){!0!==f[I]&&(n.enable(I),f[I]=!0)}function De(I){!1!==f[I]&&(n.disable(I),f[I]=!1)}Ie[3553]=G(3553,3553,1),Ie[34067]=G(34067,34069,6),o.setClear(0,0,0,1),c.setClear(1),l.setClear(0),pe(2929),c.setFunc(E5),Ce(!1),mt(WC),pe(2884),_e(io);const re={[Y2]:32774,[HZ]:32778,[IZ]:32779};if(i)re[YC]=32775,re[KC]=32776;else{const I=e.get("EXT_blend_minmax");null!==I&&(re[YC]=I.MIN_EXT,re[KC]=I.MAX_EXT)}const ue={[kZ]:0,[RZ]:1,[NZ]:768,[ZC]:770,[GZ]:776,[BZ]:774,[FZ]:772,[PZ]:769,[QC]:771,[UZ]:775,[OZ]:773};function _e(I,ee,he,Ne,je,In,Ai,fr){if(I!==io){if(!1===v&&(pe(3042),v=!0),I===zZ)je=je||ee,In=In||he,Ai=Ai||Ne,(ee!==_||je!==C)&&(n.blendEquationSeparate(re[ee],re[je]),_=ee,C=je),(he!==y||Ne!==M||In!==V||Ai!==x)&&(n.blendFuncSeparate(ue[he],ue[Ne],ue[In],ue[Ai]),y=he,M=Ne,V=In,x=Ai),b=I,S=!1;else if(I!==b||fr!==S){if((_!==Y2||C!==Y2)&&(n.blendEquation(32774),_=Y2,C=Y2),fr)switch(I){case X2:n.blendFuncSeparate(1,771,1,771);break;case $C:n.blendFunc(1,1);break;case qC:n.blendFuncSeparate(0,769,0,1);break;case XC:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",I)}else switch(I){case X2:n.blendFuncSeparate(770,771,1,771);break;case $C:n.blendFunc(770,1);break;case qC:n.blendFuncSeparate(0,769,0,1);break;case XC:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",I)}y=null,M=null,V=null,x=null,b=I,S=fr}}else!0===v&&(De(3042),v=!1)}function Ce(I){H!==I&&(n.frontFace(I?2304:2305),H=I)}function mt(I){I!==AZ?(pe(2884),I!==$&&n.cullFace(I===WC?1029:I===LZ?1028:1032)):De(2884),$=I}function gt(I,ee,he){I?(pe(32823),(F!==ee||k!==he)&&(n.polygonOffset(ee,he),F=ee,k=he)):De(32823)}return{buffers:{color:o,depth:c,stencil:l},enable:pe,disable:De,bindFramebuffer:function Me(I,ee){return h[I]!==ee&&(n.bindFramebuffer(I,ee),h[I]=ee,i&&(36009===I&&(h[36160]=ee),36160===I&&(h[36009]=ee)),!0)},drawBuffers:function Pe(I,ee){let he=m,Ne=!1;if(I)if(he=p.get(ee),void 0===he&&(he=[],p.set(ee,he)),I.isWebGLMultipleRenderTargets){const je=I.texture;if(he.length!==je.length||36064!==he[0]){for(let In=0,Ai=je.length;In<Ai;In++)he[In]=36064+In;he.length=je.length,Ne=!0}}else 36064!==he[0]&&(he[0]=36064,Ne=!0);else 1029!==he[0]&&(he[0]=1029,Ne=!0);Ne&&(t.isWebGL2?n.drawBuffers(he):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(he))},useProgram:function tt(I){return g!==I&&(n.useProgram(I),g=I,!0)},setBlending:_e,setMaterial:function We(I,ee){I.side===no?De(2884):pe(2884);let he=I.side===Ir;ee&&(he=!he),Ce(he),I.blending===X2&&!1===I.transparent?_e(io):_e(I.blending,I.blendEquation,I.blendSrc,I.blendDst,I.blendEquationAlpha,I.blendSrcAlpha,I.blendDstAlpha,I.premultipliedAlpha),c.setFunc(I.depthFunc),c.setTest(I.depthTest),c.setMask(I.depthWrite),o.setMask(I.colorWrite);const Ne=I.stencilWrite;l.setTest(Ne),Ne&&(l.setMask(I.stencilWriteMask),l.setFunc(I.stencilFunc,I.stencilRef,I.stencilFuncMask),l.setOp(I.stencilFail,I.stencilZFail,I.stencilZPass)),gt(I.polygonOffset,I.polygonOffsetFactor,I.polygonOffsetUnits),!0===I.alphaToCoverage?pe(32926):De(32926)},setFlipSided:Ce,setCullFace:mt,setLineWidth:function nt(I){I!==J&&(R&&n.lineWidth(I),J=I)},setPolygonOffset:gt,setScissorTest:function un(I){I?pe(3089):De(3089)},activeTexture:function Xt(I){void 0===I&&(I=33984+K-1),X!==I&&(n.activeTexture(I),X=I)},bindTexture:function L(I,ee,he){void 0===he&&(he=null===X?33984+K-1:X);let Ne=ie[he];void 0===Ne&&(Ne={type:void 0,texture:void 0},ie[he]=Ne),(Ne.type!==I||Ne.texture!==ee)&&(X!==he&&(n.activeTexture(he),X=he),n.bindTexture(I,ee||Ie[I]),Ne.type=I,Ne.texture=ee)},unbindTexture:function w(){const I=ie[X];void 0!==I&&void 0!==I.type&&(n.bindTexture(I.type,null),I.type=void 0,I.texture=void 0)},compressedTexImage2D:function Z(){try{n.compressedTexImage2D.apply(n,arguments)}catch(I){console.error("THREE.WebGLState:",I)}},compressedTexImage3D:function me(){try{n.compressedTexImage3D.apply(n,arguments)}catch(I){console.error("THREE.WebGLState:",I)}},texImage2D:function we(){try{n.texImage2D.apply(n,arguments)}catch(I){console.error("THREE.WebGLState:",I)}},texImage3D:function Xe(){try{n.texImage3D.apply(n,arguments)}catch(I){console.error("THREE.WebGLState:",I)}},updateUBOMapping:function Ot(I,ee){let he=u.get(ee);void 0===he&&(he=new WeakMap,u.set(ee,he));let Ne=he.get(I);void 0===Ne&&(Ne=n.getUniformBlockIndex(ee,I.name),he.set(I,Ne))},uniformBlockBinding:function Yt(I,ee){const Ne=u.get(ee).get(I);d.get(ee)!==Ne&&(n.uniformBlockBinding(ee,Ne,I.__bindingPointIndex),d.set(ee,Ne))},texStorage2D:function O(){try{n.texStorage2D.apply(n,arguments)}catch(I){console.error("THREE.WebGLState:",I)}},texStorage3D:function ze(){try{n.texStorage3D.apply(n,arguments)}catch(I){console.error("THREE.WebGLState:",I)}},texSubImage2D:function ge(){try{n.texSubImage2D.apply(n,arguments)}catch(I){console.error("THREE.WebGLState:",I)}},texSubImage3D:function Ee(){try{n.texSubImage3D.apply(n,arguments)}catch(I){console.error("THREE.WebGLState:",I)}},compressedTexSubImage2D:function Ke(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(I){console.error("THREE.WebGLState:",I)}},compressedTexSubImage3D:function z(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(I){console.error("THREE.WebGLState:",I)}},scissor:function Qe(I){!1===le.equals(I)&&(n.scissor(I.x,I.y,I.z,I.w),le.copy(I))},viewport:function Ze(I){!1===oe.equals(I)&&(n.viewport(I.x,I.y,I.z,I.w),oe.copy(I))},reset:function pn(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),!0===i&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},X=null,ie={},h={},p=new WeakMap,m=[],g=null,v=!1,b=null,_=null,y=null,M=null,C=null,V=null,x=null,S=!1,H=null,$=null,J=null,F=null,k=null,le.set(0,0,n.canvas.width,n.canvas.height),oe.set(0,0,n.canvas.width,n.canvas.height),o.reset(),c.reset(),l.reset()}}}function Jne(n,e,t,i,r,s,a){const o=r.isWebGL2,c=r.maxTextures,l=r.maxCubemapSize,d=r.maxTextureSize,u=r.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const g=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function b(L,w){return v?new OffscreenCanvas(L,w):o3("canvas")}function _(L,w,Z,me){let ge=1;if((L.width>me||L.height>me)&&(ge=me/Math.max(L.width,L.height)),ge<1||!0===w){if(typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&L instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&L instanceof ImageBitmap){const Ee=w?Aw:Math.floor,Ke=Ee(ge*L.width),z=Ee(ge*L.height);void 0===m&&(m=b(Ke,z));const O=Z?b(Ke,z):m;return O.width=Ke,O.height=z,O.getContext("2d").drawImage(L,0,0,Ke,z),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+L.width+"x"+L.height+") to ("+Ke+"x"+z+")."),O}return"data"in L&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+L.width+"x"+L.height+")."),L}return L}function y(L){return O5(L.width)&&O5(L.height)}function C(L,w){return L.generateMipmaps&&w&&L.minFilter!==li&&L.minFilter!==di}function V(L){n.generateMipmap(L)}function x(L,w,Z,me,ge=!1){if(!1===o)return w;if(null!==L){if(void 0!==n[L])return n[L];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+L+"'")}let Ee=w;return 6403===w&&(5126===Z&&(Ee=33326),5131===Z&&(Ee=33325),5121===Z&&(Ee=33321)),33319===w&&(5126===Z&&(Ee=33328),5131===Z&&(Ee=33327),5121===Z&&(Ee=33323)),6408===w&&(5126===Z&&(Ee=34836),5131===Z&&(Ee=34842),5121===Z&&(Ee=me===Tn&&!1===ge?35907:32856),32819===Z&&(Ee=32854),32820===Z&&(Ee=32855)),(33325===Ee||33326===Ee||33327===Ee||33328===Ee||34842===Ee||34836===Ee)&&e.get("EXT_color_buffer_float"),Ee}function S(L,w,Z){return!0===C(L,Z)||L.isFramebufferTexture&&L.minFilter!==li&&L.minFilter!==di?Math.log2(Math.max(w.width,w.height))+1:void 0!==L.mipmaps&&L.mipmaps.length>0?L.mipmaps.length:L.isCompressedTexture&&Array.isArray(L.image)?w.mipmaps.length:1}function H(L){return L===li||L===A5||L===b6?9728:9729}function $(L){const w=L.target;w.removeEventListener("dispose",$),function F(L){const w=i.get(L);if(void 0===w.__webglInit)return;const Z=L.source,me=g.get(Z);if(me){const ge=me[w.__cacheKey];ge.usedTimes--,0===ge.usedTimes&&k(L),0===Object.keys(me).length&&g.delete(Z)}i.remove(L)}(w),w.isVideoTexture&&p.delete(w)}function J(L){const w=L.target;w.removeEventListener("dispose",J),function K(L){const w=L.texture,Z=i.get(L),me=i.get(w);if(void 0!==me.__webglTexture&&(n.deleteTexture(me.__webglTexture),a.memory.textures--),L.depthTexture&&L.depthTexture.dispose(),L.isWebGLCubeRenderTarget)for(let ge=0;ge<6;ge++)n.deleteFramebuffer(Z.__webglFramebuffer[ge]),Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer[ge]);else{if(n.deleteFramebuffer(Z.__webglFramebuffer),Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer)for(let ge=0;ge<Z.__webglColorRenderbuffer.length;ge++)Z.__webglColorRenderbuffer[ge]&&n.deleteRenderbuffer(Z.__webglColorRenderbuffer[ge]);Z.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Z.__webglDepthRenderbuffer)}if(L.isWebGLMultipleRenderTargets)for(let ge=0,Ee=w.length;ge<Ee;ge++){const Ke=i.get(w[ge]);Ke.__webglTexture&&(n.deleteTexture(Ke.__webglTexture),a.memory.textures--),i.remove(w[ge])}i.remove(w),i.remove(L)}(w)}function k(L){const w=i.get(L);n.deleteTexture(w.__webglTexture),delete g.get(L.source)[w.__cacheKey],a.memory.textures--}let R=0;function ie(L,w){const Z=i.get(L);if(L.isVideoTexture&&function un(L){const w=a.render.frame;p.get(L)!==w&&(p.set(L,w),L.update())}(L),!1===L.isRenderTargetTexture&&L.version>0&&Z.__version!==L.version){const me=L.image;if(null===me)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==me.complete)return void De(Z,L,w);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(3553,Z.__webglTexture,33984+w)}const oe={[_6]:10497,[ar]:33071,[v6]:33648},G={[li]:9728,[A5]:9984,[b6]:9986,[di]:9729,[JC]:9985,[Qo]:9987};function Ie(L,w,Z){if(Z?(n.texParameteri(L,10242,oe[w.wrapS]),n.texParameteri(L,10243,oe[w.wrapT]),(32879===L||35866===L)&&n.texParameteri(L,32882,oe[w.wrapR]),n.texParameteri(L,10240,G[w.magFilter]),n.texParameteri(L,10241,G[w.minFilter])):(n.texParameteri(L,10242,33071),n.texParameteri(L,10243,33071),(32879===L||35866===L)&&n.texParameteri(L,32882,33071),(w.wrapS!==ar||w.wrapT!==ar)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(L,10240,H(w.magFilter)),n.texParameteri(L,10241,H(w.minFilter)),w.minFilter!==li&&w.minFilter!==di&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const me=e.get("EXT_texture_filter_anisotropic");if(w.magFilter===li||w.minFilter!==b6&&w.minFilter!==Qo||w.type===ro&&!1===e.has("OES_texture_float_linear")||!1===o&&w.type===n3&&!1===e.has("OES_texture_half_float_linear"))return;(w.anisotropy>1||i.get(w).__currentAnisotropy)&&(n.texParameterf(L,me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(w.anisotropy,r.getMaxAnisotropy())),i.get(w).__currentAnisotropy=w.anisotropy)}}function pe(L,w){let Z=!1;void 0===L.__webglInit&&(L.__webglInit=!0,w.addEventListener("dispose",$));const me=w.source;let ge=g.get(me);void 0===ge&&(ge={},g.set(me,ge));const Ee=function X(L){const w=[];return w.push(L.wrapS),w.push(L.wrapT),w.push(L.wrapR||0),w.push(L.magFilter),w.push(L.minFilter),w.push(L.anisotropy),w.push(L.internalFormat),w.push(L.format),w.push(L.type),w.push(L.generateMipmaps),w.push(L.premultiplyAlpha),w.push(L.flipY),w.push(L.unpackAlignment),w.push(L.encoding),w.join()}(w);if(Ee!==L.__cacheKey){void 0===ge[Ee]&&(ge[Ee]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,Z=!0),ge[Ee].usedTimes++;const Ke=ge[L.__cacheKey];void 0!==Ke&&(ge[L.__cacheKey].usedTimes--,0===Ke.usedTimes&&k(w)),L.__cacheKey=Ee,L.__webglTexture=ge[Ee].texture}return Z}function De(L,w,Z){let me=3553;(w.isDataArrayTexture||w.isCompressedArrayTexture)&&(me=35866),w.isData3DTexture&&(me=32879);const ge=pe(L,w),Ee=w.source;t.bindTexture(me,L.__webglTexture,33984+Z);const Ke=i.get(Ee);if(Ee.version!==Ke.__version||!0===ge){t.activeTexture(33984+Z),n.pixelStorei(37440,w.flipY),n.pixelStorei(37441,w.premultiplyAlpha),n.pixelStorei(3317,w.unpackAlignment),n.pixelStorei(37443,0);const z=function M(L){return!o&&(L.wrapS!==ar||L.wrapT!==ar||L.minFilter!==li&&L.minFilter!==di)}(w)&&!1===y(w.image);let O=_(w.image,z,!1,d);O=Xt(w,O);const ze=y(O)||o,we=s.convert(w.format,w.encoding);let Ze,Xe=s.convert(w.type),Qe=x(w.internalFormat,we,Xe,w.encoding,w.isVideoTexture);Ie(me,w,ze);const Ot=w.mipmaps,Yt=o&&!0!==w.isVideoTexture,pn=void 0===Ke.__version||!0===ge,I=S(w,O,ze);if(w.isDepthTexture)Qe=6402,o?Qe=w.type===ro?36012:w.type===e1?33190:w.type===K2?35056:33189:w.type===ro&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),w.format===t1&&6402===Qe&&w.type!==ew&&w.type!==e1&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),w.type=e1,Xe=s.convert(w.type)),w.format===Z2&&6402===Qe&&(Qe=34041,w.type!==K2&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),w.type=K2,Xe=s.convert(w.type))),pn&&(Yt?t.texStorage2D(3553,1,Qe,O.width,O.height):t.texImage2D(3553,0,Qe,O.width,O.height,0,we,Xe,null));else if(w.isDataTexture)if(Ot.length>0&&ze){Yt&&pn&&t.texStorage2D(3553,I,Qe,Ot[0].width,Ot[0].height);for(let ee=0,he=Ot.length;ee<he;ee++)Ze=Ot[ee],Yt?t.texSubImage2D(3553,ee,0,0,Ze.width,Ze.height,we,Xe,Ze.data):t.texImage2D(3553,ee,Qe,Ze.width,Ze.height,0,we,Xe,Ze.data);w.generateMipmaps=!1}else Yt?(pn&&t.texStorage2D(3553,I,Qe,O.width,O.height),t.texSubImage2D(3553,0,0,0,O.width,O.height,we,Xe,O.data)):t.texImage2D(3553,0,Qe,O.width,O.height,0,we,Xe,O.data);else if(w.isCompressedTexture)if(w.isCompressedArrayTexture){Yt&&pn&&t.texStorage3D(35866,I,Qe,Ot[0].width,Ot[0].height,O.depth);for(let ee=0,he=Ot.length;ee<he;ee++)Ze=Ot[ee],w.format!==is?null!==we?Yt?t.compressedTexSubImage3D(35866,ee,0,0,0,Ze.width,Ze.height,O.depth,we,Ze.data,0,0):t.compressedTexImage3D(35866,ee,Qe,Ze.width,Ze.height,O.depth,0,Ze.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Yt?t.texSubImage3D(35866,ee,0,0,0,Ze.width,Ze.height,O.depth,we,Xe,Ze.data):t.texImage3D(35866,ee,Qe,Ze.width,Ze.height,O.depth,0,we,Xe,Ze.data)}else{Yt&&pn&&t.texStorage2D(3553,I,Qe,Ot[0].width,Ot[0].height);for(let ee=0,he=Ot.length;ee<he;ee++)Ze=Ot[ee],w.format!==is?null!==we?Yt?t.compressedTexSubImage2D(3553,ee,0,0,Ze.width,Ze.height,we,Ze.data):t.compressedTexImage2D(3553,ee,Qe,Ze.width,Ze.height,0,Ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Yt?t.texSubImage2D(3553,ee,0,0,Ze.width,Ze.height,we,Xe,Ze.data):t.texImage2D(3553,ee,Qe,Ze.width,Ze.height,0,we,Xe,Ze.data)}else if(w.isDataArrayTexture)Yt?(pn&&t.texStorage3D(35866,I,Qe,O.width,O.height,O.depth),t.texSubImage3D(35866,0,0,0,0,O.width,O.height,O.depth,we,Xe,O.data)):t.texImage3D(35866,0,Qe,O.width,O.height,O.depth,0,we,Xe,O.data);else if(w.isData3DTexture)Yt?(pn&&t.texStorage3D(32879,I,Qe,O.width,O.height,O.depth),t.texSubImage3D(32879,0,0,0,0,O.width,O.height,O.depth,we,Xe,O.data)):t.texImage3D(32879,0,Qe,O.width,O.height,O.depth,0,we,Xe,O.data);else if(w.isFramebufferTexture){if(pn)if(Yt)t.texStorage2D(3553,I,Qe,O.width,O.height);else{let ee=O.width,he=O.height;for(let Ne=0;Ne<I;Ne++)t.texImage2D(3553,Ne,Qe,ee,he,0,we,Xe,null),ee>>=1,he>>=1}}else if(Ot.length>0&&ze){Yt&&pn&&t.texStorage2D(3553,I,Qe,Ot[0].width,Ot[0].height);for(let ee=0,he=Ot.length;ee<he;ee++)Ze=Ot[ee],Yt?t.texSubImage2D(3553,ee,0,0,we,Xe,Ze):t.texImage2D(3553,ee,Qe,we,Xe,Ze);w.generateMipmaps=!1}else Yt?(pn&&t.texStorage2D(3553,I,Qe,O.width,O.height),t.texSubImage2D(3553,0,0,0,we,Xe,O)):t.texImage2D(3553,0,Qe,we,Xe,O);C(w,ze)&&V(me),Ke.__version=Ee.version,w.onUpdate&&w.onUpdate(w)}L.__version=w.version}function Pe(L,w,Z,me,ge){const Ee=s.convert(Z.format,Z.encoding),Ke=s.convert(Z.type),z=x(Z.internalFormat,Ee,Ke,Z.encoding);i.get(w).__hasExternalTextures||(32879===ge||35866===ge?t.texImage3D(ge,0,z,w.width,w.height,w.depth,0,Ee,Ke,null):t.texImage2D(ge,0,z,w.width,w.height,0,Ee,Ke,null)),t.bindFramebuffer(36160,L),gt(w)?f.framebufferTexture2DMultisampleEXT(36160,me,ge,i.get(Z).__webglTexture,0,nt(w)):(3553===ge||ge>=34069&&ge<=34074)&&n.framebufferTexture2D(36160,me,ge,i.get(Z).__webglTexture,0),t.bindFramebuffer(36160,null)}function tt(L,w,Z){if(n.bindRenderbuffer(36161,L),w.depthBuffer&&!w.stencilBuffer){let me=33189;if(Z||gt(w)){const ge=w.depthTexture;ge&&ge.isDepthTexture&&(ge.type===ro?me=36012:ge.type===e1&&(me=33190));const Ee=nt(w);gt(w)?f.renderbufferStorageMultisampleEXT(36161,Ee,me,w.width,w.height):n.renderbufferStorageMultisample(36161,Ee,me,w.width,w.height)}else n.renderbufferStorage(36161,me,w.width,w.height);n.framebufferRenderbuffer(36160,36096,36161,L)}else if(w.depthBuffer&&w.stencilBuffer){const me=nt(w);Z&&!1===gt(w)?n.renderbufferStorageMultisample(36161,me,35056,w.width,w.height):gt(w)?f.renderbufferStorageMultisampleEXT(36161,me,35056,w.width,w.height):n.renderbufferStorage(36161,34041,w.width,w.height),n.framebufferRenderbuffer(36160,33306,36161,L)}else{const me=!0===w.isWebGLMultipleRenderTargets?w.texture:[w.texture];for(let ge=0;ge<me.length;ge++){const Ee=me[ge],Ke=s.convert(Ee.format,Ee.encoding),z=s.convert(Ee.type),O=x(Ee.internalFormat,Ke,z,Ee.encoding),ze=nt(w);Z&&!1===gt(w)?n.renderbufferStorageMultisample(36161,ze,O,w.width,w.height):gt(w)?f.renderbufferStorageMultisampleEXT(36161,ze,O,w.width,w.height):n.renderbufferStorage(36161,O,w.width,w.height)}}n.bindRenderbuffer(36161,null)}function ue(L){const w=i.get(L),Z=!0===L.isWebGLCubeRenderTarget;if(L.depthTexture&&!w.__autoAllocateDepthBuffer){if(Z)throw new Error("target.depthTexture not supported in Cube render targets");!function re(L,w){if(w&&w.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,L),!w.depthTexture||!w.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(w.depthTexture).__webglTexture||w.depthTexture.image.width!==w.width||w.depthTexture.image.height!==w.height)&&(w.depthTexture.image.width=w.width,w.depthTexture.image.height=w.height,w.depthTexture.needsUpdate=!0),ie(w.depthTexture,0);const me=i.get(w.depthTexture).__webglTexture,ge=nt(w);if(w.depthTexture.format===t1)gt(w)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,me,0,ge):n.framebufferTexture2D(36160,36096,3553,me,0);else{if(w.depthTexture.format!==Z2)throw new Error("Unknown depthTexture format");gt(w)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,me,0,ge):n.framebufferTexture2D(36160,33306,3553,me,0)}}(w.__webglFramebuffer,L)}else if(Z){w.__webglDepthbuffer=[];for(let me=0;me<6;me++)t.bindFramebuffer(36160,w.__webglFramebuffer[me]),w.__webglDepthbuffer[me]=n.createRenderbuffer(),tt(w.__webglDepthbuffer[me],L,!1)}else t.bindFramebuffer(36160,w.__webglFramebuffer),w.__webglDepthbuffer=n.createRenderbuffer(),tt(w.__webglDepthbuffer,L,!1);t.bindFramebuffer(36160,null)}function nt(L){return Math.min(u,L.samples)}function gt(L){const w=i.get(L);return o&&L.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==w.__useRenderToTexture}function Xt(L,w){const Z=L.encoding,me=L.format,ge=L.type;return!0===L.isCompressedTexture||!0===L.isVideoTexture||L.format===P5||Z!==n1&&(Z===Tn?!1===o?!0===e.has("EXT_sRGB")&&me===is?(L.format=P5,L.minFilter=di,L.generateMipmaps=!1):w=zw.sRGBToLinear(w):(me!==is||ge!==Jo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Z)),w}this.allocateTextureUnit=function N(){const L=R;return L>=c&&console.warn("THREE.WebGLTextures: Trying to use "+L+" texture units while this GPU supports only "+c),R+=1,L},this.resetTextureUnits=function q(){R=0},this.setTexture2D=ie,this.setTexture2DArray=function be(L,w){const Z=i.get(L);L.version>0&&Z.__version!==L.version?De(Z,L,w):t.bindTexture(35866,Z.__webglTexture,33984+w)},this.setTexture3D=function j(L,w){const Z=i.get(L);L.version>0&&Z.__version!==L.version?De(Z,L,w):t.bindTexture(32879,Z.__webglTexture,33984+w)},this.setTextureCube=function le(L,w){const Z=i.get(L);L.version>0&&Z.__version!==L.version?function Me(L,w,Z){if(6!==w.image.length)return;const me=pe(L,w),ge=w.source;t.bindTexture(34067,L.__webglTexture,33984+Z);const Ee=i.get(ge);if(ge.version!==Ee.__version||!0===me){t.activeTexture(33984+Z),n.pixelStorei(37440,w.flipY),n.pixelStorei(37441,w.premultiplyAlpha),n.pixelStorei(3317,w.unpackAlignment),n.pixelStorei(37443,0);const Ke=w.isCompressedTexture||w.image[0].isCompressedTexture,z=w.image[0]&&w.image[0].isDataTexture,O=[];for(let ee=0;ee<6;ee++)O[ee]=Ke||z?z?w.image[ee].image:w.image[ee]:_(w.image[ee],!1,!0,l),O[ee]=Xt(w,O[ee]);const ze=O[0],we=y(ze)||o,Xe=s.convert(w.format,w.encoding),Qe=s.convert(w.type),Ze=x(w.internalFormat,Xe,Qe,w.encoding),Ot=o&&!0!==w.isVideoTexture,Yt=void 0===Ee.__version||!0===me;let I,pn=S(w,ze,we);if(Ie(34067,w,we),Ke){Ot&&Yt&&t.texStorage2D(34067,pn,Ze,ze.width,ze.height);for(let ee=0;ee<6;ee++){I=O[ee].mipmaps;for(let he=0;he<I.length;he++){const Ne=I[he];w.format!==is?null!==Xe?Ot?t.compressedTexSubImage2D(34069+ee,he,0,0,Ne.width,Ne.height,Xe,Ne.data):t.compressedTexImage2D(34069+ee,he,Ze,Ne.width,Ne.height,0,Ne.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ot?t.texSubImage2D(34069+ee,he,0,0,Ne.width,Ne.height,Xe,Qe,Ne.data):t.texImage2D(34069+ee,he,Ze,Ne.width,Ne.height,0,Xe,Qe,Ne.data)}}}else{I=w.mipmaps,Ot&&Yt&&(I.length>0&&pn++,t.texStorage2D(34067,pn,Ze,O[0].width,O[0].height));for(let ee=0;ee<6;ee++)if(z){Ot?t.texSubImage2D(34069+ee,0,0,0,O[ee].width,O[ee].height,Xe,Qe,O[ee].data):t.texImage2D(34069+ee,0,Ze,O[ee].width,O[ee].height,0,Xe,Qe,O[ee].data);for(let he=0;he<I.length;he++){const je=I[he].image[ee].image;Ot?t.texSubImage2D(34069+ee,he+1,0,0,je.width,je.height,Xe,Qe,je.data):t.texImage2D(34069+ee,he+1,Ze,je.width,je.height,0,Xe,Qe,je.data)}}else{Ot?t.texSubImage2D(34069+ee,0,0,0,Xe,Qe,O[ee]):t.texImage2D(34069+ee,0,Ze,Xe,Qe,O[ee]);for(let he=0;he<I.length;he++){const Ne=I[he];Ot?t.texSubImage2D(34069+ee,he+1,0,0,Xe,Qe,Ne.image[ee]):t.texImage2D(34069+ee,he+1,Ze,Xe,Qe,Ne.image[ee])}}}C(w,we)&&V(34067),Ee.__version=ge.version,w.onUpdate&&w.onUpdate(w)}L.__version=w.version}(Z,L,w):t.bindTexture(34067,Z.__webglTexture,33984+w)},this.rebindTextures=function _e(L,w,Z){const me=i.get(L);void 0!==w&&Pe(me.__webglFramebuffer,L,L.texture,36064,3553),void 0!==Z&&ue(L)},this.setupRenderTarget=function We(L){const w=L.texture,Z=i.get(L),me=i.get(w);L.addEventListener("dispose",J),!0!==L.isWebGLMultipleRenderTargets&&(void 0===me.__webglTexture&&(me.__webglTexture=n.createTexture()),me.__version=w.version,a.memory.textures++);const ge=!0===L.isWebGLCubeRenderTarget,Ee=!0===L.isWebGLMultipleRenderTargets,Ke=y(L)||o;if(ge){Z.__webglFramebuffer=[];for(let z=0;z<6;z++)Z.__webglFramebuffer[z]=n.createFramebuffer()}else{if(Z.__webglFramebuffer=n.createFramebuffer(),Ee)if(r.drawBuffers){const z=L.texture;for(let O=0,ze=z.length;O<ze;O++){const we=i.get(z[O]);void 0===we.__webglTexture&&(we.__webglTexture=n.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&L.samples>0&&!1===gt(L)){const z=Ee?w:[w];Z.__webglMultisampledFramebuffer=n.createFramebuffer(),Z.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,Z.__webglMultisampledFramebuffer);for(let O=0;O<z.length;O++){const ze=z[O];Z.__webglColorRenderbuffer[O]=n.createRenderbuffer(),n.bindRenderbuffer(36161,Z.__webglColorRenderbuffer[O]);const we=s.convert(ze.format,ze.encoding),Xe=s.convert(ze.type),Qe=x(ze.internalFormat,we,Xe,ze.encoding,!0===L.isXRRenderTarget),Ze=nt(L);n.renderbufferStorageMultisample(36161,Ze,Qe,L.width,L.height),n.framebufferRenderbuffer(36160,36064+O,36161,Z.__webglColorRenderbuffer[O])}n.bindRenderbuffer(36161,null),L.depthBuffer&&(Z.__webglDepthRenderbuffer=n.createRenderbuffer(),tt(Z.__webglDepthRenderbuffer,L,!0)),t.bindFramebuffer(36160,null)}}if(ge){t.bindTexture(34067,me.__webglTexture),Ie(34067,w,Ke);for(let z=0;z<6;z++)Pe(Z.__webglFramebuffer[z],L,w,36064,34069+z);C(w,Ke)&&V(34067),t.unbindTexture()}else if(Ee){const z=L.texture;for(let O=0,ze=z.length;O<ze;O++){const we=z[O],Xe=i.get(we);t.bindTexture(3553,Xe.__webglTexture),Ie(3553,we,Ke),Pe(Z.__webglFramebuffer,L,we,36064+O,3553),C(we,Ke)&&V(3553)}t.unbindTexture()}else{let z=3553;(L.isWebGL3DRenderTarget||L.isWebGLArrayRenderTarget)&&(o?z=L.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(z,me.__webglTexture),Ie(z,w,Ke),Pe(Z.__webglFramebuffer,L,w,36064,z),C(w,Ke)&&V(z),t.unbindTexture()}L.depthBuffer&&ue(L)},this.updateRenderTargetMipmap=function Ce(L){const w=y(L)||o,Z=!0===L.isWebGLMultipleRenderTargets?L.texture:[L.texture];for(let me=0,ge=Z.length;me<ge;me++){const Ee=Z[me];if(C(Ee,w)){const Ke=L.isWebGLCubeRenderTarget?34067:3553,z=i.get(Ee).__webglTexture;t.bindTexture(Ke,z),V(Ke),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function mt(L){if(o&&L.samples>0&&!1===gt(L)){const w=L.isWebGLMultipleRenderTargets?L.texture:[L.texture],Z=L.width,me=L.height;let ge=16384;const Ee=[],Ke=L.stencilBuffer?33306:36096,z=i.get(L),O=!0===L.isWebGLMultipleRenderTargets;if(O)for(let ze=0;ze<w.length;ze++)t.bindFramebuffer(36160,z.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+ze,36161,null),t.bindFramebuffer(36160,z.__webglFramebuffer),n.framebufferTexture2D(36009,36064+ze,3553,null,0);t.bindFramebuffer(36008,z.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,z.__webglFramebuffer);for(let ze=0;ze<w.length;ze++){Ee.push(36064+ze),L.depthBuffer&&Ee.push(Ke);const we=void 0!==z.__ignoreDepthValues&&z.__ignoreDepthValues;if(!1===we&&(L.depthBuffer&&(ge|=256),L.stencilBuffer&&(ge|=1024)),O&&n.framebufferRenderbuffer(36008,36064,36161,z.__webglColorRenderbuffer[ze]),!0===we&&(n.invalidateFramebuffer(36008,[Ke]),n.invalidateFramebuffer(36009,[Ke])),O){const Xe=i.get(w[ze]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,Xe,0)}n.blitFramebuffer(0,0,Z,me,0,0,Z,me,ge,9728),h&&n.invalidateFramebuffer(36008,Ee)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),O)for(let ze=0;ze<w.length;ze++){t.bindFramebuffer(36160,z.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+ze,36161,z.__webglColorRenderbuffer[ze]);const we=i.get(w[ze]).__webglTexture;t.bindFramebuffer(36160,z.__webglFramebuffer),n.framebufferTexture2D(36009,36064+ze,3553,we,0)}t.bindFramebuffer(36009,z.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=ue,this.setupFrameBufferTexture=Pe,this.useMultisampledRTT=gt}function eie(n,e,t){const i=t.isWebGL2;return{convert:function r(s,a=null){let o;if(s===Jo)return 5121;if(s===oQ)return 32819;if(s===cQ)return 32820;if(s===rQ)return 5120;if(s===sQ)return 5122;if(s===ew)return 5123;if(s===aQ)return 5124;if(s===e1)return 5125;if(s===ro)return 5126;if(s===n3)return i?5131:(o=e.get("OES_texture_half_float"),null!==o?o.HALF_FLOAT_OES:null);if(s===lQ)return 6406;if(s===is)return 6408;if(s===dQ)return 6409;if(s===uQ)return 6410;if(s===t1)return 6402;if(s===Z2)return 34041;if(s===P5)return o=e.get("EXT_sRGB"),null!==o?o.SRGB_ALPHA_EXT:null;if(s===fQ)return 6403;if(s===hQ)return 36244;if(s===pQ)return 33319;if(s===mQ)return 33320;if(s===gQ)return 36249;if(s===L5||s===V5||s===z5||s===H5)if(a===Tn){if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===o)return null;if(s===L5)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===V5)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===z5)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===H5)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(o=e.get("WEBGL_compressed_texture_s3tc"),null===o)return null;if(s===L5)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===V5)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===z5)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===H5)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(s===tw||s===nw||s===iw||s===rw){if(o=e.get("WEBGL_compressed_texture_pvrtc"),null===o)return null;if(s===tw)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===nw)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===iw)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===rw)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(s===_Q)return o=e.get("WEBGL_compressed_texture_etc1"),null!==o?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===sw||s===aw){if(o=e.get("WEBGL_compressed_texture_etc"),null===o)return null;if(s===sw)return a===Tn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(s===aw)return a===Tn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}if(s===ow||s===cw||s===lw||s===dw||s===uw||s===fw||s===hw||s===pw||s===mw||s===gw||s===_w||s===vw||s===bw||s===yw){if(o=e.get("WEBGL_compressed_texture_astc"),null===o)return null;if(s===ow)return a===Tn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===cw)return a===Tn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===lw)return a===Tn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===dw)return a===Tn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===uw)return a===Tn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===fw)return a===Tn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===hw)return a===Tn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===pw)return a===Tn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===mw)return a===Tn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===gw)return a===Tn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===_w)return a===Tn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===vw)return a===Tn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===bw)return a===Tn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===yw)return a===Tn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}if(s===I5){if(o=e.get("EXT_texture_compression_bptc"),null===o)return null;if(s===I5)return a===Tn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(s===vQ||s===xw||s===Mw||s===Cw){if(o=e.get("EXT_texture_compression_rgtc"),null===o)return null;if(s===I5)return o.COMPRESSED_RED_RGTC1_EXT;if(s===xw)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===Mw)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===Cw)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return s===K2?i?34042:(o=e.get("WEBGL_depth_texture"),null!==o?o.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[s]?n[s]:null}}}class tie extends ki{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class g3 extends Nr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const nie={type:"move"};class gp{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new g3,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new g3,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new E,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new E),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new g3,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new E,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new E),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,a=null;const o=this._targetRay,c=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;for(const m of e.hand.values()){const g=t.getJointPose(m,i),v=this._getHandJoint(l,m);null!==g&&(v.matrix.fromArray(g.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.jointRadius=g.radius),v.visible=null!==g}const f=l.joints["index-finger-tip"].position.distanceTo(l.joints["thumb-tip"].position),h=.02,p=.005;l.inputState.pinching&&f>h+p?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&f<=h-p&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==c&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),null!==s&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));null!==o&&(r=t.getPose(e.targetRaySpace,i),null===r&&null!==s&&(r=s),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(nie)))}return null!==o&&(o.visible=null!==r),null!==c&&(c.visible=null!==s),null!==l&&(l.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const i=new g3;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class iie extends ao{constructor(e,t,i,r,s,a,o,c,l,d){if((d=void 0!==d?d:t1)!==t1&&d!==Z2)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&d===t1&&(i=e1),void 0===i&&d===Z2&&(i=K2),super(null,r,s,a,o,c,d,i,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==o?o:li,this.minFilter=void 0!==c?c:li,this.flipY=!1,this.generateMipmaps=!1}}class rie extends s1{constructor(e,t){super();const i=this;let r=null,s=1,a=null,o="local-floor",c=1,l=null,d=null,u=null,f=null,h=null,p=null;const m=t.getContextAttributes();let g=null,v=null;const b=[],_=[],y=new Set,M=new Map,C=new ki;C.layers.enable(1),C.viewport=new hn;const V=new ki;V.layers.enable(2),V.viewport=new hn;const x=[C,V],S=new tie;S.layers.enable(1),S.layers.enable(2);let H=null,$=null;function J(j){const le=_.indexOf(j.inputSource);if(-1===le)return;const oe=b[le];void 0!==oe&&oe.dispatchEvent({type:j.type,data:j.inputSource})}function F(){r.removeEventListener("select",J),r.removeEventListener("selectstart",J),r.removeEventListener("selectend",J),r.removeEventListener("squeeze",J),r.removeEventListener("squeezestart",J),r.removeEventListener("squeezeend",J),r.removeEventListener("end",F),r.removeEventListener("inputsourceschange",k);for(let j=0;j<b.length;j++){const le=_[j];null!==le&&(_[j]=null,b[j].disconnect(le))}H=null,$=null,e.setRenderTarget(g),h=null,f=null,u=null,r=null,v=null,be.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function k(j){for(let le=0;le<j.removed.length;le++){const oe=j.removed[le],G=_.indexOf(oe);G>=0&&(_[G]=null,b[G].disconnect(oe))}for(let le=0;le<j.added.length;le++){const oe=j.added[le];let G=_.indexOf(oe);if(-1===G){for(let pe=0;pe<b.length;pe++){if(pe>=_.length){_.push(oe),G=pe;break}if(null===_[pe]){_[pe]=oe,G=pe;break}}if(-1===G)break}const Ie=b[G];Ie&&Ie.connect(oe)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(j){let le=b[j];return void 0===le&&(le=new gp,b[j]=le),le.getTargetRaySpace()},this.getControllerGrip=function(j){let le=b[j];return void 0===le&&(le=new gp,b[j]=le),le.getGripSpace()},this.getHand=function(j){let le=b[j];return void 0===le&&(le=new gp,b[j]=le),le.getHandSpace()},this.setFramebufferScaleFactor=function(j){s=j,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(j){o=j,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(j){l=j},this.getBaseLayer=function(){return null!==f?f:h},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=function(){var j=function TZ(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function a(c){GC(s,i,r,a,o,"next",c)}function o(c){GC(s,i,r,a,o,"throw",c)}a(void 0)})}}(function*(le){if(r=le,null!==r){if(g=e.getRenderTarget(),r.addEventListener("select",J),r.addEventListener("selectstart",J),r.addEventListener("selectend",J),r.addEventListener("squeeze",J),r.addEventListener("squeezestart",J),r.addEventListener("squeezeend",J),r.addEventListener("end",F),r.addEventListener("inputsourceschange",k),!0!==m.xrCompatible&&(yield t.makeXRCompatible()),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2)h=new XRWebGLLayer(r,t,{antialias:void 0!==r.renderState.layers||m.antialias,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s}),r.updateRenderState({baseLayer:h}),v=new o1(h.framebufferWidth,h.framebufferHeight,{format:is,type:Jo,encoding:e.outputEncoding,stencilBuffer:m.stencil});else{let oe=null,G=null,Ie=null;m.depth&&(Ie=m.stencil?35056:33190,oe=m.stencil?Z2:t1,G=m.stencil?K2:e1);const pe={colorFormat:32856,depthFormat:Ie,scaleFactor:s};u=new XRWebGLBinding(r,t),f=u.createProjectionLayer(pe),r.updateRenderState({layers:[f]}),v=new o1(f.textureWidth,f.textureHeight,{format:is,type:Jo,depthTexture:new iie(f.textureWidth,f.textureHeight,G,void 0,void 0,void 0,void 0,void 0,void 0,oe),stencilBuffer:m.stencil,encoding:e.outputEncoding,samples:m.antialias?4:0}),e.properties.get(v).__ignoreDepthValues=f.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(c),l=null,a=yield r.requestReferenceSpace(o),be.setContext(r),be.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(le){return j.apply(this,arguments)}}();const K=new E,R=new E;function N(j,le){null===le?j.matrixWorld.copy(j.matrix):j.matrixWorld.multiplyMatrices(le.matrixWorld,j.matrix),j.matrixWorldInverse.copy(j.matrixWorld).invert()}this.updateCamera=function(j){if(null===r)return;S.near=V.near=C.near=j.near,S.far=V.far=C.far=j.far,(H!==S.near||$!==S.far)&&(r.updateRenderState({depthNear:S.near,depthFar:S.far}),H=S.near,$=S.far);const le=j.parent,oe=S.cameras;N(S,le);for(let Ie=0;Ie<oe.length;Ie++)N(oe[Ie],le);S.matrixWorld.decompose(S.position,S.quaternion,S.scale),j.matrix.copy(S.matrix),j.matrix.decompose(j.position,j.quaternion,j.scale);const G=j.children;for(let Ie=0,pe=G.length;Ie<pe;Ie++)G[Ie].updateMatrixWorld(!0);2===oe.length?function q(j,le,oe){K.setFromMatrixPosition(le.matrixWorld),R.setFromMatrixPosition(oe.matrixWorld);const G=K.distanceTo(R),Ie=le.projectionMatrix.elements,pe=oe.projectionMatrix.elements,De=Ie[14]/(Ie[10]-1),Me=Ie[14]/(Ie[10]+1),Pe=(Ie[9]+1)/Ie[5],tt=(Ie[9]-1)/Ie[5],re=(Ie[8]-1)/Ie[0],ue=(pe[8]+1)/pe[0],_e=De*re,We=De*ue,Ce=G/(-re+ue),mt=Ce*-re;le.matrixWorld.decompose(j.position,j.quaternion,j.scale),j.translateX(mt),j.translateZ(Ce),j.matrixWorld.compose(j.position,j.quaternion,j.scale),j.matrixWorldInverse.copy(j.matrixWorld).invert();const nt=De+Ce,gt=Me+Ce;j.projectionMatrix.makePerspective(_e-mt,We+(G-mt),Pe*Me/gt*nt,tt*Me/gt*nt,nt,gt)}(S,C,V):S.projectionMatrix.copy(C.projectionMatrix)},this.getCamera=function(){return S},this.getFoveation=function(){if(null!==f||null!==h)return c},this.setFoveation=function(j){c=j,null!==f&&(f.fixedFoveation=j),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=j)},this.getPlanes=function(){return y};let X=null;const be=new Xw;be.setAnimationLoop(function ie(j,le){if(d=le.getViewerPose(l||a),p=le,null!==d){const oe=d.views;null!==h&&(e.setRenderTargetFramebuffer(v,h.framebuffer),e.setRenderTarget(v));let G=!1;oe.length!==S.cameras.length&&(S.cameras.length=0,G=!0);for(let Ie=0;Ie<oe.length;Ie++){const pe=oe[Ie];let De=null;if(null!==h)De=h.getViewport(pe);else{const Pe=u.getViewSubImage(f,pe);De=Pe.viewport,0===Ie&&(e.setRenderTargetTextures(v,Pe.colorTexture,f.ignoreDepthValues?void 0:Pe.depthStencilTexture),e.setRenderTarget(v))}let Me=x[Ie];void 0===Me&&(Me=new ki,Me.layers.enable(Ie),Me.viewport=new hn,x[Ie]=Me),Me.matrix.fromArray(pe.transform.matrix),Me.projectionMatrix.fromArray(pe.projectionMatrix),Me.viewport.set(De.x,De.y,De.width,De.height),0===Ie&&S.matrix.copy(Me.matrix),!0===G&&S.cameras.push(Me)}}for(let oe=0;oe<b.length;oe++){const G=_[oe],Ie=b[oe];null!==G&&void 0!==Ie&&Ie.update(G,le,l||a)}if(X&&X(j,le),le.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:le.detectedPlanes});let oe=null;for(const G of y)le.detectedPlanes.has(G)||(null===oe&&(oe=[]),oe.push(G));if(null!==oe)for(const G of oe)y.delete(G),M.delete(G),i.dispatchEvent({type:"planeremoved",data:G});for(const G of le.detectedPlanes)if(y.has(G)){const Ie=M.get(G);G.lastChangedTime>Ie&&(M.set(G,G.lastChangedTime),i.dispatchEvent({type:"planechanged",data:G}))}else y.add(G),M.set(G,le.lastChangedTime),i.dispatchEvent({type:"planeadded",data:G})}p=null}),this.setAnimationLoop=function(j){X=j},this.dispose=function(){}}}function sie(n,e){function r(m,g){m.opacity.value=g.opacity,g.color&&m.diffuse.value.copy(g.color),g.emissive&&m.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.bumpMap&&(m.bumpMap.value=g.bumpMap,m.bumpScale.value=g.bumpScale,g.side===Ir&&(m.bumpScale.value*=-1)),g.displacementMap&&(m.displacementMap.value=g.displacementMap,m.displacementScale.value=g.displacementScale,m.displacementBias.value=g.displacementBias),g.emissiveMap&&(m.emissiveMap.value=g.emissiveMap),g.normalMap&&(m.normalMap.value=g.normalMap,m.normalScale.value.copy(g.normalScale),g.side===Ir&&m.normalScale.value.negate()),g.specularMap&&(m.specularMap.value=g.specularMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest);const v=e.get(g).envMap;if(v&&(m.envMap.value=v,m.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,m.reflectivity.value=g.reflectivity,m.ior.value=g.ior,m.refractionRatio.value=g.refractionRatio),g.lightMap){m.lightMap.value=g.lightMap;const y=!0===n.useLegacyLights?Math.PI:1;m.lightMapIntensity.value=g.lightMapIntensity*y}let b,_;g.aoMap&&(m.aoMap.value=g.aoMap,m.aoMapIntensity.value=g.aoMapIntensity),g.map?b=g.map:g.specularMap?b=g.specularMap:g.displacementMap?b=g.displacementMap:g.normalMap?b=g.normalMap:g.bumpMap?b=g.bumpMap:g.roughnessMap?b=g.roughnessMap:g.metalnessMap?b=g.metalnessMap:g.alphaMap?b=g.alphaMap:g.emissiveMap?b=g.emissiveMap:g.clearcoatMap?b=g.clearcoatMap:g.clearcoatNormalMap?b=g.clearcoatNormalMap:g.clearcoatRoughnessMap?b=g.clearcoatRoughnessMap:g.iridescenceMap?b=g.iridescenceMap:g.iridescenceThicknessMap?b=g.iridescenceThicknessMap:g.specularIntensityMap?b=g.specularIntensityMap:g.specularColorMap?b=g.specularColorMap:g.transmissionMap?b=g.transmissionMap:g.thicknessMap?b=g.thicknessMap:g.sheenColorMap?b=g.sheenColorMap:g.sheenRoughnessMap&&(b=g.sheenRoughnessMap),void 0!==b&&(b.isWebGLRenderTarget&&(b=b.texture),!0===b.matrixAutoUpdate&&b.updateMatrix(),m.uvTransform.value.copy(b.matrix)),g.aoMap?_=g.aoMap:g.lightMap&&(_=g.lightMap),void 0!==_&&(_.isWebGLRenderTarget&&(_=_.texture),!0===_.matrixAutoUpdate&&_.updateMatrix(),m.uv2Transform.value.copy(_.matrix))}return{refreshFogUniforms:function t(m,g){g.color.getRGB(m.fogColor.value,qw(n)),g.isFog?(m.fogNear.value=g.near,m.fogFar.value=g.far):g.isFogExp2&&(m.fogDensity.value=g.density)},refreshMaterialUniforms:function i(m,g,v,b,_){g.isMeshBasicMaterial||g.isMeshLambertMaterial?r(m,g):g.isMeshToonMaterial?(r(m,g),function d(m,g){g.gradientMap&&(m.gradientMap.value=g.gradientMap)}(m,g)):g.isMeshPhongMaterial?(r(m,g),function l(m,g){m.specular.value.copy(g.specular),m.shininess.value=Math.max(g.shininess,1e-4)}(m,g)):g.isMeshStandardMaterial?(r(m,g),function u(m,g){m.roughness.value=g.roughness,m.metalness.value=g.metalness,g.roughnessMap&&(m.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(m.metalnessMap.value=g.metalnessMap),e.get(g).envMap&&(m.envMapIntensity.value=g.envMapIntensity)}(m,g),g.isMeshPhysicalMaterial&&function f(m,g,v){m.ior.value=g.ior,g.sheen>0&&(m.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),m.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(m.sheenColorMap.value=g.sheenColorMap),g.sheenRoughnessMap&&(m.sheenRoughnessMap.value=g.sheenRoughnessMap)),g.clearcoat>0&&(m.clearcoat.value=g.clearcoat,m.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(m.clearcoatMap.value=g.clearcoatMap),g.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap),g.clearcoatNormalMap&&(m.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),m.clearcoatNormalMap.value=g.clearcoatNormalMap,g.side===Ir&&m.clearcoatNormalScale.value.negate())),g.iridescence>0&&(m.iridescence.value=g.iridescence,m.iridescenceIOR.value=g.iridescenceIOR,m.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(m.iridescenceMap.value=g.iridescenceMap),g.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=g.iridescenceThicknessMap)),g.transmission>0&&(m.transmission.value=g.transmission,m.transmissionSamplerMap.value=v.texture,m.transmissionSamplerSize.value.set(v.width,v.height),g.transmissionMap&&(m.transmissionMap.value=g.transmissionMap),m.thickness.value=g.thickness,g.thicknessMap&&(m.thicknessMap.value=g.thicknessMap),m.attenuationDistance.value=g.attenuationDistance,m.attenuationColor.value.copy(g.attenuationColor)),m.specularIntensity.value=g.specularIntensity,m.specularColor.value.copy(g.specularColor),g.specularIntensityMap&&(m.specularIntensityMap.value=g.specularIntensityMap),g.specularColorMap&&(m.specularColorMap.value=g.specularColorMap)}(m,g,_)):g.isMeshMatcapMaterial?(r(m,g),function h(m,g){g.matcap&&(m.matcap.value=g.matcap)}(m,g)):g.isMeshDepthMaterial?r(m,g):g.isMeshDistanceMaterial?(r(m,g),function p(m,g){m.referencePosition.value.copy(g.referencePosition),m.nearDistance.value=g.nearDistance,m.farDistance.value=g.farDistance}(m,g)):g.isMeshNormalMaterial?r(m,g):g.isLineBasicMaterial?(function s(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity}(m,g),g.isLineDashedMaterial&&function a(m,g){m.dashSize.value=g.dashSize,m.totalSize.value=g.dashSize+g.gapSize,m.scale.value=g.scale}(m,g)):g.isPointsMaterial?function o(m,g,v,b){let _;m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.size.value=g.size*v,m.scale.value=.5*b,g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest),g.map?_=g.map:g.alphaMap&&(_=g.alphaMap),void 0!==_&&(!0===_.matrixAutoUpdate&&_.updateMatrix(),m.uvTransform.value.copy(_.matrix))}(m,g,v,b):g.isSpriteMaterial?function c(m,g){let v;m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.rotation.value=g.rotation,g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest),g.map?v=g.map:g.alphaMap&&(v=g.alphaMap),void 0!==v&&(!0===v.matrixAutoUpdate&&v.updateMatrix(),m.uvTransform.value.copy(v.matrix))}(m,g):g.isShadowMaterial?(m.color.value.copy(g.color),m.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}}}function aie(n,e,t,i){let r={},s={},a=[];const o=t.isWebGL2?n.getParameter(35375):0;function h(b,_,y){const M=b.value;if(void 0===y[_]){if("number"==typeof M)y[_]=M;else{const C=Array.isArray(M)?M:[M],V=[];for(let x=0;x<C.length;x++)V.push(C[x].clone());y[_]=V}return!0}if("number"==typeof M){if(y[_]!==M)return y[_]=M,!0}else{const C=Array.isArray(y[_])?y[_]:[y[_]],V=Array.isArray(M)?M:[M];for(let x=0;x<C.length;x++){const S=C[x];if(!1===S.equals(V[x]))return S.copy(V[x]),!0}}return!1}function m(b){const _={boundary:0,storage:0};return"number"==typeof b?(_.boundary=4,_.storage=4):b.isVector2?(_.boundary=8,_.storage=8):b.isVector3||b.isColor?(_.boundary=16,_.storage=12):b.isVector4?(_.boundary=16,_.storage=16):b.isMatrix3?(_.boundary=48,_.storage=48):b.isMatrix4?(_.boundary=64,_.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),_}function g(b){const _=b.target;_.removeEventListener("dispose",g);const y=a.indexOf(_.__bindingPointIndex);a.splice(y,1),n.deleteBuffer(r[_.id]),delete r[_.id],delete s[_.id]}return{bind:function c(b,_){i.uniformBlockBinding(b,_.program)},update:function l(b,_){let y=r[b.id];void 0===y&&(function p(b){const _=b.uniforms;let y=0;let C=0;for(let V=0,x=_.length;V<x;V++){const S=_[V],H={boundary:0,storage:0},$=Array.isArray(S.value)?S.value:[S.value];for(let J=0,F=$.length;J<F;J++){const K=m($[J]);H.boundary+=K.boundary,H.storage+=K.storage}S.__data=new Float32Array(H.storage/Float32Array.BYTES_PER_ELEMENT),S.__offset=y,V>0&&(C=y%16,0!==C&&16-C-H.boundary<0&&(y+=16-C,S.__offset=y)),y+=H.storage}C=y%16,C>0&&(y+=16-C),b.__size=y,b.__cache={}}(b),y=function d(b){const _=function u(){for(let b=0;b<o;b++)if(-1===a.indexOf(b))return a.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();b.__bindingPointIndex=_;const y=n.createBuffer(),M=b.__size,C=b.usage;return n.bindBuffer(35345,y),n.bufferData(35345,M,C),n.bindBuffer(35345,null),n.bindBufferBase(35345,_,y),y}(b),r[b.id]=y,b.addEventListener("dispose",g)),i.updateUBOMapping(b,_.program);const C=e.render.frame;s[b.id]!==C&&(function f(b){const y=b.uniforms,M=b.__cache;n.bindBuffer(35345,r[b.id]);for(let C=0,V=y.length;C<V;C++){const x=y[C];if(!0===h(x,C,M)){const S=x.__offset,H=Array.isArray(x.value)?x.value:[x.value];let $=0;for(let J=0;J<H.length;J++){const F=H[J],k=m(F);"number"==typeof F?(x.__data[0]=F,n.bufferSubData(35345,S+$,x.__data)):F.isMatrix3?(x.__data[0]=F.elements[0],x.__data[1]=F.elements[1],x.__data[2]=F.elements[2],x.__data[3]=F.elements[0],x.__data[4]=F.elements[3],x.__data[5]=F.elements[4],x.__data[6]=F.elements[5],x.__data[7]=F.elements[0],x.__data[8]=F.elements[6],x.__data[9]=F.elements[7],x.__data[10]=F.elements[8],x.__data[11]=F.elements[0]):(F.toArray(x.__data,$),$+=k.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,S,x.__data)}}n.bindBuffer(35345,null)}(b),s[b.id]=C)},dispose:function v(){for(const b in r)n.deleteBuffer(r[b]);a=[],r={},s={}}}}function _p(n={}){this.isWebGLRenderer=!0;const e=void 0!==n.canvas?n.canvas:function oie(){const n=o3("canvas");return n.style.display="block",n}(),t=void 0!==n.context?n.context:null,i=void 0===n.depth||n.depth,r=void 0===n.stencil||n.stencil,s=void 0!==n.antialias&&n.antialias,a=void 0===n.premultipliedAlpha||n.premultipliedAlpha,o=void 0!==n.preserveDrawingBuffer&&n.preserveDrawingBuffer,c=void 0!==n.powerPreference?n.powerPreference:"default",l=void 0!==n.failIfMajorPerformanceCaveat&&n.failIfMajorPerformanceCaveat;let d;d=null!==t?t.getContextAttributes().alpha:void 0!==n.alpha&&n.alpha;let u=null,f=null;const h=[],p=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=n1,this.useLegacyLights=!0,this.toneMapping=ga,this.toneMappingExposure=1;const m=this;let g=!1,v=0,b=0,_=null,y=-1,M=null;const C=new hn,V=new hn;let x=null,S=e.width,H=e.height,$=1,J=null,F=null;const k=new hn(0,0,S,H),K=new hn(0,0,S,H);let R=!1;const q=new lp;let N=!1,X=!1,ie=null;const be=new St,j=new E,le={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function oe(){return null===_?$:1}let pe,De,Me,Pe,tt,re,ue,_e,We,Ce,mt,nt,gt,un,Xt,L,w,Z,me,ge,Ee,Ke,z,O,G=t;function Ie(T,W){for(let Q=0;Q<T.length;Q++){const te=e.getContext(T[Q],W);if(null!==te)return te}return null}try{const T={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:o,powerPreference:c,failIfMajorPerformanceCaveat:l};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${D5}`),e.addEventListener("webglcontextlost",Xe,!1),e.addEventListener("webglcontextrestored",Qe,!1),e.addEventListener("webglcontextcreationerror",Ze,!1),null===G){const W=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&W.shift(),G=Ie(W,T),null===G)throw Ie(W)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===G.getShaderPrecisionFormat&&(G.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(T){throw console.error("THREE.WebGLRenderer: "+T.message),T}function ze(){pe=new yte(G),De=new pte(G,pe,n),pe.init(De),Ke=new eie(G,pe,De),Me=new Qne(G,pe,De),Pe=new Cte,tt=new One,re=new Jne(G,pe,Me,tt,De,Ke,Pe),ue=new gte(m),_e=new bte(m),We=new fJ(G,De),z=new fte(G,pe,We,De),Ce=new xte(G,We,Pe,z),mt=new Ete(G,Ce,We,Pe),me=new Dte(G,De,re),L=new mte(tt),nt=new Fne(m,ue,_e,pe,De,z,L),gt=new sie(m,tt),un=new Une,Xt=new Xne(pe,De),Z=new ute(m,ue,_e,Me,mt,d,a),w=new Zne(m,mt,De),O=new aie(G,Pe,De,Me),ge=new hte(G,pe,Pe,De),Ee=new Mte(G,pe,Pe,De),Pe.programs=nt.programs,m.capabilities=De,m.extensions=pe,m.properties=tt,m.renderLists=un,m.shadowMap=w,m.state=Me,m.info=Pe}ze();const we=new rie(m,G);function Xe(T){T.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function Qe(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1;const T=Pe.autoReset,W=w.enabled,Q=w.autoUpdate,U=w.needsUpdate,te=w.type;ze(),Pe.autoReset=T,w.enabled=W,w.autoUpdate=Q,w.needsUpdate=U,w.type=te}function Ze(T){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",T.statusMessage)}function Ot(T){const W=T.target;W.removeEventListener("dispose",Ot),function Yt(T){(function pn(T){const W=tt.get(T).programs;void 0!==W&&(W.forEach(function(Q){nt.releaseProgram(Q)}),T.isShaderMaterial&&nt.releaseShaderCache(T))})(T),tt.remove(T)}(W)}this.xr=we,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){const T=pe.get("WEBGL_lose_context");T&&T.loseContext()},this.forceContextRestore=function(){const T=pe.get("WEBGL_lose_context");T&&T.restoreContext()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(T){void 0!==T&&($=T,this.setSize(S,H,!1))},this.getSize=function(T){return T.set(S,H)},this.setSize=function(T,W,Q=!0){we.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(S=T,H=W,e.width=Math.floor(T*$),e.height=Math.floor(W*$),!0===Q&&(e.style.width=T+"px",e.style.height=W+"px"),this.setViewport(0,0,T,W))},this.getDrawingBufferSize=function(T){return T.set(S*$,H*$).floor()},this.setDrawingBufferSize=function(T,W,Q){S=T,H=W,$=Q,e.width=Math.floor(T*Q),e.height=Math.floor(W*Q),this.setViewport(0,0,T,W)},this.getCurrentViewport=function(T){return T.copy(C)},this.getViewport=function(T){return T.copy(k)},this.setViewport=function(T,W,Q,U){T.isVector4?k.set(T.x,T.y,T.z,T.w):k.set(T,W,Q,U),Me.viewport(C.copy(k).multiplyScalar($).floor())},this.getScissor=function(T){return T.copy(K)},this.setScissor=function(T,W,Q,U){T.isVector4?K.set(T.x,T.y,T.z,T.w):K.set(T,W,Q,U),Me.scissor(V.copy(K).multiplyScalar($).floor())},this.getScissorTest=function(){return R},this.setScissorTest=function(T){Me.setScissorTest(R=T)},this.setOpaqueSort=function(T){J=T},this.setTransparentSort=function(T){F=T},this.getClearColor=function(T){return T.copy(Z.getClearColor())},this.setClearColor=function(){Z.setClearColor.apply(Z,arguments)},this.getClearAlpha=function(){return Z.getClearAlpha()},this.setClearAlpha=function(){Z.setClearAlpha.apply(Z,arguments)},this.clear=function(T=!0,W=!0,Q=!0){let U=0;T&&(U|=16384),W&&(U|=256),Q&&(U|=1024),G.clear(U)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Xe,!1),e.removeEventListener("webglcontextrestored",Qe,!1),e.removeEventListener("webglcontextcreationerror",Ze,!1),un.dispose(),Xt.dispose(),tt.dispose(),ue.dispose(),_e.dispose(),mt.dispose(),z.dispose(),O.dispose(),nt.dispose(),we.dispose(),we.removeEventListener("sessionstart",he),we.removeEventListener("sessionend",Ne),ie&&(ie.dispose(),ie=null),je.stop()},this.renderBufferDirect=function(T,W,Q,U,te,dt){null===W&&(W=le);const xt=te.isMesh&&te.matrixWorld.determinant()<0,Vt=function NBe(T,W,Q,U,te){!0!==W.isScene&&(W=le),re.resetTextureUnits();const dt=W.fog,Vt=null===_?m.outputEncoding:!0===_.isXRRenderTarget?_.texture.encoding:n1,Ht=(U.isMeshStandardMaterial?_e:ue).get(U.envMap||(U.isMeshStandardMaterial?W.environment:null)),Qt=!0===U.vertexColors&&!!Q.attributes.color&&4===Q.attributes.color.itemSize,Wt=!!U.normalMap&&!!Q.attributes.tangent,jt=!!Q.morphAttributes.position,gi=!!Q.morphAttributes.normal,Gr=!!Q.morphAttributes.color,Oa=U.toneMapped?m.toneMapping:ga,q1=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,_i=void 0!==q1?q1.length:0,$t=tt.get(U),jg=f.state.lights;!0!==N||!0!==X&&T===M||L.setState(U,T,T===M&&U.id===y);let Li=!1;U.version===$t.__version?($t.needsLights&&$t.lightsStateVersion!==jg.state.version||$t.outputEncoding!==Vt||te.isInstancedMesh&&!1===$t.instancing||!te.isInstancedMesh&&!0===$t.instancing||te.isSkinnedMesh&&!1===$t.skinning||!te.isSkinnedMesh&&!0===$t.skinning||$t.envMap!==Ht||!0===U.fog&&$t.fog!==dt||void 0!==$t.numClippingPlanes&&($t.numClippingPlanes!==L.numPlanes||$t.numIntersection!==L.numIntersection)||$t.vertexAlphas!==Qt||$t.vertexTangents!==Wt||$t.morphTargets!==jt||$t.morphNormals!==gi||$t.morphColors!==Gr||$t.toneMapping!==Oa||!0===De.isWebGL2&&$t.morphTargetsCount!==_i)&&(Li=!0):(Li=!0,$t.__version=U.version);let X1=$t.currentProgram;!0===Li&&(X1=ls(U,W,te));let wO=!1,k4=!1,$g=!1;const hr=X1.getUniforms(),Y1=$t.uniforms;if(Me.useProgram(X1.program)&&(wO=!0,k4=!0,$g=!0),U.id!==y&&(y=U.id,k4=!0),wO||M!==T){if(hr.setValue(G,"projectionMatrix",T.projectionMatrix),De.logarithmicDepthBuffer&&hr.setValue(G,"logDepthBufFC",2/(Math.log(T.far+1)/Math.LN2)),M!==T&&(M=T,k4=!0,$g=!0),U.isShaderMaterial||U.isMeshPhongMaterial||U.isMeshToonMaterial||U.isMeshStandardMaterial||U.envMap){const Wr=hr.map.cameraPosition;void 0!==Wr&&Wr.setValue(G,j.setFromMatrixPosition(T.matrixWorld))}(U.isMeshPhongMaterial||U.isMeshToonMaterial||U.isMeshLambertMaterial||U.isMeshBasicMaterial||U.isMeshStandardMaterial||U.isShaderMaterial)&&hr.setValue(G,"isOrthographic",!0===T.isOrthographicCamera),(U.isMeshPhongMaterial||U.isMeshToonMaterial||U.isMeshLambertMaterial||U.isMeshBasicMaterial||U.isMeshStandardMaterial||U.isShaderMaterial||U.isShadowMaterial||te.isSkinnedMesh)&&hr.setValue(G,"viewMatrix",T.matrixWorldInverse)}if(te.isSkinnedMesh){hr.setOptional(G,te,"bindMatrix"),hr.setOptional(G,te,"bindMatrixInverse");const Wr=te.skeleton;Wr&&(De.floatVertexTextures?(null===Wr.boneTexture&&Wr.computeBoneTexture(),hr.setValue(G,"boneTexture",Wr.boneTexture,re),hr.setValue(G,"boneTextureSize",Wr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const qg=Q.morphAttributes;if((void 0!==qg.position||void 0!==qg.normal||void 0!==qg.color&&!0===De.isWebGL2)&&me.update(te,Q,X1),(k4||$t.receiveShadow!==te.receiveShadow)&&($t.receiveShadow=te.receiveShadow,hr.setValue(G,"receiveShadow",te.receiveShadow)),U.isMeshGouraudMaterial&&null!==U.envMap&&(Y1.envMap.value=Ht,Y1.flipEnvMap.value=Ht.isCubeTexture&&!1===Ht.isRenderTargetTexture?-1:1),k4&&(hr.setValue(G,"toneMappingExposure",m.toneMappingExposure),$t.needsLights&&function PBe(T,W){T.ambientLightColor.needsUpdate=W,T.lightProbe.needsUpdate=W,T.directionalLights.needsUpdate=W,T.directionalLightShadows.needsUpdate=W,T.pointLights.needsUpdate=W,T.pointLightShadows.needsUpdate=W,T.spotLights.needsUpdate=W,T.spotLightShadows.needsUpdate=W,T.rectAreaLights.needsUpdate=W,T.hemisphereLights.needsUpdate=W}(Y1,$g),dt&&!0===U.fog&&gt.refreshFogUniforms(Y1,dt),gt.refreshMaterialUniforms(Y1,U,$,H,ie),$6.upload(G,$t.uniformsList,Y1,re)),U.isShaderMaterial&&!0===U.uniformsNeedUpdate&&($6.upload(G,$t.uniformsList,Y1,re),U.uniformsNeedUpdate=!1),U.isSpriteMaterial&&hr.setValue(G,"center",te.center),hr.setValue(G,"modelViewMatrix",te.modelViewMatrix),hr.setValue(G,"normalMatrix",te.normalMatrix),hr.setValue(G,"modelMatrix",te.matrixWorld),U.isShaderMaterial||U.isRawShaderMaterial){const Wr=U.uniformsGroups;for(let Xg=0,OBe=Wr.length;Xg<OBe;Xg++)if(De.isWebGL2){const SO=Wr[Xg];O.update(SO,X1),O.bind(SO,X1)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return X1}(T,W,Q,U,te);Me.setMaterial(U,xt);let Ht=Q.index,Qt=1;!0===U.wireframe&&(Ht=Ce.getWireframeAttribute(Q),Qt=2);const Wt=Q.drawRange,jt=Q.attributes.position;let gi=Wt.start*Qt,Gr=(Wt.start+Wt.count)*Qt;null!==dt&&(gi=Math.max(gi,dt.start*Qt),Gr=Math.min(Gr,(dt.start+dt.count)*Qt)),null!==Ht?(gi=Math.max(gi,0),Gr=Math.min(Gr,Ht.count)):null!=jt&&(gi=Math.max(gi,0),Gr=Math.min(Gr,jt.count));const Oa=Gr-gi;if(Oa<0||Oa===1/0)return;z.setup(te,U,Vt,Q,Ht);let q1,_i=ge;if(null!==Ht&&(q1=We.get(Ht),_i=Ee,_i.setIndex(q1)),te.isMesh)!0===U.wireframe?(Me.setLineWidth(U.wireframeLinewidth*oe()),_i.setMode(1)):_i.setMode(4);else if(te.isLine){let $t=U.linewidth;void 0===$t&&($t=1),Me.setLineWidth($t*oe()),_i.setMode(te.isLineSegments?1:te.isLineLoop?2:3)}else te.isPoints?_i.setMode(0):te.isSprite&&_i.setMode(4);if(te.isInstancedMesh)_i.renderInstances(gi,Oa,te.count);else if(Q.isInstancedBufferGeometry){const jg=Math.min(Q.instanceCount,void 0!==Q._maxInstanceCount?Q._maxInstanceCount:1/0);_i.renderInstances(gi,Oa,jg)}else _i.render(gi,Oa)},this.compile=function(T,W){function Q(U,te,dt){!0===U.transparent&&U.side===no&&!1===U.forceSinglePass?(U.side=Ir,U.needsUpdate=!0,ls(U,te,dt),U.side=to,U.needsUpdate=!0,ls(U,te,dt),U.side=no):ls(U,te,dt)}f=Xt.get(T),f.init(),p.push(f),T.traverseVisible(function(U){U.isLight&&U.layers.test(W.layers)&&(f.pushLight(U),U.castShadow&&f.pushShadow(U))}),f.setupLights(m.useLegacyLights),T.traverse(function(U){const te=U.material;if(te)if(Array.isArray(te))for(let dt=0;dt<te.length;dt++)Q(te[dt],T,U);else Q(te,T,U)}),p.pop(),f=null};let I=null;function he(){je.stop()}function Ne(){je.start()}const je=new Xw;function In(T,W,Q,U){if(!1===T.visible)return;if(T.layers.test(W.layers))if(T.isGroup)Q=T.renderOrder;else if(T.isLOD)!0===T.autoUpdate&&T.update(W);else if(T.isLight)f.pushLight(T),T.castShadow&&f.pushShadow(T);else if(T.isSprite){if(!T.frustumCulled||q.intersectsSprite(T)){U&&j.setFromMatrixPosition(T.matrixWorld).applyMatrix4(be);const xt=mt.update(T),Vt=T.material;Vt.visible&&u.push(T,xt,Vt,Q,j.z,null)}}else if((T.isMesh||T.isLine||T.isPoints)&&(T.isSkinnedMesh&&T.skeleton.frame!==Pe.render.frame&&(T.skeleton.update(),T.skeleton.frame=Pe.render.frame),!T.frustumCulled||q.intersectsObject(T))){U&&j.setFromMatrixPosition(T.matrixWorld).applyMatrix4(be);const xt=mt.update(T),Vt=T.material;if(Array.isArray(Vt)){const Ht=xt.groups;for(let Qt=0,Wt=Ht.length;Qt<Wt;Qt++){const jt=Ht[Qt],gi=Vt[jt.materialIndex];gi&&gi.visible&&u.push(T,xt,gi,Q,j.z,jt)}}else Vt.visible&&u.push(T,xt,Vt,Q,j.z,null)}const dt=T.children;for(let xt=0,Vt=dt.length;xt<Vt;xt++)In(dt[xt],W,Q,U)}function Ai(T,W,Q,U){const te=T.opaque,dt=T.transmissive,xt=T.transparent;f.setupLightsView(Q),!0===N&&L.setGlobalState(m.clippingPlanes,Q),dt.length>0&&function fr(T,W,Q){const U=De.isWebGL2;null===ie&&(ie=new o1(1024,1024,{generateMipmaps:!0,type:pe.has("EXT_color_buffer_half_float")?n3:Jo,minFilter:Qo,samples:U&&!0===s?4:0}));const te=m.getRenderTarget();m.setRenderTarget(ie),m.clear();const dt=m.toneMapping;m.toneMapping=ga,Qs(T,W,Q),m.toneMapping=dt,re.updateMultisampleRenderTarget(ie),re.updateRenderTargetMipmap(ie),m.setRenderTarget(te)}(te,W,Q),U&&Me.viewport(C.copy(U)),te.length>0&&Qs(te,W,Q),dt.length>0&&Qs(dt,W,Q),xt.length>0&&Qs(xt,W,Q),Me.buffers.depth.setTest(!0),Me.buffers.depth.setMask(!0),Me.buffers.color.setMask(!0),Me.setPolygonOffset(!1)}function Qs(T,W,Q){const U=!0===W.isScene?W.overrideMaterial:null;for(let te=0,dt=T.length;te<dt;te++){const xt=T[te],Vt=xt.object,Ht=xt.geometry,Qt=null===U?xt.material:U,Wt=xt.group;Vt.layers.test(Q.layers)&&ri(Vt,W,Q,Ht,Qt,Wt)}}function ri(T,W,Q,U,te,dt){T.onBeforeRender(m,W,Q,U,te,dt),T.modelViewMatrix.multiplyMatrices(Q.matrixWorldInverse,T.matrixWorld),T.normalMatrix.getNormalMatrix(T.modelViewMatrix),te.onBeforeRender(m,W,Q,U,T,dt),!0===te.transparent&&te.side===no&&!1===te.forceSinglePass?(te.side=Ir,te.needsUpdate=!0,m.renderBufferDirect(Q,W,U,te,T,dt),te.side=to,te.needsUpdate=!0,m.renderBufferDirect(Q,W,U,te,T,dt),te.side=no):m.renderBufferDirect(Q,W,U,te,T,dt),T.onAfterRender(m,W,Q,U,te,dt)}function ls(T,W,Q){!0!==W.isScene&&(W=le);const U=tt.get(T),te=f.state.lights,xt=te.state.version,Vt=nt.getParameters(T,te.state,f.state.shadowsArray,W,Q),Ht=nt.getProgramCacheKey(Vt);let Qt=U.programs;U.environment=T.isMeshStandardMaterial?W.environment:null,U.fog=W.fog,U.envMap=(T.isMeshStandardMaterial?_e:ue).get(T.envMap||U.environment),void 0===Qt&&(T.addEventListener("dispose",Ot),Qt=new Map,U.programs=Qt);let Wt=Qt.get(Ht);if(void 0!==Wt){if(U.currentProgram===Wt&&U.lightsStateVersion===xt)return Js(T,Vt),Wt}else Vt.uniforms=nt.getUniforms(T),T.onBuild(Q,Vt,m),T.onBeforeCompile(Vt,m),Wt=nt.acquireProgram(Vt,Ht),Qt.set(Ht,Wt),U.uniforms=Vt.uniforms;const jt=U.uniforms;(!T.isShaderMaterial&&!T.isRawShaderMaterial||!0===T.clipping)&&(jt.clippingPlanes=L.uniform),Js(T,Vt),U.needsLights=function FBe(T){return T.isMeshLambertMaterial||T.isMeshToonMaterial||T.isMeshPhongMaterial||T.isMeshStandardMaterial||T.isShadowMaterial||T.isShaderMaterial&&!0===T.lights}(T),U.lightsStateVersion=xt,U.needsLights&&(jt.ambientLightColor.value=te.state.ambient,jt.lightProbe.value=te.state.probe,jt.directionalLights.value=te.state.directional,jt.directionalLightShadows.value=te.state.directionalShadow,jt.spotLights.value=te.state.spot,jt.spotLightShadows.value=te.state.spotShadow,jt.rectAreaLights.value=te.state.rectArea,jt.ltc_1.value=te.state.rectAreaLTC1,jt.ltc_2.value=te.state.rectAreaLTC2,jt.pointLights.value=te.state.point,jt.pointLightShadows.value=te.state.pointShadow,jt.hemisphereLights.value=te.state.hemi,jt.directionalShadowMap.value=te.state.directionalShadowMap,jt.directionalShadowMatrix.value=te.state.directionalShadowMatrix,jt.spotShadowMap.value=te.state.spotShadowMap,jt.spotLightMatrix.value=te.state.spotLightMatrix,jt.spotLightMap.value=te.state.spotLightMap,jt.pointShadowMap.value=te.state.pointShadowMap,jt.pointShadowMatrix.value=te.state.pointShadowMatrix);const gi=Wt.getUniforms(),Gr=$6.seqWithValue(gi.seq,jt);return U.currentProgram=Wt,U.uniformsList=Gr,Wt}function Js(T,W){const Q=tt.get(T);Q.outputEncoding=W.outputEncoding,Q.instancing=W.instancing,Q.skinning=W.skinning,Q.morphTargets=W.morphTargets,Q.morphNormals=W.morphNormals,Q.morphColors=W.morphColors,Q.morphTargetsCount=W.morphTargetsCount,Q.numClippingPlanes=W.numClippingPlanes,Q.numIntersection=W.numClipIntersection,Q.vertexAlphas=W.vertexAlphas,Q.vertexTangents=W.vertexTangents,Q.toneMapping=W.toneMapping}je.setAnimationLoop(function ee(T){I&&I(T)}),typeof self<"u"&&je.setContext(self),this.setAnimationLoop=function(T){I=T,we.setAnimationLoop(T),null===T?je.stop():je.start()},we.addEventListener("sessionstart",he),we.addEventListener("sessionend",Ne),this.render=function(T,W){if(void 0===W||!0===W.isCamera){if(!0!==g){if(!0===T.matrixWorldAutoUpdate&&T.updateMatrixWorld(),null===W.parent&&!0===W.matrixWorldAutoUpdate&&W.updateMatrixWorld(),!0===we.enabled&&!0===we.isPresenting&&(!0===we.cameraAutoUpdate&&we.updateCamera(W),W=we.getCamera()),!0===T.isScene&&T.onBeforeRender(m,T,W,_),f=Xt.get(T,p.length),f.init(),p.push(f),be.multiplyMatrices(W.projectionMatrix,W.matrixWorldInverse),q.setFromProjectionMatrix(be),X=this.localClippingEnabled,N=L.init(this.clippingPlanes,X),u=un.get(T,h.length),u.init(),h.push(u),In(T,W,0,m.sortObjects),u.finish(),!0===m.sortObjects&&u.sort(J,F),!0===N&&L.beginShadows(),w.render(f.state.shadowsArray,T,W),!0===N&&L.endShadows(),!0===this.info.autoReset&&this.info.reset(),Z.render(u,T),f.setupLights(m.useLegacyLights),W.isArrayCamera){const U=W.cameras;for(let te=0,dt=U.length;te<dt;te++){const xt=U[te];Ai(u,T,xt,xt.viewport)}}else Ai(u,T,W);null!==_&&(re.updateMultisampleRenderTarget(_),re.updateRenderTargetMipmap(_)),!0===T.isScene&&T.onAfterRender(m,T,W),z.resetDefaultState(),y=-1,M=null,p.pop(),f=p.length>0?p[p.length-1]:null,h.pop(),u=h.length>0?h[h.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return _},this.setRenderTargetTextures=function(T,W,Q){tt.get(T.texture).__webglTexture=W,tt.get(T.depthTexture).__webglTexture=Q;const U=tt.get(T);U.__hasExternalTextures=!0,U.__hasExternalTextures&&(U.__autoAllocateDepthBuffer=void 0===Q,U.__autoAllocateDepthBuffer||!0===pe.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),U.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(T,W){const Q=tt.get(T);Q.__webglFramebuffer=W,Q.__useDefaultFramebuffer=void 0===W},this.setRenderTarget=function(T,W=0,Q=0){_=T,v=W,b=Q;let U=!0,te=null,dt=!1,xt=!1;if(T){const Ht=tt.get(T);void 0!==Ht.__useDefaultFramebuffer?(Me.bindFramebuffer(36160,null),U=!1):void 0===Ht.__webglFramebuffer?re.setupRenderTarget(T):Ht.__hasExternalTextures&&re.rebindTextures(T,tt.get(T.texture).__webglTexture,tt.get(T.depthTexture).__webglTexture);const Qt=T.texture;(Qt.isData3DTexture||Qt.isDataArrayTexture||Qt.isCompressedArrayTexture)&&(xt=!0);const Wt=tt.get(T).__webglFramebuffer;T.isWebGLCubeRenderTarget?(te=Wt[W],dt=!0):te=De.isWebGL2&&T.samples>0&&!1===re.useMultisampledRTT(T)?tt.get(T).__webglMultisampledFramebuffer:Wt,C.copy(T.viewport),V.copy(T.scissor),x=T.scissorTest}else C.copy(k).multiplyScalar($).floor(),V.copy(K).multiplyScalar($).floor(),x=R;if(Me.bindFramebuffer(36160,te)&&De.drawBuffers&&U&&Me.drawBuffers(T,te),Me.viewport(C),Me.scissor(V),Me.setScissorTest(x),dt){const Ht=tt.get(T.texture);G.framebufferTexture2D(36160,36064,34069+W,Ht.__webglTexture,Q)}else if(xt){const Ht=tt.get(T.texture);G.framebufferTextureLayer(36160,36064,Ht.__webglTexture,Q||0,W||0)}y=-1},this.readRenderTargetPixels=function(T,W,Q,U,te,dt,xt){if(!T||!T.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Vt=tt.get(T).__webglFramebuffer;if(T.isWebGLCubeRenderTarget&&void 0!==xt&&(Vt=Vt[xt]),Vt){Me.bindFramebuffer(36160,Vt);try{const Ht=T.texture,Qt=Ht.format,Wt=Ht.type;if(Qt!==is&&Ke.convert(Qt)!==G.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const jt=Wt===n3&&(pe.has("EXT_color_buffer_half_float")||De.isWebGL2&&pe.has("EXT_color_buffer_float"));if(!(Wt===Jo||Ke.convert(Wt)===G.getParameter(35738)||Wt===ro&&(De.isWebGL2||pe.has("OES_texture_float")||pe.has("WEBGL_color_buffer_float"))||jt))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");W>=0&&W<=T.width-U&&Q>=0&&Q<=T.height-te&&G.readPixels(W,Q,U,te,Ke.convert(Qt),Ke.convert(Wt),dt)}finally{const Ht=null!==_?tt.get(_).__webglFramebuffer:null;Me.bindFramebuffer(36160,Ht)}}},this.copyFramebufferToTexture=function(T,W,Q=0){const U=Math.pow(2,-Q),te=Math.floor(W.image.width*U),dt=Math.floor(W.image.height*U);re.setTexture2D(W,0),G.copyTexSubImage2D(3553,Q,0,0,T.x,T.y,te,dt),Me.unbindTexture()},this.copyTextureToTexture=function(T,W,Q,U=0){const te=W.image.width,dt=W.image.height,xt=Ke.convert(Q.format),Vt=Ke.convert(Q.type);re.setTexture2D(Q,0),G.pixelStorei(37440,Q.flipY),G.pixelStorei(37441,Q.premultiplyAlpha),G.pixelStorei(3317,Q.unpackAlignment),W.isDataTexture?G.texSubImage2D(3553,U,T.x,T.y,te,dt,xt,Vt,W.image.data):W.isCompressedTexture?G.compressedTexSubImage2D(3553,U,T.x,T.y,W.mipmaps[0].width,W.mipmaps[0].height,xt,W.mipmaps[0].data):G.texSubImage2D(3553,U,T.x,T.y,xt,Vt,W.image),0===U&&Q.generateMipmaps&&G.generateMipmap(3553),Me.unbindTexture()},this.copyTextureToTexture3D=function(T,W,Q,U,te=0){if(m.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const dt=T.max.x-T.min.x+1,xt=T.max.y-T.min.y+1,Vt=T.max.z-T.min.z+1,Ht=Ke.convert(U.format),Qt=Ke.convert(U.type);let Wt;if(U.isData3DTexture)re.setTexture3D(U,0),Wt=32879;else{if(!U.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");re.setTexture2DArray(U,0),Wt=35866}G.pixelStorei(37440,U.flipY),G.pixelStorei(37441,U.premultiplyAlpha),G.pixelStorei(3317,U.unpackAlignment);const jt=G.getParameter(3314),gi=G.getParameter(32878),Gr=G.getParameter(3316),Oa=G.getParameter(3315),q1=G.getParameter(32877),_i=Q.isCompressedTexture?Q.mipmaps[0]:Q.image;G.pixelStorei(3314,_i.width),G.pixelStorei(32878,_i.height),G.pixelStorei(3316,T.min.x),G.pixelStorei(3315,T.min.y),G.pixelStorei(32877,T.min.z),Q.isDataTexture||Q.isData3DTexture?G.texSubImage3D(Wt,te,W.x,W.y,W.z,dt,xt,Vt,Ht,Qt,_i.data):Q.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),G.compressedTexSubImage3D(Wt,te,W.x,W.y,W.z,dt,xt,Vt,Ht,_i.data)):G.texSubImage3D(Wt,te,W.x,W.y,W.z,dt,xt,Vt,Ht,Qt,_i),G.pixelStorei(3314,jt),G.pixelStorei(32878,gi),G.pixelStorei(3316,Gr),G.pixelStorei(3315,Oa),G.pixelStorei(32877,q1),0===te&&U.generateMipmaps&&G.generateMipmap(Wt),Me.unbindTexture()},this.initTexture=function(T){T.isCubeTexture?re.setTextureCube(T,0):T.isData3DTexture?re.setTexture3D(T,0):T.isDataArrayTexture||T.isCompressedArrayTexture?re.setTexture2DArray(T,0):re.setTexture2D(T,0),Me.unbindTexture()},this.resetState=function(){v=0,b=0,_=null,Me.reset(),z.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Object.defineProperties(_p.prototype,{physicallyCorrectLights:{get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(n){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!n}}}),class cie extends _p{}.prototype.isWebGL1Renderer=!0;class CS extends Nr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class qs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let a;a=t||e*i[s-1];let l,o=0,c=s-1;for(;o<=c;)if(r=Math.floor(o+(c-o)/2),l=i[r]-a,l<0)o=r+1;else{if(!(l>0)){c=r;break}c=r-1}if(r=c,i[r]===a)return r/(s-1);const d=i[r];return(r+(a-d)/(i[r+1]-d))/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),o=this.getPoint(s),c=t||(a.isVector2?new ne:new E);return c.copy(o).sub(a).normalize(),c}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new E,r=[],s=[],a=[],o=new E,c=new St;for(let h=0;h<=e;h++)r[h]=this.getTangentAt(h/e,new E);s[0]=new E,a[0]=new E;let l=Number.MAX_VALUE;const d=Math.abs(r[0].x),u=Math.abs(r[0].y),f=Math.abs(r[0].z);d<=l&&(l=d,i.set(1,0,0)),u<=l&&(l=u,i.set(0,1,0)),f<=l&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],o),a[0].crossVectors(r[0],s[0]);for(let h=1;h<=e;h++){if(s[h]=s[h-1].clone(),a[h]=a[h-1].clone(),o.crossVectors(r[h-1],r[h]),o.length()>Number.EPSILON){o.normalize();const p=Math.acos(ei(r[h-1].dot(r[h]),-1,1));s[h].applyMatrix4(c.makeRotationAxis(o,p))}a[h].crossVectors(r[h],s[h])}if(!0===t){let h=Math.acos(ei(s[0].dot(s[e]),-1,1));h/=e,r[0].dot(o.crossVectors(s[0],s[e]))>0&&(h=-h);for(let p=1;p<=e;p++)s[p].applyMatrix4(c.makeRotationAxis(r[p],h*p)),a[p].crossVectors(r[p],s[p])}return{tangents:r,normals:s,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class wp extends qs{constructor(e=0,t=0,i=1,r=1,s=0,a=2*Math.PI,o=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=c}getPoint(e,t){const i=t||new ne,r=2*Math.PI;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(s=a?0:r),!0===this.aClockwise&&!a&&(s===r?s=-r:s-=r);const o=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){const d=Math.cos(this.aRotation),u=Math.sin(this.aRotation),f=c-this.aX,h=l-this.aY;c=f*d-h*u+this.aX,l=f*u+h*d+this.aY}return i.set(c,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}function Sp(){let n=0,e=0,t=0,i=0;function r(s,a,o,c){n=s,e=o,t=-3*s+3*a-2*o-c,i=2*s-2*a+o+c}return{initCatmullRom:function(s,a,o,c,l){r(a,o,l*(o-s),l*(c-a))},initNonuniformCatmullRom:function(s,a,o,c,l,d,u){let f=(a-s)/l-(o-s)/(l+d)+(o-a)/d,h=(o-a)/d-(c-a)/(d+u)+(c-o)/u;f*=d,h*=d,r(a,o,f,h)},calc:function(s){const a=s*s;return n+e*s+t*a+i*(a*s)}}}const nd=new E,Dp=new Sp,Ep=new Sp,Tp=new Sp;function qS(n,e,t,i,r){const s=.5*(i-e),a=.5*(r-t),o=n*n;return(2*t-2*i+s+a)*(n*o)+(-3*t+3*i-2*s-a)*o+s*n+t}function C3(n,e,t,i){return function xie(n,e){const t=1-n;return t*t*e}(n,e)+function Mie(n,e){return 2*(1-n)*n*e}(n,t)+function Cie(n,e){return n*n*e}(n,i)}function w3(n,e,t,i,r){return function wie(n,e){const t=1-n;return t*t*t*e}(n,e)+function Sie(n,e){const t=1-n;return 3*t*t*n*e}(n,t)+function Die(n,e){return 3*(1-n)*n*n*e}(n,i)+function Eie(n,e){return n*n*n*e}(n,r)}class Ap extends qs{constructor(e=new ne,t=new ne){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ne){const i=t;return 1===e?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ne){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class id extends qs{constructor(e=new E,t=new E){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new E){const i=t;return 1===e?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new E){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class KS extends qs{constructor(e=new E,t=new E,i=new E){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new E){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(C3(e,r.x,s.x,a.x),C3(e,r.y,s.y,a.y),C3(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}var Lp=Object.freeze({__proto__:null,ArcCurve:class bie extends wp{constructor(e,t,i,r,s,a){super(e,t,i,i,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}},CatmullRomCurve3:class yie extends qs{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new E){const i=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let l,d,o=Math.floor(a),c=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:0===c&&o===s-1&&(o=s-2,c=1),this.closed||o>0?l=r[(o-1)%s]:(nd.subVectors(r[0],r[1]).add(r[0]),l=nd);const u=r[o%s],f=r[(o+1)%s];if(this.closed||o+2<s?d=r[(o+2)%s]:(nd.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=nd),"centripetal"===this.curveType||"chordal"===this.curveType){const h="chordal"===this.curveType?.5:.25;let p=Math.pow(l.distanceToSquared(u),h),m=Math.pow(u.distanceToSquared(f),h),g=Math.pow(f.distanceToSquared(d),h);m<1e-4&&(m=1),p<1e-4&&(p=m),g<1e-4&&(g=m),Dp.initNonuniformCatmullRom(l.x,u.x,f.x,d.x,p,m,g),Ep.initNonuniformCatmullRom(l.y,u.y,f.y,d.y,p,m,g),Tp.initNonuniformCatmullRom(l.z,u.z,f.z,d.z,p,m,g)}else"catmullrom"===this.curveType&&(Dp.initCatmullRom(l.x,u.x,f.x,d.x,this.tension),Ep.initCatmullRom(l.y,u.y,f.y,d.y,this.tension),Tp.initCatmullRom(l.z,u.z,f.z,d.z,this.tension));return i.set(Dp.calc(c),Ep.calc(c),Tp.calc(c)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push((new E).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},CubicBezierCurve:class XS extends qs{constructor(e=new ne,t=new ne,i=new ne,r=new ne){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ne){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(w3(e,r.x,s.x,a.x,o.x),w3(e,r.y,s.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},CubicBezierCurve3:class Tie extends qs{constructor(e=new E,t=new E,i=new E,r=new E){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new E){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(w3(e,r.x,s.x,a.x,o.x),w3(e,r.y,s.y,a.y,o.y),w3(e,r.z,s.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},EllipseCurve:wp,LineCurve:Ap,LineCurve3:id,QuadraticBezierCurve:class YS extends qs{constructor(e=new ne,t=new ne,i=new ne){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ne){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(C3(e,r.x,s.x,a.x),C3(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},QuadraticBezierCurve3:KS,SplineCurve:class ZS extends qs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ne){const i=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),o=s-a,c=r[0===a?a:a-1],l=r[a],d=r[a>r.length-2?r.length-1:a+1],u=r[a>r.length-3?r.length-1:a+2];return i.set(qS(o,c.x,l.x,d.x,u.x),qS(o,c.y,l.y,d.y,u.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++)this.points.push(e.points[t].clone());return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++)e.points.push(this.points[t].toArray());return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push((new ne).fromArray(r))}return this}}});class QS extends qs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ap(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,o=this.curves[s],c=o.getLength();return o.getPointAt(0===c?0:1-a/c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],c=a.getPoints(a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e);for(let l=0;l<c.length;l++){const d=c[l];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++)e.curves.push(this.curves[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push((new Lp[r.type]).fromJSON(r))}return this}}class A3 extends Lt{constructor(e=1,t=32,i=16,r=0,s=2*Math.PI,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const c=Math.min(a+o,Math.PI);let l=0;const d=[],u=new E,f=new E,h=[],p=[],m=[],g=[];for(let v=0;v<=i;v++){const b=[],_=v/i;let y=0;0==v&&0==a?y=.5/t:v==i&&c==Math.PI&&(y=-.5/t);for(let M=0;M<=t;M++){const C=M/t;u.x=-e*Math.cos(r+C*s)*Math.sin(a+_*o),u.y=e*Math.cos(a+_*o),u.z=e*Math.sin(r+C*s)*Math.sin(a+_*o),p.push(u.x,u.y,u.z),f.copy(u).normalize(),m.push(f.x,f.y,f.z),g.push(C+y,1-_),b.push(l++)}d.push(b)}for(let v=0;v<i;v++)for(let b=0;b<t;b++){const y=d[v][b],M=d[v+1][b],C=d[v+1][b+1];(0!==v||a>0)&&h.push(d[v][b+1],y,C),(v!==i-1||c<Math.PI)&&h.push(y,M,C)}this.setIndex(h),this.setAttribute("position",new Oe(p,3)),this.setAttribute("normal",new Oe(m,3)),this.setAttribute("uv",new Oe(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new A3(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class L3 extends Lt{constructor(e=new KS(new E(-1,-1,0),new E(-1,1,0),new E(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new E,c=new E,l=new ne;let d=new E;const u=[],f=[],h=[],p=[];function g(_){d=e.getPointAt(_/t,d);const y=a.normals[_],M=a.binormals[_];for(let C=0;C<=r;C++){const V=C/r*Math.PI*2,x=Math.sin(V),S=-Math.cos(V);c.x=S*y.x+x*M.x,c.y=S*y.y+x*M.y,c.z=S*y.z+x*M.z,c.normalize(),f.push(c.x,c.y,c.z),o.x=d.x+i*c.x,o.y=d.y+i*c.y,o.z=d.z+i*c.z,u.push(o.x,o.y,o.z)}}(function m(){for(let _=0;_<t;_++)g(_);g(!1===s?t:0),function b(){for(let _=0;_<=t;_++)for(let y=0;y<=r;y++)l.x=_/t,l.y=y/r,h.push(l.x,l.y)}(),function v(){for(let _=1;_<=t;_++)for(let y=1;y<=r;y++){const C=(r+1)*_+(y-1),V=(r+1)*_+y,x=(r+1)*(_-1)+y;p.push((r+1)*(_-1)+(y-1),C,x),p.push(C,V,x)}}()})(),this.setIndex(p),this.setAttribute("position",new Oe(u,3)),this.setAttribute("normal",new Oe(f,3)),this.setAttribute("uv",new Oe(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new L3((new Lp[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Ac extends u1{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=r1,this.normalScale=new ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class V3 extends u1{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Re(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=r1,this.normalScale=new ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=p6,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}function ss(n,e,t){return jp(n)?new n.constructor(n.subarray(e,void 0!==t?t:n.length)):n.slice(e,t)}function v1(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)}function jp(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}class hd{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let o=i+2;;){if(void 0===r){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=r,r=t[++i],e<r)break t}a=t.length;break n}if(e>=s)break e;{const o=t[1];e<o&&(i=2,s=o);for(let c=i-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(r=s,s=t[--i-1],e>=s)break t}a=i,i=0}}for(;i<a;){const o=i+a>>>1;e<t[o]?a=o:i=o+1}if(r=t[i],s=t[i-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class ore extends hd{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,a=e+1,o=r[s],c=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:s=e,o=2*t-i;break;case 2402:s=r.length-2,o=t+r[s]-r[s+1];break;default:s=e,o=i}if(void 0===c)switch(this.getSettings_().endingEnd){case 2401:a=e,c=2*i-t;break;case 2402:a=1,c=i+r[1]-r[0];break;default:a=e-1,c=t}const l=.5*(i-t),d=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(c-i),this._offsetPrev=s*d,this._offsetNext=a*d}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=e*o,l=c-o,d=this._offsetPrev,u=this._offsetNext,f=this._weightPrev,h=this._weightNext,p=(i-t)/(r-t),m=p*p,g=m*p,v=-f*g+2*f*m-f*p,b=(1+f)*g+(-1.5-2*f)*m+(-.5+f)*p+1,_=(-1-h)*g+(1.5+h)*m+.5*p,y=h*g-h*m;for(let M=0;M!==o;++M)s[M]=v*a[d+M]+b*a[l+M]+_*a[c+M]+y*a[u+M];return s}}class cD extends hd{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=e*o,l=c-o,d=(i-t)/(r-t),u=1-d;for(let f=0;f!==o;++f)s[f]=a[l+f]*u+a[c+f]*d;return s}}class cre extends hd{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Xs{constructor(e,t,i,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=v1(t,this.TimeBufferType),this.values=v1(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:v1(e.times,Array),values:v1(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new cre(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new cD(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new ore(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;-1!==a&&i[a]>t;)--a;if(++a,0!==s||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=ss(i,s,a),this.values=ss(this.values,s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const c=i[o];if("number"==typeof c&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,c),e=!1;break}if(null!==a&&a>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,c,a),e=!1;break}a=c}if(void 0!==r&&jp(r))for(let o=0,c=r.length;o!==c;++o){const l=r[o];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,l),e=!1;break}}return e}optimize(){const e=ss(this.times),t=ss(this.values),i=this.getValueSize(),r=2302===this.getInterpolation(),s=e.length-1;let a=1;for(let o=1;o<s;++o){let c=!1;const l=e[o];if(l!==e[o+1]&&(1!==o||l!==e[0]))if(r)c=!0;else{const u=o*i,f=u-i,h=u+i;for(let p=0;p!==i;++p){const m=t[u+p];if(m!==t[f+p]||m!==t[h+p]){c=!0;break}}}if(c){if(o!==a){e[a]=e[o];const u=o*i,f=a*i;for(let h=0;h!==i;++h)t[f+h]=t[u+h]}++a}}if(s>0){e[a]=e[s];for(let o=s*i,c=a*i,l=0;l!==i;++l)t[c+l]=t[o+l];++a}return a!==e.length?(this.times=ss(e,0,a),this.values=ss(t,0,a*i)):(this.times=e,this.values=t),this}clone(){const e=ss(this.times,0),t=ss(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Xs.prototype.TimeBufferType=Float32Array,Xs.prototype.ValueBufferType=Float32Array,Xs.prototype.DefaultInterpolation=2301;class Lc extends Xs{}Lc.prototype.ValueTypeName="bool",Lc.prototype.ValueBufferType=Array,Lc.prototype.DefaultInterpolation=2300,Lc.prototype.InterpolantFactoryMethodLinear=void 0,Lc.prototype.InterpolantFactoryMethodSmooth=void 0;(class lD extends Xs{}).prototype.ValueTypeName="color";(class pd extends Xs{}).prototype.ValueTypeName="number";class lre extends hd{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=(i-t)/(r-t);let l=e*o;for(let d=l+o;l!==d;l+=4)or.slerpFlat(s,0,a,l-o,a,l,c);return s}}class z3 extends Xs{InterpolantFactoryMethodLinear(e){return new lre(this.times,this.values,this.getValueSize(),e)}}z3.prototype.ValueTypeName="quaternion",z3.prototype.DefaultInterpolation=2301,z3.prototype.InterpolantFactoryMethodSmooth=void 0;class Vc extends Xs{}Vc.prototype.ValueTypeName="string",Vc.prototype.ValueBufferType=Array,Vc.prototype.DefaultInterpolation=2300,Vc.prototype.InterpolantFactoryMethodLinear=void 0,Vc.prototype.InterpolantFactoryMethodSmooth=void 0;(class md extends Xs{}).prototype.ValueTypeName="vector";class hre extends Error{constructor(e,t){super(e),this.response=t}}class uD extends Nr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Re(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}const Xp=new St,fD=new E,hD=new E;class mre{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ne(512,512),this.map=null,this.mapPass=null,this.matrix=new St,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new lp,this._frameExtents=new ne(1,1),this._viewportCount=1,this._viewports=[new hn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;fD.setFromMatrixPosition(e.matrixWorld),t.position.copy(fD),hD.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(hD),t.updateMatrixWorld(),Xp.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Xp),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Xp)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class yre extends mre{constructor(){super(new dp(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Kp extends uD{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Nr.DEFAULT_UP),this.updateMatrix(),this.target=new Nr,this.shadow=new yre}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class mD extends uD{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}const Qp="\\[\\]\\.:\\/",Vre=new RegExp("["+Qp+"]","g"),Jp="[^"+Qp+"]",zre="[^"+Qp.replace("\\.","")+"]",Nre=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",Jp)+/(WCOD+)?/.source.replace("WCOD",zre)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Jp)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Jp)+"$"),Pre=["material","materials","bones","map"];class Fre{constructor(e,t,i){const r=i||An.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}let An=(()=>{class n{constructor(t,i,r){this.path=i,this.parsedPath=r||n.parseTrackName(i),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,r){return t&&t.isAnimationObjectGroup?new n.Composite(t,i,r):new n(t,i,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Vre,"")}static parseTrackName(t){const i=Nre.exec(t);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const a=r.nodeName.substring(s+1);-1!==Pre.indexOf(a)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=a)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,i){if(void 0===i||""===i||"."===i||-1===i||i===t.name||i===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(i);if(void 0!==r)return r}if(t.children){const r=function(a){for(let o=0;o<a.length;o++){const c=a[o];if(c.name===i||c.uuid===i)return c;const l=r(c.children);if(l)return l}return null},s=r(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)t[i++]=r[s]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=t[i++]}_setValue_array_setNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node;const i=this.parsedPath,r=i.objectName,s=i.propertyName;let a=i.propertyIndex;if(t||(t=n.findNode(this.rootNode,i.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(r){let d=i.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let u=0;u<t.length;u++)if(t[u].name===d){d=u;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==d){if(void 0===t[d])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[d]}}const o=t[s];if(void 0===o)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+s+" but it wasn't found.",t);let c=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else void 0!==o.fromArray&&void 0!==o.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=s;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=Fre,n})();An.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},An.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},An.prototype.GetterByBindingType=[An.prototype._getValue_direct,An.prototype._getValue_array,An.prototype._getValue_arrayElement,An.prototype._getValue_toArray],An.prototype.SetterByBindingTypeAndVersioning=[[An.prototype._setValue_direct,An.prototype._setValue_direct_setNeedsUpdate,An.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[An.prototype._setValue_array,An.prototype._setValue_array_setNeedsUpdate,An.prototype._setValue_array_setMatrixWorldNeedsUpdate],[An.prototype._setValue_arrayElement,An.prototype._setValue_arrayElement_setNeedsUpdate,An.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[An.prototype._setValue_fromArray,An.prototype._setValue_fromArray_setNeedsUpdate,An.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class ED{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(ei(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:D5}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=D5);const ND={type:"change"},im={type:"start"},PD={type:"end"};class qre extends s1{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new E,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:$2.ROTATE,MIDDLE:$2.DOLLY,RIGHT:$2.PAN},this.touches={ONE:q2.ROTATE,TWO:q2.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(z){z.addEventListener("keydown",Xt),this._domElementKeyEvents=z},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",Xt),this._domElementKeyEvents=null},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(ND),i.update(),s=r.NONE},this.update=function(){const z=new E,O=(new or).setFromUnitVectors(e.up,new E(0,1,0)),ze=O.clone().invert(),we=new E,Xe=new or,Qe=2*Math.PI;return function(){const Ot=i.object.position;z.copy(Ot).sub(i.target),z.applyQuaternion(O),o.setFromVector3(z),i.autoRotate&&s===r.NONE&&S(function V(){return 2*Math.PI/60/60*i.autoRotateSpeed}()),i.enableDamping?(o.theta+=c.theta*i.dampingFactor,o.phi+=c.phi*i.dampingFactor):(o.theta+=c.theta,o.phi+=c.phi);let Yt=i.minAzimuthAngle,pn=i.maxAzimuthAngle;return isFinite(Yt)&&isFinite(pn)&&(Yt<-Math.PI?Yt+=Qe:Yt>Math.PI&&(Yt-=Qe),pn<-Math.PI?pn+=Qe:pn>Math.PI&&(pn-=Qe),o.theta=Yt<=pn?Math.max(Yt,Math.min(pn,o.theta)):o.theta>(Yt+pn)/2?Math.max(Yt,o.theta):Math.min(pn,o.theta)),o.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,o.phi)),o.makeSafe(),o.radius*=l,o.radius=Math.max(i.minDistance,Math.min(i.maxDistance,o.radius)),!0===i.enableDamping?i.target.addScaledVector(d,i.dampingFactor):i.target.add(d),z.setFromSpherical(o),z.applyQuaternion(ze),Ot.copy(i.target).add(z),i.object.lookAt(i.target),!0===i.enableDamping?(c.theta*=1-i.dampingFactor,c.phi*=1-i.dampingFactor,d.multiplyScalar(1-i.dampingFactor)):(c.set(0,0,0),d.set(0,0,0)),l=1,!!(u||we.distanceToSquared(i.object.position)>a||8*(1-Xe.dot(i.object.quaternion))>a)&&(i.dispatchEvent(ND),we.copy(i.object.position),Xe.copy(i.object.quaternion),u=!1,!0)}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",Z),i.domElement.removeEventListener("pointerdown",_e),i.domElement.removeEventListener("pointercancel",mt),i.domElement.removeEventListener("wheel",un),i.domElement.removeEventListener("pointermove",We),i.domElement.removeEventListener("pointerup",Ce),null!==i._domElementKeyEvents&&(i._domElementKeyEvents.removeEventListener("keydown",Xt),i._domElementKeyEvents=null)};const i=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=r.NONE;const a=1e-6,o=new ED,c=new ED;let l=1;const d=new E;let u=!1;const f=new ne,h=new ne,p=new ne,m=new ne,g=new ne,v=new ne,b=new ne,_=new ne,y=new ne,M=[],C={};function x(){return Math.pow(.95,i.zoomSpeed)}function S(z){c.theta-=z}function H(z){c.phi-=z}const $=function(){const z=new E;return function(ze,we){z.setFromMatrixColumn(we,0),z.multiplyScalar(-ze),d.add(z)}}(),J=function(){const z=new E;return function(ze,we){!0===i.screenSpacePanning?z.setFromMatrixColumn(we,1):(z.setFromMatrixColumn(we,0),z.crossVectors(i.object.up,z)),z.multiplyScalar(ze),d.add(z)}}(),F=function(){const z=new E;return function(ze,we){const Xe=i.domElement;if(i.object.isPerspectiveCamera){z.copy(i.object.position).sub(i.target);let Ze=z.length();Ze*=Math.tan(i.object.fov/2*Math.PI/180),$(2*ze*Ze/Xe.clientHeight,i.object.matrix),J(2*we*Ze/Xe.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?($(ze*(i.object.right-i.object.left)/i.object.zoom/Xe.clientWidth,i.object.matrix),J(we*(i.object.top-i.object.bottom)/i.object.zoom/Xe.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function k(z){i.object.isPerspectiveCamera?l/=z:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*z)),i.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function K(z){i.object.isPerspectiveCamera?l*=z:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/z)),i.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function R(z){f.set(z.clientX,z.clientY)}function N(z){m.set(z.clientX,z.clientY)}function oe(){1===M.length?f.set(M[0].pageX,M[0].pageY):f.set(.5*(M[0].pageX+M[1].pageX),.5*(M[0].pageY+M[1].pageY))}function G(){1===M.length?m.set(M[0].pageX,M[0].pageY):m.set(.5*(M[0].pageX+M[1].pageX),.5*(M[0].pageY+M[1].pageY))}function Ie(){const z=M[0].pageX-M[1].pageX,O=M[0].pageY-M[1].pageY,ze=Math.sqrt(z*z+O*O);b.set(0,ze)}function Me(z){if(1==M.length)h.set(z.pageX,z.pageY);else{const ze=Ke(z);h.set(.5*(z.pageX+ze.x),.5*(z.pageY+ze.y))}p.subVectors(h,f).multiplyScalar(i.rotateSpeed);const O=i.domElement;S(2*Math.PI*p.x/O.clientHeight),H(2*Math.PI*p.y/O.clientHeight),f.copy(h)}function Pe(z){if(1===M.length)g.set(z.pageX,z.pageY);else{const O=Ke(z);g.set(.5*(z.pageX+O.x),.5*(z.pageY+O.y))}v.subVectors(g,m).multiplyScalar(i.panSpeed),F(v.x,v.y),m.copy(g)}function tt(z){const O=Ke(z),ze=z.pageX-O.x,we=z.pageY-O.y,Xe=Math.sqrt(ze*ze+we*we);_.set(0,Xe),y.set(0,Math.pow(_.y/b.y,i.zoomSpeed)),k(y.y),b.copy(_)}function _e(z){!1!==i.enabled&&(0===M.length&&(i.domElement.setPointerCapture(z.pointerId),i.domElement.addEventListener("pointermove",We),i.domElement.addEventListener("pointerup",Ce)),function me(z){M.push(z)}(z),"touch"===z.pointerType?function L(z){switch(Ee(z),M.length){case 1:switch(i.touches.ONE){case q2.ROTATE:if(!1===i.enableRotate)return;oe(),s=r.TOUCH_ROTATE;break;case q2.PAN:if(!1===i.enablePan)return;G(),s=r.TOUCH_PAN;break;default:s=r.NONE}break;case 2:switch(i.touches.TWO){case q2.DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;(function pe(){i.enableZoom&&Ie(),i.enablePan&&G()})(),s=r.TOUCH_DOLLY_PAN;break;case q2.DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function De(){i.enableZoom&&Ie(),i.enableRotate&&oe()})(),s=r.TOUCH_DOLLY_ROTATE;break;default:s=r.NONE}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(im)}(z):function nt(z){let O;switch(z.button){case 0:O=i.mouseButtons.LEFT;break;case 1:O=i.mouseButtons.MIDDLE;break;case 2:O=i.mouseButtons.RIGHT;break;default:O=-1}switch(O){case $2.DOLLY:if(!1===i.enableZoom)return;(function q(z){b.set(z.clientX,z.clientY)})(z),s=r.DOLLY;break;case $2.ROTATE:if(z.ctrlKey||z.metaKey||z.shiftKey){if(!1===i.enablePan)return;N(z),s=r.PAN}else{if(!1===i.enableRotate)return;R(z),s=r.ROTATE}break;case $2.PAN:if(z.ctrlKey||z.metaKey||z.shiftKey){if(!1===i.enableRotate)return;R(z),s=r.ROTATE}else{if(!1===i.enablePan)return;N(z),s=r.PAN}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(im)}(z))}function We(z){!1!==i.enabled&&("touch"===z.pointerType?function w(z){switch(Ee(z),s){case r.TOUCH_ROTATE:if(!1===i.enableRotate)return;Me(z),i.update();break;case r.TOUCH_PAN:if(!1===i.enablePan)return;Pe(z),i.update();break;case r.TOUCH_DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;(function re(z){i.enableZoom&&tt(z),i.enablePan&&Pe(z)})(z),i.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function ue(z){i.enableZoom&&tt(z),i.enableRotate&&Me(z)})(z),i.update();break;default:s=r.NONE}}(z):function gt(z){switch(s){case r.ROTATE:if(!1===i.enableRotate)return;!function X(z){h.set(z.clientX,z.clientY),p.subVectors(h,f).multiplyScalar(i.rotateSpeed);const O=i.domElement;S(2*Math.PI*p.x/O.clientHeight),H(2*Math.PI*p.y/O.clientHeight),f.copy(h),i.update()}(z);break;case r.DOLLY:if(!1===i.enableZoom)return;!function ie(z){_.set(z.clientX,z.clientY),y.subVectors(_,b),y.y>0?k(x()):y.y<0&&K(x()),b.copy(_),i.update()}(z);break;case r.PAN:if(!1===i.enablePan)return;!function be(z){g.set(z.clientX,z.clientY),v.subVectors(g,m).multiplyScalar(i.panSpeed),F(v.x,v.y),m.copy(g),i.update()}(z)}}(z))}function Ce(z){ge(z),0===M.length&&(i.domElement.releasePointerCapture(z.pointerId),i.domElement.removeEventListener("pointermove",We),i.domElement.removeEventListener("pointerup",Ce)),i.dispatchEvent(PD),s=r.NONE}function mt(z){ge(z)}function un(z){!1===i.enabled||!1===i.enableZoom||s!==r.NONE||(z.preventDefault(),i.dispatchEvent(im),function j(z){z.deltaY<0?K(x()):z.deltaY>0&&k(x()),i.update()}(z),i.dispatchEvent(PD))}function Xt(z){!1===i.enabled||!1===i.enablePan||function le(z){let O=!1;switch(z.code){case i.keys.UP:z.ctrlKey||z.metaKey||z.shiftKey?H(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):F(0,i.keyPanSpeed),O=!0;break;case i.keys.BOTTOM:z.ctrlKey||z.metaKey||z.shiftKey?H(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):F(0,-i.keyPanSpeed),O=!0;break;case i.keys.LEFT:z.ctrlKey||z.metaKey||z.shiftKey?S(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):F(i.keyPanSpeed,0),O=!0;break;case i.keys.RIGHT:z.ctrlKey||z.metaKey||z.shiftKey?S(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):F(-i.keyPanSpeed,0),O=!0}O&&(z.preventDefault(),i.update())}(z)}function Z(z){!1!==i.enabled&&z.preventDefault()}function ge(z){delete C[z.pointerId];for(let O=0;O<M.length;O++)if(M[O].pointerId==z.pointerId)return void M.splice(O,1)}function Ee(z){let O=C[z.pointerId];void 0===O&&(O=new ne,C[z.pointerId]=O),O.set(z.pageX,z.pageY)}function Ke(z){return C[(z.pointerId===M[0].pointerId?M[1]:M[0]).pointerId]}i.domElement.addEventListener("contextmenu",Z),i.domElement.addEventListener("pointerdown",_e),i.domElement.addEventListener("pointercancel",mt),i.domElement.addEventListener("wheel",un,{passive:!1}),this.update()}}class Xre extends QS{constructor(){super()}getPoint(e,t){if(e<0||e>1)throw new Error(`t (= ${e}) is not between 0 and 1 inclusive.`);if(1===e)return this.curves[this.curves.length-1].getPoint(1,t);const i=e*this.curves.length,r=Math.floor(i);return this.curves[r].getPoint(i-r,t)}}class Yre extends Lt{constructor(e,t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new E,c=new E,l=new ne;this.P=new E;const d=[],u=[],f=[],h=[],p=b=>{this.P=e.getPoint(b/t,this.P);const _=a.normals[b],y=a.binormals[b];for(let M=0;M<=r;M++){const C=M/r*Math.PI*2,V=Math.sin(C),x=-Math.cos(C);c.x=x*_.x+V*y.x,c.y=x*_.y+V*y.y,c.z=x*_.z+V*y.z,c.normalize(),u.push(c.x,c.y,c.z),o.x=this.P.x+i*c.x,o.y=this.P.y+i*c.y,o.z=this.P.z+i*c.z,d.push(o.x,o.y,o.z)}};(()=>{for(let b=0;b<t;b++)p(b);p(!1===s?t:0),(()=>{for(let b=0;b<=t;b++)for(let _=0;_<=r;_++)l.x=b/t,l.y=_/r,f.push(l.x,l.y)})(),(()=>{for(let b=1;b<=t;b++)for(let _=1;_<=r;_++){const M=(r+1)*b+(_-1),C=(r+1)*b+_,V=(r+1)*(b-1)+_;h.push((r+1)*(b-1)+(_-1),M,V),h.push(M,C,V)}})()})(),this.setIndex(h),this.setAttribute("position",new Oe(d,3)),this.setAttribute("normal",new Oe(u,3)),this.setAttribute("uv",new Oe(f,2))}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}}const rm=function Qre(n,e){return n===e||n!=n&&e!=e},Sd=function Jre(n,e){for(var t=n.length;t--;)if(rm(n[t][0],e))return t;return-1};var tse=Array.prototype.splice;function Hc(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Hc.prototype.clear=function Kre(){this.__data__=[],this.size=0},Hc.prototype.delete=function nse(n){var e=this.__data__,t=Sd(e,n);return!(t<0||(t==e.length-1?e.pop():tse.call(e,t,1),--this.size,0))},Hc.prototype.get=function rse(n){var e=this.__data__,t=Sd(e,n);return t<0?void 0:e[t][1]},Hc.prototype.has=function ase(n){return Sd(this.__data__,n)>-1},Hc.prototype.set=function cse(n,e){var t=this.__data__,i=Sd(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this};const Dd=Hc,FD="object"==typeof global&&global&&global.Object===Object&&global;var bse="object"==typeof self&&self&&self.Object===Object&&self;const br=FD||bse||Function("return this")(),Ic=br.Symbol;var OD=Object.prototype,Mse=OD.hasOwnProperty,Cse=OD.toString,I3=Ic?Ic.toStringTag:void 0;var Ese=Object.prototype.toString;var BD=Ic?Ic.toStringTag:void 0;const kc=function zse(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":BD&&BD in Object(n)?function wse(n){var e=Mse.call(n,I3),t=n[I3];try{n[I3]=void 0;var i=!0}catch{}var r=Cse.call(n);return i&&(e?n[I3]=t:delete n[I3]),r}(n):function Tse(n){return Ese.call(n)}(n)},Da=function Hse(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)};const UD=function Pse(n){if(!Da(n))return!1;var e=kc(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};var n,Fse=br["__core-js_shared__"],GD=(n=/[^.]+$/.exec(Fse&&Fse.keys&&Fse.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";var Gse=Function.prototype.toString;const w1=function Wse(n){if(null!=n){try{return Gse.call(n)}catch{}try{return n+""}catch{}}return""};var $se=/^\[object .+?Constructor\]$/,Zse=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Jse=function Qse(n){return!(!Da(n)||function Ose(n){return!!GD&&GD in n}(n))&&(UD(n)?Zse:$se).test(w1(n))},S1=function nae(n,e){var t=function eae(n,e){return n?.[e]}(n,e);return Jse(t)?t:void 0},k3=S1(br,"Map"),R3=S1(Object,"create");var uae=Object.prototype.hasOwnProperty;var mae=Object.prototype.hasOwnProperty;function Rc(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Rc.prototype.clear=function sae(){this.__data__=R3?R3(null):{},this.size=0},Rc.prototype.delete=function oae(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e},Rc.prototype.get=function fae(n){var e=this.__data__;if(R3){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return uae.call(e,n)?e[n]:void 0},Rc.prototype.has=function gae(n){var e=this.__data__;return R3?void 0!==e[n]:mae.call(e,n)},Rc.prototype.set=function bae(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=R3&&void 0===e?"__lodash_hash_undefined__":e,this};const WD=Rc,Ed=function Sae(n,e){var t=n.__data__;return function Cae(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}(e)?t["string"==typeof e?"string":"hash"]:t.map};function Nc(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Nc.prototype.clear=function xae(){this.size=0,this.__data__={hash:new WD,map:new(k3||Dd),string:new WD}},Nc.prototype.delete=function Dae(n){var e=Ed(this,n).delete(n);return this.size-=e?1:0,e},Nc.prototype.get=function Tae(n){return Ed(this,n).get(n)},Nc.prototype.has=function Lae(n){return Ed(this,n).has(n)},Nc.prototype.set=function zae(n,e){var t=Ed(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this};const Iae=Nc;function Pc(n){var e=this.__data__=new Dd(n);this.size=e.size}Pc.prototype.clear=function dse(){this.__data__=new Dd,this.size=0},Pc.prototype.delete=function fse(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t},Pc.prototype.get=function pse(n){return this.__data__.get(n)},Pc.prototype.has=function gse(n){return this.__data__.has(n)},Pc.prototype.set=function Rae(n,e){var t=this.__data__;if(t instanceof Dd){var i=t.__data__;if(!k3||i.length<199)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new Iae(i)}return t.set(n,e),this.size=t.size,this};const Pae=Pc,jD=function Fae(n,e){for(var t=-1,i=null==n?0:n.length;++t<i&&!1!==e(n[t],t,n););return n};var Oae=function(){try{var n=S1(Object,"defineProperty");return n({},"",{}),n}catch{}}();const Td=Oae,$D=function Bae(n,e,t){"__proto__"==e&&Td?Td(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t};var Gae=Object.prototype.hasOwnProperty;const qD=function Wae(n,e,t){var i=n[e];(!Gae.call(n,e)||!rm(i,t)||void 0===t&&!(e in n))&&$D(n,e,t)},Ad=function jae(n,e,t,i){var r=!t;t||(t={});for(var s=-1,a=e.length;++s<a;){var o=e[s],c=i?i(t[o],n[o],o,t,n):void 0;void 0===c&&(c=n[o]),r?$D(t,o,c):qD(t,o,c)}return t},D1=function Xae(n){return null!=n&&"object"==typeof n};const XD=function Kae(n){return D1(n)&&"[object Arguments]"==kc(n)};var YD=Object.prototype,Zae=YD.hasOwnProperty,Qae=YD.propertyIsEnumerable,Jae=XD(function(){return arguments}())?XD:function(n){return D1(n)&&Zae.call(n,"callee")&&!Qae.call(n,"callee")};const eoe=Jae,Ld=Array.isArray;var KD="object"==typeof exports&&exports&&!exports.nodeType&&exports,ZD=KD&&"object"==typeof module&&module&&!module.nodeType&&module,QD=ZD&&ZD.exports===KD?br.Buffer:void 0;const JD=(QD?QD.isBuffer:void 0)||function noe(){return!1};var coe=/^(?:0|[1-9]\d*)$/;const am=function loe(n,e){var t=typeof n;return!!(e=e??9007199254740991)&&("number"==t||"symbol"!=t&&coe.test(n))&&n>-1&&n%1==0&&n<e};const eE=function uoe(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991};var Ln={};Ln["[object Float32Array]"]=Ln["[object Float64Array]"]=Ln["[object Int8Array]"]=Ln["[object Int16Array]"]=Ln["[object Int32Array]"]=Ln["[object Uint8Array]"]=Ln["[object Uint8ClampedArray]"]=Ln["[object Uint16Array]"]=Ln["[object Uint32Array]"]=!0,Ln["[object Arguments]"]=Ln["[object Array]"]=Ln["[object ArrayBuffer]"]=Ln["[object Boolean]"]=Ln["[object DataView]"]=Ln["[object Date]"]=Ln["[object Error]"]=Ln["[object Function]"]=Ln["[object Map]"]=Ln["[object Number]"]=Ln["[object Object]"]=Ln["[object RegExp]"]=Ln["[object Set]"]=Ln["[object String]"]=Ln["[object WeakMap]"]=!1;const om=function Poe(n){return function(e){return n(e)}};var tE="object"==typeof exports&&exports&&!exports.nodeType&&exports,N3=tE&&"object"==typeof module&&module&&!module.nodeType&&module,cm=N3&&N3.exports===tE&&FD.process;const Fc=function(){try{return N3&&N3.require&&N3.require("util").types||cm&&cm.binding&&cm.binding("util")}catch{}}();var nE=Fc&&Fc.isTypedArray;const Uoe=nE?om(nE):function Roe(n){return D1(n)&&eE(n.length)&&!!Ln[kc(n)]};var Woe=Object.prototype.hasOwnProperty;const iE=function joe(n,e){var t=Ld(n),i=!t&&eoe(n),r=!t&&!i&&JD(n),s=!t&&!i&&!r&&Uoe(n),a=t||i||r||s,o=a?function $ae(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}(n.length,String):[],c=o.length;for(var l in n)(e||Woe.call(n,l))&&(!a||!("length"==l||r&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||am(l,c)))&&o.push(l);return o};var $oe=Object.prototype;const lm=function qoe(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||$oe)},rE=function Xoe(n,e){return function(t){return n(e(t))}},Koe=rE(Object.keys,Object);var Qoe=Object.prototype.hasOwnProperty;const dm=function t1e(n){return null!=n&&eE(n.length)&&!UD(n)},um=function n1e(n){return dm(n)?iE(n):function Joe(n){if(!lm(n))return Koe(n);var e=[];for(var t in Object(n))Qoe.call(n,t)&&"constructor"!=t&&e.push(t);return e}(n)};var c1e=Object.prototype.hasOwnProperty;const d1e=function l1e(n){if(!Da(n))return function s1e(n){var e=[];if(null!=n)for(var t in Object(n))e.push(t);return e}(n);var e=lm(n),t=[];for(var i in n)"constructor"==i&&(e||!c1e.call(n,i))||t.push(i);return t},fm=function u1e(n){return dm(n)?iE(n,!0):d1e(n)};var sE="object"==typeof exports&&exports&&!exports.nodeType&&exports,aE=sE&&"object"==typeof module&&module&&!module.nodeType&&module,oE=aE&&aE.exports===sE?br.Buffer:void 0,cE=oE?oE.allocUnsafe:void 0;const hm=function _1e(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e},lE=function y1e(){return[]};var M1e=Object.prototype.propertyIsEnumerable,dE=Object.getOwnPropertySymbols,C1e=dE?function(n){return null==n?[]:(n=Object(n),function v1e(n,e){for(var t=-1,i=null==n?0:n.length,r=0,s=[];++t<i;){var a=n[t];e(a,t,n)&&(s[r++]=a)}return s}(dE(n),function(e){return M1e.call(n,e)}))}:lE;const pm=C1e,uE=function D1e(n,e){for(var t=-1,i=e.length,r=n.length;++t<i;)n[r+t]=e[t];return n},fE=rE(Object.getPrototypeOf,Object);var A1e=Object.getOwnPropertySymbols?function(n){for(var e=[];n;)uE(e,pm(n)),n=fE(n);return e}:lE;const hE=A1e,pE=function z1e(n,e,t){var i=e(n);return Ld(n)?i:uE(i,t(n))},I1e=function H1e(n){return pE(n,um,pm)},R1e=function k1e(n){return pE(n,fm,hE)},mm=S1(br,"DataView"),gm=S1(br,"Promise"),_m=S1(br,"Set"),P3=S1(br,"WeakMap");var mE="[object Map]",gE="[object Promise]",_E="[object Set]",vE="[object WeakMap]",bE="[object DataView]",U1e=w1(mm),G1e=w1(k3),W1e=w1(gm),j1e=w1(_m),$1e=w1(P3),E1=kc;(mm&&E1(new mm(new ArrayBuffer(1)))!=bE||k3&&E1(new k3)!=mE||gm&&E1(gm.resolve())!=gE||_m&&E1(new _m)!=_E||P3&&E1(new P3)!=vE)&&(E1=function(n){var e=kc(n),t="[object Object]"==e?n.constructor:void 0,i=t?w1(t):"";if(i)switch(i){case U1e:return bE;case G1e:return mE;case W1e:return gE;case j1e:return _E;case $1e:return vE}return e});const vm=E1;var X1e=Object.prototype.hasOwnProperty;const yE=br.Uint8Array,bm=function Q1e(n){var e=new n.constructor(n.byteLength);return new yE(e).set(new yE(n)),e};var t2e=/\w*$/;var xE=Ic?Ic.prototype:void 0,ME=xE?xE.valueOf:void 0;const T2e=function E2e(n,e,t){var i=n.constructor;switch(e){case"[object ArrayBuffer]":return bm(n);case"[object Boolean]":case"[object Date]":return new i(+n);case"[object DataView]":return function J1e(n,e){var t=e?bm(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}(n,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function a2e(n,e){var t=e?bm(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}(n,t);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(n);case"[object RegExp]":return function n2e(n){var e=new n.constructor(n.source,t2e.exec(n));return e.lastIndex=n.lastIndex,e}(n);case"[object Symbol]":return function r2e(n){return ME?Object(ME.call(n)):{}}(n)}};var CE=Object.create,A2e=function(){function n(){}return function(e){if(!Da(e))return{};if(CE)return CE(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const Vd=A2e;var wE=Fc&&Fc.isMap;const R2e=wE?om(wE):function H2e(n){return D1(n)&&"[object Map]"==vm(n)};var SE=Fc&&Fc.isSet;const B2e=SE?om(SE):function P2e(n){return D1(n)&&"[object Set]"==vm(n)};var DE="[object Arguments]",EE="[object Function]",TE="[object Object]",wn={};wn[DE]=wn["[object Array]"]=wn["[object ArrayBuffer]"]=wn["[object DataView]"]=wn["[object Boolean]"]=wn["[object Date]"]=wn["[object Float32Array]"]=wn["[object Float64Array]"]=wn["[object Int8Array]"]=wn["[object Int16Array]"]=wn["[object Int32Array]"]=wn["[object Map]"]=wn["[object Number]"]=wn[TE]=wn["[object RegExp]"]=wn["[object Set]"]=wn["[object String]"]=wn["[object Symbol]"]=wn["[object Uint8Array]"]=wn["[object Uint8ClampedArray]"]=wn["[object Uint16Array]"]=wn["[object Uint32Array]"]=!0,wn["[object Error]"]=wn[EE]=wn["[object WeakMap]"]=!1;const pce=function zd(n,e,t,i,r,s){var a,o=1&e,c=2&e,l=4&e;if(t&&(a=r?t(n,i,r,s):t(n)),void 0!==a)return a;if(!Da(n))return n;var d=Ld(n);if(d){if(a=function Y1e(n){var e=n.length,t=new n.constructor(e);return e&&"string"==typeof n[0]&&X1e.call(n,"index")&&(t.index=n.index,t.input=n.input),t}(n),!o)return hm(n,a)}else{var u=vm(n),f=u==EE||"[object GeneratorFunction]"==u;if(JD(n))return function m1e(n,e){if(e)return n.slice();var t=n.length,i=cE?cE(t):new n.constructor(t);return n.copy(i),i}(n,o);if(u==TE||u==DE||f&&!r){if(a=c||f?{}:function L2e(n){return"function"!=typeof n.constructor||lm(n)?{}:Vd(fE(n))}(n),!o)return c?function L1e(n,e){return Ad(n,hE(n),e)}(n,function f1e(n,e){return n&&Ad(e,fm(e),n)}(a,n)):function w1e(n,e){return Ad(n,pm(n),e)}(n,function i1e(n,e){return n&&Ad(e,um(e),n)}(a,n))}else{if(!wn[u])return r?n:{};a=T2e(n,u,o)}}s||(s=new Pae);var h=s.get(n);if(h)return h;s.set(n,a),B2e(n)?n.forEach(function(g){a.add(zd(g,e,t,g,n,s))}):R2e(n)&&n.forEach(function(g,v){a.set(v,zd(g,e,t,v,n,s))});var m=d?void 0:(l?c?R1e:I1e:c?fm:um)(n);return jD(m||n,function(g,v){m&&(g=n[v=g]),qD(a,v,zd(g,e,t,v,n,s))}),a};const ym=function bce(n){return n},xm=function yce(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)};var AE=Math.max;const wce=function Cce(n){return function(){return n}};var Sce=Td?function(n,e){return Td(n,"toString",{configurable:!0,enumerable:!1,value:wce(e),writable:!0})}:ym,Ece=800,Tce=16,Ace=Date.now;const LE=function Lce(n){var e=0,t=0;return function(){var i=Ace(),r=Tce-(i-t);if(t=i,r>0){if(++e>=Ece)return arguments[0]}else e=0;return n.apply(void 0,arguments)}},VE=LE(Sce),Hd=P3&&new P3;var kce=Hd?function(n,e){return Hd.set(n,e),n}:ym;const zE=kce,F3=function Rce(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Vd(n.prototype),i=n.apply(t,e);return Da(i)?i:t}};var Oce=Math.max;const HE=function Bce(n,e,t,i){for(var r=-1,s=n.length,a=t.length,o=-1,c=e.length,l=Oce(s-a,0),d=Array(c+l),u=!i;++o<c;)d[o]=e[o];for(;++r<a;)(u||r<s)&&(d[t[r]]=n[r]);for(;l--;)d[o++]=n[r++];return d};var Uce=Math.max;const IE=function Gce(n,e,t,i){for(var r=-1,s=n.length,a=-1,o=t.length,c=-1,l=e.length,d=Uce(s-o,0),u=Array(d+l),f=!i;++r<d;)u[r]=n[r];for(var h=r;++c<l;)u[h+c]=e[c];for(;++a<o;)(f||r<s)&&(u[h+t[a]]=n[r++]);return u},jce=function Wce(n,e){for(var t=n.length,i=0;t--;)n[t]===e&&++i;return i},Mm=function $ce(){};var qce=4294967295;function Id(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qce,this.__views__=[]}(Id.prototype=Vd(Mm.prototype)).constructor=Id;const Cm=Id;var Yce=Hd?function(n){return Hd.get(n)}:function Xce(){};const kE=Yce,RE={};var Qce=Object.prototype.hasOwnProperty;function kd(n,e){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}(kd.prototype=Vd(Mm.prototype)).constructor=kd;const wm=kd,nle=function tle(n){if(n instanceof Cm)return n.clone();var e=new wm(n.__wrapped__,n.__chain__);return e.__actions__=hm(n.__actions__),e.__index__=n.__index__,e.__values__=n.__values__,e};var rle=Object.prototype.hasOwnProperty;function Rd(n){if(D1(n)&&!Ld(n)&&!(n instanceof Cm)){if(n instanceof wm)return n;if(rle.call(n,"__wrapped__"))return nle(n)}return new wm(n)}(Rd.prototype=Mm.prototype).constructor=Rd;const sle=Rd,ole=function ale(n){var e=function Jce(n){for(var e=n.name+"",t=RE[e],i=Qce.call(RE,e)?t.length:0;i--;){var r=t[i],s=r.func;if(null==s||s==n)return r.name}return e}(n),t=sle[e];if("function"!=typeof t||!(e in Cm.prototype))return!1;if(n===t)return!0;var i=kE(t);return!!i&&n===i[0]},NE=LE(zE);var lle=/\{\n\/\* \[wrapped with (.+)\] \*/,dle=/,? & /;var hle=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;const ble=function vle(n){return n!=n},Sle=function wle(n,e){return!(null==n||!n.length)&&function Mle(n,e,t){return e==e?function yle(n,e,t){for(var i=t-1,r=n.length;++i<r;)if(n[i]===e)return i;return-1}(n,e,t):function gle(n,e,t,i){for(var r=n.length,s=t+(i?1:-1);i?s--:++s<r;)if(e(n[s],s,n))return s;return-1}(n,ble,t)}(n,e,0)>-1};var kle=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];const PE=function Ple(n,e,t){var i=e+"";return VE(n,function ple(n,e){var t=e.length;if(!t)return n;var i=t-1;return e[i]=(t>1?"& ":"")+e[i],e=e.join(t>2?", ":" "),n.replace(hle,"{\n/* [wrapped with "+e+"] */\n")}(i,function Rle(n,e){return jD(kle,function(t){var i="_."+t[0];e&t[1]&&!Sle(n,i)&&n.push(i)}),n.sort()}(function ule(n){var e=n.match(lle);return e?e[1].split(dle):[]}(i),t)))};const BE=function Gle(n,e,t,i,r,s,a,o,c,l){var d=8&e;e|=d?32:64,4&(e&=~(d?64:32))||(e&=-4);var m=[n,e,r,d?s:void 0,d?a:void 0,d?void 0:s,d?void 0:a,o,c,l],g=t.apply(void 0,m);return ole(n)&&NE(g,m),g.placeholder=i,PE(g,n,e)},Sm=function Wle(n){return n.placeholder};var jle=Math.min;const qle=function $le(n,e){for(var t=n.length,i=jle(e.length,t),r=hm(n);i--;){var s=e[i];n[i]=am(s,t)?r[s]:void 0}return n};var UE="__lodash_placeholder__";const O3=function Xle(n,e){for(var t=-1,i=n.length,r=0,s=[];++t<i;){var a=n[t];(a===e||a===UE)&&(n[t]=UE,s[r++]=t)}return s};const WE=function GE(n,e,t,i,r,s,a,o,c,l){var d=128&e,u=1&e,f=2&e,h=24&e,p=512&e,m=f?void 0:F3(n);return function g(){for(var v=arguments.length,b=Array(v),_=v;_--;)b[_]=arguments[_];if(h)var y=Sm(g),M=jce(b,y);if(i&&(b=HE(b,i,r,h)),s&&(b=IE(b,s,a,h)),v-=M,h&&v<l){var C=O3(b,y);return BE(n,e,GE,g.placeholder,t,b,C,o,c,l-v)}var V=u?t:this,x=f?V[n]:n;return v=b.length,o?b=qle(b,o):p&&v>1&&b.reverse(),d&&c<v&&(b.length=c),this&&this!==br&&this instanceof g&&(x=m||F3(x)),x.apply(V,b)}};var jE="__lodash_placeholder__",c3e=Math.min;var u3e=/\s/;var p3e=/^\s+/;const g3e=function m3e(n){return n&&n.slice(0,function f3e(n){for(var e=n.length;e--&&u3e.test(n.charAt(e)););return e}(n)+1).replace(p3e,"")};var y3e=/^[-+]0x[0-9a-f]+$/i,x3e=/^0b[01]+$/i,M3e=/^0o[0-7]+$/i,C3e=parseInt;const S3e=function w3e(n){if("number"==typeof n)return n;if(function v3e(n){return"symbol"==typeof n||D1(n)&&"[object Symbol]"==kc(n)}(n))return NaN;if(Da(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=Da(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=g3e(n);var t=x3e.test(n);return t||M3e.test(n)?C3e(n.slice(2),t?2:8):y3e.test(n)?NaN:+n};const Nd=function E3e(n){return n?Infinity===(n=S3e(n))||-Infinity===n?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0},KE=function T3e(n){var e=Nd(n),t=e%1;return e==e?t?e-t:e:0};var JE=Math.max;const z3e=function V3e(n,e,t,i,r,s,a,o){var c=2&e;if(!c&&"function"!=typeof n)throw new TypeError("Expected a function");var l=i?i.length:0;if(l||(e&=-97,i=r=void 0),a=void 0===a?a:JE(KE(a),0),o=void 0===o?o:KE(o),l-=r?r.length:0,64&e){var d=i,u=r;i=r=void 0}var f=c?void 0:kE(n),h=[n,e,t,i,r,d,u,s,a,o];if(f&&function l3e(n,e){var t=n[1],i=e[1],r=t|i;if(!(r<131||128==i&&8==t||128==i&&256==t&&n[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==t))return n;1&i&&(n[2]=e[2],r|=1&t?0:4);var o=e[3];if(o){var c=n[3];n[3]=c?HE(c,o,e[4]):o,n[4]=c?O3(n[3],jE):e[4]}(o=e[5])&&(n[5]=(c=n[5])?IE(c,o,e[6]):o,n[6]=c?O3(n[5],jE):e[6]),(o=e[7])&&(n[7]=o),128&i&&(n[8]=null==n[8]?e[8]:c3e(n[8],e[8])),null==n[9]&&(n[9]=e[9]),n[0]=e[0],n[1]=r}(h,f),n=h[0],e=h[1],t=h[2],i=h[3],r=h[4],!(o=h[9]=void 0===h[9]?c?0:n.length:JE(h[9]-l,0))&&24&e&&(e&=-25),e&&1!=e)p=8==e||16==e?function t3e(n,e,t){var i=F3(n);return function r(){for(var s=arguments.length,a=Array(s),o=s,c=Sm(r);o--;)a[o]=arguments[o];var l=s<3&&a[0]!==c&&a[s-1]!==c?[]:O3(a,c);return(s-=l.length)<t?BE(n,e,WE,r.placeholder,void 0,a,l,void 0,void 0,t-s):xm(this&&this!==br&&this instanceof r?i:n,this,a)}}(n,e,o):32!=e&&33!=e||r.length?WE.apply(void 0,h):function r3e(n,e,t,i){var r=1&e,s=F3(n);return function a(){for(var o=-1,c=arguments.length,l=-1,d=i.length,u=Array(d+c),f=this&&this!==br&&this instanceof a?s:n;++l<d;)u[l]=i[l];for(;c--;)u[l++]=arguments[++o];return xm(f,r?t:this,u)}}(n,e,t,i);else var p=function Pce(n,e,t){var i=1&e,r=F3(n);return function s(){return(this&&this!==br&&this instanceof s?r:n).apply(i?t:this,arguments)}}(n,e,t);return PE((f?zE:NE)(p,h),n,e)};var Lm=function zce(n,e){return VE(function xce(n,e,t){return e=AE(void 0===e?n.length-1:e,0),function(){for(var i=arguments,r=-1,s=AE(i.length-e,0),a=Array(s);++r<s;)a[r]=i[e+r];r=-1;for(var o=Array(e+1);++r<e;)o[r]=i[r];return o[e]=t(a),xm(n,this,o)}}(n,e,ym),n+"")}(function(n,e,t){var i=1;if(t.length){var r=O3(t,Sm(Lm));i|=32}return z3e(n,i,e,t,r)});Lm.placeholder={};const eT=Lm;var OL={prefix:"fas",iconName:"pause",icon:[320,512,[9208],"f04c","M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z"]},NH={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"]};const{isArray:rLe}=Array,{getPrototypeOf:sLe,prototype:aLe,keys:oLe}=Object;function Ak(n){if(1===n.length){const e=n[0];if(rLe(e))return{args:e,keys:null};if(function cLe(n){return n&&"object"==typeof n&&sLe(n)===aLe}(e)){const t=oLe(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:lLe}=Array;function w7(n){return cn(e=>function dLe(n,e){return lLe(e)?n(...e):n(e)}(n,e))}function Lk(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let Vk=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(D(qa),D(ot))},n.\u0275dir=ce({type:n}),n})(),T1=(()=>{class n extends Vk{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275dir=ce({type:n,features:[xe]}),n})();const as=new de("NgValueAccessor"),hLe={provide:as,useExisting:ln(()=>eu),multi:!0},mLe=new de("CompositionEventMode");let eu=(()=>{class n extends Vk{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pLe(){const n=pa()?pa().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(D(qa),D(ot),D(mLe,8))},n.\u0275dir=ce({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&Ft("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ct([hLe]),xe]}),n})();const gLe=!1;function mo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Hk(n){return null!=n&&"number"==typeof n.length}const $i=new de("NgValidators"),go=new de("NgAsyncValidators"),_Le=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class vLe{static min(e){return function Ik(n){return e=>{if(mo(e.value)||mo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function kk(n){return e=>{if(mo(e.value)||mo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Rk(n){return mo(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Nk(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Pk(n){return mo(n.value)||_Le.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Fk(n){return e=>mo(e.value)||!Hk(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Ok(n){return e=>Hk(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Bk(n){if(!n)return tu;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(mo(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return qk(e)}static composeAsync(e){return Xk(e)}}function tu(n){return null}function Uk(n){return null!=n}function Gk(n){const e=k0(n)?zo(n):n;if(gLe&&!ly(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new ae(-1101,t)}return e}function Wk(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function jk(n,e){return e.map(t=>t(n))}function $k(n){return n.map(e=>function bLe(n){return!n.validate}(e)?e:t=>e.validate(t))}function qk(n){if(!n)return null;const e=n.filter(Uk);return 0==e.length?null:function(t){return Wk(jk(t,e))}}function S7(n){return null!=n?qk($k(n)):null}function Xk(n){if(!n)return null;const e=n.filter(Uk);return 0==e.length?null:function(t){return function uLe(...n){const e=a_(n),{args:t,keys:i}=Ak(n),r=new st(s=>{const{length:a}=t;if(!a)return void s.complete();const o=new Array(a);let c=a,l=a;for(let d=0;d<a;d++){let u=!1;pr(t[d]).subscribe(Mt(s,f=>{u||(u=!0,l--),o[d]=f},()=>c--,void 0,()=>{(!c||!u)&&(l||s.next(i?Lk(i,o):o),s.complete())}))}});return e?r.pipe(w7(e)):r}(jk(t,e).map(Gk)).pipe(cn(Wk))}}function D7(n){return null!=n?Xk($k(n)):null}function Yk(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Kk(n){return n._rawValidators}function Zk(n){return n._rawAsyncValidators}function E7(n){return n?Array.isArray(n)?n:[n]:[]}function nu(n,e){return Array.isArray(n)?n.includes(e):n===e}function Qk(n,e){const t=E7(e);return E7(n).forEach(r=>{nu(t,r)||t.push(r)}),t}function Jk(n,e){return E7(e).filter(t=>!nu(n,t))}class eR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=S7(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=D7(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ur extends eR{get formDirective(){return null}get path(){return null}}class Ea extends eR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tR{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let nR=(()=>{class n extends tR{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(D(Ea,2))},n.\u0275dir=ce({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&dn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[xe]}),n})();function iR(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const L7=!1,q3="VALID",ru="INVALID",Oc="PENDING",X3="DISABLED";function V7(n){return(su(n)?n.validators:n)||null}function z7(n,e){return(su(e)?e.asyncValidators:n)||null}function su(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class aR{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===q3}get invalid(){return this.status===ru}get pending(){return this.status==Oc}get disabled(){return this.status===X3}get enabled(){return this.status!==X3}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Qk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Jk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Jk(e,this._rawAsyncValidators))}hasValidator(e){return nu(this._rawValidators,e)}hasAsyncValidator(e){return nu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Oc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=X3,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=q3,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===q3||this.status===Oc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?X3:q3}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Oc,this._hasOwnPendingAsyncValidator=!0;const t=Gk(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Rt,this.statusChanges=new Rt}_calculateStatus(){return this._allControlsDisabled()?X3:this.errors?ru:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oc)?Oc:this._anyControlsHaveStatus(ru)?ru:q3}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){su(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function ELe(n){return Array.isArray(n)?S7(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function TLe(n){return Array.isArray(n)?D7(n):n||null}(this._rawAsyncValidators)}}class H7 extends aR{constructor(e,t,i){super(V7(t),z7(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function sR(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new ae(1002,L7?function DLe(n,e){return`Must supply a value for form control ${iR(n,e)}`}(e,r):"")})})(this,!0,e),Object.keys(e).forEach(i=>{(function rR(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new ae(1e3,L7?function wLe(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new ae(1001,L7?function SLe(n,e){return`Cannot find form control ${iR(n,e)}`}(e,t):"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const A1=new de("CallSetDisabledState",{providedIn:"root",factory:()=>Y3}),Y3="always";function K3(n,e,t=Y3){I7(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function VLe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&oR(n,e)})}(n,e),function HLe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function zLe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&oR(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function LLe(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ou(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),lu(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function cu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function I7(n,e){const t=Kk(n);null!==e.validator?n.setValidators(Yk(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Zk(n);null!==e.asyncValidator?n.setAsyncValidators(Yk(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();cu(e._rawValidators,r),cu(e._rawAsyncValidators,r)}function lu(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Kk(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=Zk(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return cu(e._rawValidators,i),cu(e._rawAsyncValidators,i),t}function oR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function cR(n,e){I7(n,e)}function lR(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const PLe={provide:ur,useExisting:ln(()=>du)},Z3=(()=>Promise.resolve())();let du=(()=>{class n extends ur{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Rt,this.form=new H7({},S7(t),D7(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Z3.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),K3(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Z3.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Z3.then(()=>{const i=this._findContainer(t.path),r=new H7({});cR(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Z3.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Z3.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,lR(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(D($i,10),D(go,10),D(A1,8))},n.\u0275dir=ce({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&Ft("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ct([PLe]),xe]}),n})();function dR(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function uR(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const fR=class extends aR{constructor(e=null,t,i){super(V7(t),z7(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),su(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=uR(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){uR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},BLe={provide:Ea,useExisting:ln(()=>P7)},mR=(()=>Promise.resolve())();let P7=(()=>{class n extends Ea{constructor(t,i,r,s,a,o){super(),this._changeDetectorRef=a,this.callSetDisabledState=o,this.control=new fR,this._registered=!1,this.update=new Rt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function N7(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===eu?t=s:function RLe(n){return Object.getPrototypeOf(n.constructor)===T1}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function R7(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){K3(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){mR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&function Z8(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(i);mR.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function au(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(D(ur,9),D($i,10),D(go,10),D(as,10),D(Bi,8),D(A1,8))},n.\u0275dir=ce({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ct([BLe]),xe,zi]}),n})(),_R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({}),n})();const F7=new de("NgModelWithFormControlWarning"),XLe={provide:ur,useExisting:ln(()=>uu)};let uu=(()=>{class n extends ur{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Rt,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return K3(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){ou(t.control||null,t,!1),function NLe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,lR(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(ou(i||null,t),(n=>n instanceof fR)(r)&&(K3(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);cR(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function ILe(n,e){return lu(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){I7(this.form,this),this._oldForm&&lu(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(D($i,10),D(go,10),D(A1,8))},n.\u0275dir=ce({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&Ft("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ct([XLe]),xe,zi]}),n})();const QLe={provide:as,useExisting:ln(()=>fu),multi:!0};function CR(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let fu=(()=>{class n extends T1{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=CR(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function JLe(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275dir=ce({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){1&t&&Ft("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ct([QLe]),xe]}),n})(),wR=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(CR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(qa),D(fu,9))},n.\u0275dir=ce({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const eVe={provide:as,useExisting:ln(()=>U7),multi:!0};function SR(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let W7,U7=(()=>{class n extends T1{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(r.indexOf(a.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const a=s;for(let o=0;o<a.length;o++){const l=this._getOptionValue(a[o].value);r.push(l)}}else{const a=i.options;for(let o=0;o<a.length;o++){const c=a[o];if(c.selected){const l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function tVe(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275dir=ce({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){1&t&&Ft("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ct([eVe]),xe]}),n})(),DR=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(SR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(SR(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(qa),D(U7,9))},n.\u0275dir=ce({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),RR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({imports:[_R]}),n})(),uVe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:A1,useValue:t.callSetDisabledState??Y3}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({imports:[RR]}),n})(),fVe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:F7,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:A1,useValue:t.callSetDisabledState??Y3}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({imports:[RR]}),n})();try{W7=typeof Intl<"u"&&Intl.v8BreakIterator}catch{W7=!1}let Bc,ni=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function CK(n){return n===pC}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!W7)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(Y(q0))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NR=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function PR(){if(Bc)return Bc;if("object"!=typeof document||!document)return Bc=new Set(NR),Bc;let n=document.createElement("input");return Bc=new Set(NR.filter(e=>(n.setAttribute("type",e),n.type===e))),Bc}let Q3,hu,V1,j7;function Uc(n){return function hVe(){if(null==Q3&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Q3=!0}))}finally{Q3=Q3||!1}return Q3}()?n:!!n.capture}function FR(){if(null==V1){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return V1=!1,V1;if("scrollBehavior"in document.documentElement.style)V1=!0;else{const n=Element.prototype.scrollTo;V1=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return V1}function J3(){if("object"!=typeof document||!document)return 0;if(null==hu){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),hu=0,0===n.scrollLeft&&(n.scrollLeft=1,hu=0===n.scrollLeft?1:2),n.remove()}return hu}function $7(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function _o(n){return n.composedPath?n.composedPath()[0]:n.target}function q7(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class OR extends Ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function z1(...n){return zo(n,ol(n))}function pu(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class NVe extends on{constructor(e,t){super()}schedule(e,t=0){return this}}const mu={setInterval(n,e,...t){const{delegate:i}=mu;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=mu;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class X7 extends NVe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return mu.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&mu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,bn(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const UR={now:()=>(UR.delegate||Date).now(),delegate:void 0};class e4{constructor(e,t=e4.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}e4.now=UR.now;class Y7 extends e4{constructor(e,t=e4.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const K7=new Y7(X7),PVe=K7;function Z7(n,e=K7){return Kt((t,i)=>{let r=null,s=null,a=null;const o=()=>{if(r){r.unsubscribe(),r=null;const l=s;s=null,i.next(l)}};function c(){const l=a+n,d=e.now();if(d<l)return r=this.schedule(void 0,l-d),void i.add(r);o()}t.subscribe(Mt(i,l=>{s=l,a=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{o(),i.complete()},void 0,()=>{s=r=null}))})}function Ta(n,e){return Kt((t,i)=>{let r=0;t.subscribe(Mt(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Ys(n){return n<=0?()=>al:Kt((e,t)=>{let i=0;e.subscribe(Mt(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Q7(n){return Ta((e,t)=>n<=t)}function GR(n,e=rt){return n=n??FVe,Kt((t,i)=>{let r,s=!0;t.subscribe(Mt(i,a=>{const o=e(a);(s||!n(r,o))&&(s=!1,r=o,i.next(a))}))})}function FVe(n,e){return n===e}function Ti(n){return Kt((e,t)=>{pr(n).subscribe(Mt(t,()=>t.complete(),Ua)),!t.closed&&e.subscribe(t)})}function Vn(n){return null!=n&&"false"!=`${n}`}function fi(n,e=0){return function OVe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function gu(n){return Array.isArray(n)?n:[n]}function hi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Aa(n){return n instanceof ot?n.nativeElement:n}let WR=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BVe=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Aa(t);return new st(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Ye,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(Y(WR))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jR=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=Vn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=fi(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new Rt,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Z7(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(D(BVe),D(ot),D(it))},n.\u0275dir=ce({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),J7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({providers:[WR]}),n})();function $R(n,e,t){n?ia(t,n,e):e()}function e9(...n){return function WVe(){return r_(1)}()(zo(n,ol(n)))}function H1(...n){const e=ol(n);return Kt((t,i)=>{(e?e9(n,t,e):e9(n,t)).subscribe(i)})}const qR=new Set;let Gc,jVe=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):qVe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function $Ve(n){if(!qR.has(n))try{Gc||(Gc=document.createElement("style"),Gc.setAttribute("type","text/css"),document.head.appendChild(Gc)),Gc.sheet&&(Gc.sheet.insertRule(`@media ${n} {body{ }}`,0),qR.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(Y(ni))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qVe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let XVe=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Ye}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return XR(gu(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=function UVe(...n){const e=ol(n),t=a_(n),{args:i,keys:r}=Ak(n);if(0===i.length)return zo([],e);const s=new st(function GVe(n,e,t=rt){return i=>{$R(e,()=>{const{length:r}=n,s=new Array(r);let a=r,o=r;for(let c=0;c<r;c++)$R(e,()=>{const l=zo(n[c],e);let d=!1;l.subscribe(Mt(i,u=>{s[c]=u,d||(d=!0,o--),o||i.next(t(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,e,r?a=>Lk(r,a):rt));return t?s.pipe(w7(t)):s}(XR(gu(t)).map(a=>this._registerQuery(a).observable));return s=e9(s.pipe(Ys(1)),s.pipe(Q7(1),Z7(0))),s.pipe(cn(a=>{const o={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:l})=>{o.matches=o.matches||c,o.breakpoints[l]=c}),o}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new st(a=>{const o=c=>this._zone.run(()=>a.next(c));return i.addListener(o),()=>{i.removeListener(o)}}).pipe(H1(i),cn(({matches:a})=>({query:t,matches:a})),Ti(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(Y(jVe),Y(it))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XR(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class ZVe{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ye,this._typeaheadSubscription=on.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Ye,this.change=new Ye,e instanceof U2&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(function RVe(n,e,t){const i=It(n)||e||t?{next:n,error:e,complete:t}:n;return i?Kt((r,s)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let o=!0;r.subscribe(Mt(s,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),s.next(c)},()=>{var c;o=!1,null===(c=i.complete)||void 0===c||c.call(i),s.complete()},c=>{var l;o=!1,null===(l=i.error)||void 0===l||l.call(i,c),s.error(c)},()=>{var c,l;o&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):rt}(t=>this._pressedLetters.push(t)),Z7(e),Ta(()=>this._pressedLetters.length>0),cn(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,a=i[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(s<a?s:a-1,-1);break}return;default:return void((r||pu(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof U2?this._items.toArray():this._items}}class QVe extends ZVe{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let _u=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function eze(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function JVe(n){try{return n.frameElement}catch{return null}}(function cze(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===QR(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=QR(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function aze(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function oze(n){return!function nze(n){return function rze(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function tze(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function ize(n){return function sze(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||ZR(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(Y(ni))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZR(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function QR(n){if(!ZR(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class lze{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Ys(1)).subscribe(e)}}let t9=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new lze(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(Y(_u),Y(it),Y(At))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JR(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function eN(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const dze=new de("cdk-input-modality-detector-options"),uze={ignoreKeys:[18,17,224,91,16]},Wc=Uc({passive:!0,capture:!0});let fze=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new OR(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(o=>o===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=_o(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(JR(a)?"keyboard":"mouse"),this._mostRecentTarget=_o(a))},this._onTouchstart=a=>{eN(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=_o(a))},this._options={...uze,...s},this.modalityDetected=this._modality.pipe(Q7(1)),this.modalityChanged=this.modalityDetected.pipe(GR()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Wc),r.addEventListener("mousedown",this._onMousedown,Wc),r.addEventListener("touchstart",this._onTouchstart,Wc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Wc),document.removeEventListener("mousedown",this._onMousedown,Wc),document.removeEventListener("touchstart",this._onTouchstart,Wc))}}return n.\u0275fac=function(t){return new(t||n)(Y(ni),Y(it),Y(At),Y(dze,8))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pze=new de("cdk-focus-monitor-default-options"),vu=Uc({passive:!0,capture:!0});let t4=(()=>{class n{constructor(t,i,r,s,a){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ye,this._rootNodeFocusAndBlurListener=o=>{for(let l=_o(o);l;l=l.parentElement)"focus"===o.type?this._onFocus(o,l):this._onBlur(o,l)},this._document=s,this._detectionMode=a?.detectionMode||0}monitor(t,i=!1){const r=Aa(t);if(!this._platform.isBrowser||1!==r.nodeType)return z1(null);const s=function mVe(n){if(function pVe(){if(null==j7){const n=typeof document<"u"?document.head:null;j7=!(!n||!n.createShadowRoot&&!n.attachShadow)}return j7}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const o={checkChildren:i,subject:new Ye,rootNode:s};return this._elementInfo.set(r,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const i=Aa(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Aa(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([o,c])=>this._originChanged(o,i,c)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=_o(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,vu),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,vu)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ti(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,vu),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,vu),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let a=0;a<s.length;a++)if(s[a].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(Y(it),Y(ni),Y(fze),Y(At,8),Y(pze,8))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mze=(()=>{class n{constructor(t,i){this._elementRef=t,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new Rt}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(t4))},n.\u0275dir=ce({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const nN="cdk-high-contrast-black-on-white",iN="cdk-high-contrast-white-on-black",n9="cdk-high-contrast-active";let rN=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=Sr(XVe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(n9,nN,iN),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(n9,nN):2===i&&t.add(n9,iN)}}}return n.\u0275fac=function(t){return new(t||n)(Y(ni),Y(At))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sN=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(Y(rN))},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({imports:[J7]}),n})();const gze=new de("cdk-dir-doc",{providedIn:"root",factory:function _ze(){return Sr(At)}}),vze=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let yr=(()=>{class n{constructor(t){this.value="ltr",this.change=new Rt,t&&(this.value=function bze(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?vze.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(Y(gze,8))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({}),n})();const xze=new de("mat-sanity-checks",{providedIn:"root",factory:function yze(){return!0}});let pi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!q7()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(Y(rN),Y(xze,8),Y(At))},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({imports:[n4,n4]}),n})();function i9(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Vn(e)}constructor(...e){super(...e),this._disabled=!1}}}function bu(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function r9(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Vn(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function Mze(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let wze=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Sze{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const cN=Uc({passive:!0,capture:!0});class Dze{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=_o(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const a=s.get(i);a?a.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,cN)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,cN)))}}const lN={enterDuration:225,exitDuration:150},dN=Uc({passive:!0,capture:!0}),uN=["mousedown","touchstart"],fN=["mouseup","mouseleave","touchend","touchcancel"];class s4{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Aa(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...lN,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const a=i.radius||function Tze(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),o=e-r.left,c=t-r.top,l=s.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=o-a+"px",d.style.top=c-a+"px",d.style.height=2*a+"px",d.style.width=2*a+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);const u=window.getComputedStyle(d),h=u.transitionDuration,p="none"===u.transitionProperty||"0s"===h||"0s, 0s"===h||0===r.width&&0===r.height,m=new Sze(this,d,i,p);d.style.transform="scale3d(1, 1, 1)",m.state=0,i.persistent||(this._mostRecentTransientRipple=m);let g=null;return!p&&(l||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const v=()=>this._finishRippleTransition(m),b=()=>this._destroyRipple(m);d.addEventListener("transitionend",v),d.addEventListener("transitioncancel",b),g={onTransitionEnd:v,onTransitionCancel:b}}),this._activeRipples.set(m,g),(p||!l)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...lN,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Aa(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,uN.forEach(i=>{s4._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{fN.forEach(t=>{this._triggerElement.addEventListener(t,this,dN)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=JR(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!eN(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(uN.forEach(t=>s4._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&fN.forEach(t=>e.removeEventListener(t,this,dN)))}}s4._eventManager=new Dze;const hN=new de("mat-ripple-global-options");let jc=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,a){this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new s4(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(it),D(ni),D(hN,8),D(sr,8))},n.\u0275dir=ce({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&dn("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),yu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({imports:[pi,pi]}),n})(),Aze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({imports:[pi]}),n})(),pN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({imports:[yu,Yo,pi,Aze]}),n})();const Lze=["mat-button",""],Vze=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],zze=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Hze=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Ize=bu(i9(r9(class{constructor(n){this._elementRef=n}})));let kze=(()=>{class n extends Ize{constructor(t,i,r,s){super(t),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=Sr(t4),this._isFab=!1;const a=t.nativeElement.classList;for(const o of Hze)this._hasHostAttributes(o.selector)&&o.mdcClasses.forEach(c=>{a.add(c)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){Kh()},n.\u0275dir=ce({type:n,viewQuery:function(t,i){if(1&t&&Gt(jc,5),2&t){let r;Je(r=et())&&(i.ripple=r.first)}},features:[xe]}),n})(),s9=(()=>{class n extends kze{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(ni),D(it),D(sr,8))},n.\u0275cmp=en({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(En("disabled",i.disabled||null),dn("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[xe],attrs:Lze,ngContentSelectors:zze,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(gs(Vze),Tt(0,"span",0),On(1),ve(2,"span",1),On(3,1),Se(),On(4,2),Tt(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(dn("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),Ae(6),Ve("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[jc],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Pze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({imports:[pi,yu,pi]}),n})();class mN{}class Fze{}const La="*";function a4(n,e){return{type:7,name:n,definitions:e,options:{}}}function vo(n,e=null){return{type:4,styles:e,timings:n}}function _N(n,e=null){return{type:2,steps:n,options:e}}function qi(n){return{type:6,styles:n,offset:null}}function I1(n,e,t){return{type:0,name:n,styles:e,options:t}}function Va(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function vN(n){Promise.resolve().then(n)}class o4{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){vN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class bN{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?vN(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,o)=>Math.max(a,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const c9="!",Oze=["matFormFieldNotchedOutline",""],Bze=["*"],Uze=["textField"],Gze=["iconPrefixContainer"],Wze=["textPrefixContainer"];function jze(n,e){1&n&&Tt(0,"span",19)}function $ze(n,e){if(1&n){const t=Ya();ve(0,"label",17),Ft("cdkObserveContent",function(){return Is(t),ks(tn(2)._refreshOutlineNotchWidth())}),On(1,1),Ue(2,jze,1,0,"span",18),Se()}if(2&n){const t=tn(2);Ve("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),En("for",t._control.id)("aria-owns",t._control.id),Ae(2),Ve("ngIf",!t.hideRequiredMarker&&t._control.required)}}function qze(n,e){1&n&&Ue(0,$ze,3,6,"label",16),2&n&&Ve("ngIf",tn()._hasFloatingLabel())}function Xze(n,e){1&n&&Tt(0,"div",20)}function Yze(n,e){}function Kze(n,e){1&n&&Ue(0,Yze,0,0,"ng-template",22),2&n&&(tn(2),Ve("ngTemplateOutlet",Xa(1)))}function Zze(n,e){if(1&n&&(ve(0,"div",21),Ue(1,Kze,1,1,"ng-template",9),Se()),2&n){const t=tn();Ve("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),Ae(1),Ve("ngIf",!t._forceDisplayInfixLabel())}}function Qze(n,e){1&n&&(ve(0,"div",23,24),On(2,2),Se())}function Jze(n,e){1&n&&(ve(0,"div",25,26),On(2,3),Se())}function eHe(n,e){}function tHe(n,e){1&n&&Ue(0,eHe,0,0,"ng-template",22),2&n&&(tn(),Ve("ngTemplateOutlet",Xa(1)))}function nHe(n,e){1&n&&(ve(0,"div",27),On(1,4),Se())}function iHe(n,e){1&n&&(ve(0,"div",28),On(1,5),Se())}function rHe(n,e){1&n&&Tt(0,"div",29)}function sHe(n,e){1&n&&(ve(0,"div",30),On(1,6),Se()),2&n&&Ve("@transitionMessages",tn()._subscriptAnimationState)}function aHe(n,e){if(1&n&&(ve(0,"mat-hint",34),nn(1),Se()),2&n){const t=tn(2);Ve("id",t._hintLabelId),Ae(1),Za(t.hintLabel)}}function oHe(n,e){if(1&n&&(ve(0,"div",31),Ue(1,aHe,2,2,"mat-hint",32),On(2,7),Tt(3,"div",33),On(4,8),Se()),2&n){const t=tn();Ve("@transitionMessages",t._subscriptAnimationState),Ae(1),Ve("ngIf",t.hintLabel)}}const cHe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],lHe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let l9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ce({type:n,selectors:[["mat-label"]]}),n})();const dHe=new de("MatError");let uHe=0,yN=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+uHe++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ce({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(P2("id",i.id),En("align",null),dn("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const fHe=new de("MatPrefix"),hHe=new de("MatSuffix");let xN=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function pHe(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(D(ot))},n.\u0275dir=ce({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&dn("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const MN="mdc-line-ripple--active",xu="mdc-line-ripple--deactivating";let CN=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,a=s.contains(xu);"opacity"===r.propertyName&&a&&s.remove(MN,xu)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(xu),t.add(MN)}deactivate(){this._elementRef.nativeElement.classList.add(xu)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(it))},n.\u0275dir=ce({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),wN=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(it))},n.\u0275cmp=en({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&dn("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Oze,ngContentSelectors:Bze,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(gs(),Tt(0,"div",0),ve(1,"div",1),On(2),Se(),Tt(3,"div",2)),2&t&&(Ae(1),es("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const mHe={transitionMessages:a4("transitionMessages",[I1("enter",qi({opacity:1,transform:"translateY(0%)"})),Va("void => enter",[qi({opacity:0,transform:"translateY(-5px)"}),vo("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let SN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ce({type:n}),n})();const DN=new de("MatFormField"),gHe=new de("MAT_FORM_FIELD_DEFAULT_OPTIONS");let EN=0,bHe=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Vn(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,s,a,o,c,l){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=a,this._defaults=o,this._animationMode=c,this._document=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+EN++,this._hintLabelId="mat-mdc-hint-"+EN++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Ye,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,o&&(o.appearance&&(this.appearance=o.appearance),this._hideRequiredMarker=Boolean(o?.hideRequiredMarker),o.color&&(this.color=o.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Ti(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Ho(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ti(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Ti(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,a=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+a}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(Bi),D(it),D(yr),D(ni),D(gHe,8),D(sr,8),D(At))},n.\u0275cmp=en({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(Xn(r,l9,5),Xn(r,l9,7),Xn(r,SN,5),Xn(r,fHe,5),Xn(r,hHe,5),Xn(r,dHe,5),Xn(r,yN,5)),2&t){let s;Je(s=et())&&(i._labelChildNonStatic=s.first),Je(s=et())&&(i._labelChildStatic=s.first),Je(s=et())&&(i._formFieldControl=s.first),Je(s=et())&&(i._prefixChildren=s),Je(s=et())&&(i._suffixChildren=s),Je(s=et())&&(i._errorChildren=s),Je(s=et())&&(i._hintChildren=s)}},viewQuery:function(t,i){if(1&t&&(Gt(Uze,5),Gt(Gze,5),Gt(Wze,5),Gt(xN,5),Gt(wN,5),Gt(CN,5)),2&t){let r;Je(r=et())&&(i._textField=r.first),Je(r=et())&&(i._iconPrefixContainer=r.first),Je(r=et())&&(i._textPrefixContainer=r.first),Je(r=et())&&(i._floatingLabel=r.first),Je(r=et())&&(i._notchedOutline=r.first),Je(r=et())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&dn("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[ct([{provide:DN,useExisting:n}])],ngContentSelectors:lHe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(gs(cHe),Ue(0,qze,1,1,"ng-template",null,0,G0),ve(2,"div",1,2),Ft("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),Ue(4,Xze,1,0,"div",3),ve(5,"div",4),Ue(6,Zze,2,3,"div",5),Ue(7,Qze,3,0,"div",6),Ue(8,Jze,3,0,"div",7),ve(9,"div",8),Ue(10,tHe,1,1,"ng-template",9),On(11),Se(),Ue(12,nHe,2,0,"div",10),Ue(13,iHe,2,0,"div",11),Se(),Ue(14,rHe,1,0,"div",12),Se(),ve(15,"div",13),Ue(16,sHe,2,1,"div",14),Ue(17,oHe,5,2,"div",15),Se()),2&t&&(Ae(2),dn("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),Ae(2),Ve("ngIf",!i._hasOutline()&&!i._control.disabled),Ae(2),Ve("ngIf",i._hasOutline()),Ae(1),Ve("ngIf",i._hasIconPrefix),Ae(1),Ve("ngIf",i._hasTextPrefix),Ae(2),Ve("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),Ae(2),Ve("ngIf",i._hasTextSuffix),Ae(1),Ve("ngIf",i._hasIconSuffix),Ae(1),Ve("ngIf",!i._hasOutline()),Ae(1),dn("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),Ve("ngSwitch",i._getDisplayedMessages()),Ae(1),Ve("ngSwitchCase","error"),Ae(1),Ve("ngSwitchCase","hint"))},dependencies:[j2,p5,o6,uC,jR,yN,xN,wN,CN],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[mHe.transitionMessages]},changeDetection:0}),n})(),d9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({imports:[pi,Yo,J7,pi]}),n})();const LN=Uc({passive:!0});let yHe=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return al;const i=Aa(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Ye,a="cdk-text-field-autofilled",o=c=>{"cdk-text-field-autofill-start"!==c.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===c.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",o,LN),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",o,LN)}}),s}stopMonitoring(t){const i=Aa(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(Y(ni),Y(it))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xHe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({}),n})();const MHe=new de("MAT_INPUT_VALUE_ACCESSOR"),CHe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let wHe=0;const SHe=Mze(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Ye}});let DHe=(()=>{class n extends SHe{get disabled(){return this._disabled}set disabled(t){this._disabled=Vn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(vLe.required)??!1}set required(t){this._required=Vn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&PR().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Vn(t)}constructor(t,i,r,s,a,o,c,l,d,u){super(o,s,a,r),this._elementRef=t,this._platform=i,this._autofillMonitor=l,this._formField=u,this._uid="mat-input-"+wHe++,this.focused=!1,this.stateChanges=new Ye,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>PR().has(p)),this._iOSKeyupListener=p=>{const m=p.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))};const f=this._elementRef.nativeElement,h=f.nodeName.toLowerCase();this._inputValueAccessor=c||f,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&d.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isInFormField=!!u,this._isNativeSelect&&(this.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){CHe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(ni),D(Ea,10),D(du,8),D(uu,8),D(wze),D(MHe,10),D(yHe),D(it),D(DN,8))},n.\u0275dir=ce({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&Ft("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(P2("id",i.id)("disabled",i.disabled)("required",i.required),En("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),dn("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[ct([{provide:SN,useExisting:n}]),xe,zi]}),n})(),EHe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({imports:[pi,d9,d9,xHe,pi]}),n})();const THe=["knob"],AHe=["valueIndicatorContainer"];function LHe(n,e){if(1&n&&(ve(0,"div",4,5)(2,"div",6)(3,"span",7),nn(4),Se()()()),2&n){const t=tn();Ae(4),Za(t.valueIndicatorText)}}const VHe=["trackActive"];function zHe(n,e){if(1&n&&Tt(0,"div"),2&n){const t=e.$implicit,i=e.index,r=tn(3);Ly(0===t?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),es("transform",r._calcTickMarkTransform(i))}}function HHe(n,e){if(1&n&&(tr(0),Ue(1,zHe,1,4,"div",11),nr()),2&n){const t=tn(2);Ae(1),Ve("ngForOf",t._tickMarks)}}function IHe(n,e){if(1&n&&(ve(0,"div",8,9),Ue(2,HHe,2,1,"ng-container",10),Se()),2&n){const t=tn();Ae(2),Ve("ngIf",t._cachedWidth)}}function kHe(n,e){if(1&n&&Tt(0,"mat-slider-visual-thumb",7),2&n){const t=tn();Ve("discrete",t.discrete)("thumbPosition",1)("valueIndicatorText",t.startValueIndicatorText)}}const RHe=["*"],Mu=new de("_MatSlider"),VN=new de("_MatSliderThumb"),zN=new de("_MatSliderRangeThumb"),HN=new de("_MatSliderVisualThumb");let NHe=(()=>{class n{constructor(t,i,r,s){this._cdr=t,this._ngZone=i,this._slider=s,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=a=>{if(this._sliderInput._isFocused)return;const o=this._hostElement.getBoundingClientRect(),c=this._isSliderThumbHovered(a,o);this._isHovered=c,c?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=()=>{this._isActive=!0,this._showActiveRipple()},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef)},this._hostElement=r.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const t=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{t.addEventListener("pointermove",this._onPointerMove),t.addEventListener("pointerdown",this._onDragStart),t.addEventListener("pointerup",this._onDragEnd),t.addEventListener("pointerleave",this._onMouseLeave),t.addEventListener("focus",this._onFocus),t.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const t=this._sliderInputEl;t.removeEventListener("pointermove",this._onPointerMove),t.removeEventListener("pointerdown",this._onDragStart),t.removeEventListener("pointerup",this._onDragEnd),t.removeEventListener("pointerleave",this._onMouseLeave),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(t){return 0===t?.state||1===t?.state}_showRipple(t,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||i))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})}_hideRipple(t){if(t?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}_isSliderThumbHovered(t,i){const r=i.width/2,c=t.clientY-(i.y+r);return Math.pow(t.clientX-(i.x+r),2)+Math.pow(c,2)<Math.pow(r,2)}}return n.\u0275fac=function(t){return new(t||n)(D(Bi),D(it),D(ot),D(Mu))},n.\u0275cmp=en({type:n,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(t,i){if(1&t&&(Gt(jc,5),Gt(THe,5),Gt(AHe,5)),2&t){let r;Je(r=et())&&(i._ripple=r.first),Je(r=et())&&(i._knob=r.first),Je(r=et())&&(i._valueIndicatorContainer=r.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[ct([{provide:HN,useExisting:n}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(t,i){1&t&&(Ue(0,LHe,5,1,"div",0),Tt(1,"div",1,2)(3,"div",3)),2&t&&(Ve("ngIf",i.discrete),Ae(3),Ve("matRippleDisabled",!0))},dependencies:[j2,jc],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0}),n})();const PHe=bu(r9(class{constructor(n){this._elementRef=n}}),"primary");let FHe=(()=>{class n extends PHe{get disabled(){return this._disabled}set disabled(t){this._disabled=Vn(t);const i=this._getInput(2),r=this._getInput(1);i&&(i.disabled=this._disabled),r&&(r.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(t){this._discrete=Vn(t),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(t){this._showTickMarks=Vn(t)}get min(){return this._min}set min(t){const i=fi(t,this._min);this._min!==i&&this._updateMin(i)}_updateMin(t){const i=this._min;this._min=t,this._isRange?this._updateMinRange({old:i,new:t}):this._updateMinNonRange(t),this._onMinMaxOrStepChange()}_updateMinRange(t){const i=this._getInput(2),r=this._getInput(1),s=i.value,a=r.value;r.min=t.new,i.min=Math.max(t.new,r.value),r.max=Math.min(i.max,i.value),r._updateWidthInactive(),i._updateWidthInactive(),t.new<t.old?this._onTranslateXChangeBySideEffect(i,r):this._onTranslateXChangeBySideEffect(r,i),s!==i.value&&this._onValueChange(i),a!==r.value&&this._onValueChange(r)}_updateMinNonRange(t){const i=this._getInput(2);if(i){const r=i.value;i.min=t,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(t){const i=fi(t,this._max);this._max!==i&&this._updateMax(i)}_updateMax(t){const i=this._max;this._max=t,this._isRange?this._updateMaxRange({old:i,new:t}):this._updateMaxNonRange(t),this._onMinMaxOrStepChange()}_updateMaxRange(t){const i=this._getInput(2),r=this._getInput(1),s=i.value,a=r.value;i.max=t.new,r.max=Math.min(t.new,i.value),i.min=r.value,i._updateWidthInactive(),r._updateWidthInactive(),t.new>t.old?this._onTranslateXChangeBySideEffect(r,i):this._onTranslateXChangeBySideEffect(i,r),s!==i.value&&this._onValueChange(i),a!==r.value&&this._onValueChange(r)}_updateMaxNonRange(t){const i=this._getInput(2);if(i){const r=i.value;i.max=t,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(t){const i=fi(t,this._step);this._step!==i&&this._updateStep(i)}_updateStep(t){this._step=t,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const t=this._getInput(2),i=this._getInput(1),r=t.value,s=i.value,a=i.value;t.min=this._min,i.max=this._max,t.step=this._step,i.step=this._step,this._platform.SAFARI&&(t.value=t.value,i.value=i.value),t.min=Math.max(this._min,i.value),i.max=Math.min(this._max,t.value),i._updateWidthInactive(),t._updateWidthInactive(),t.value<a?this._onTranslateXChangeBySideEffect(i,t):this._onTranslateXChangeBySideEffect(t,i),r!==t.value&&this._onValueChange(t),s!==i.value&&this._onValueChange(i)}_updateStepNonRange(){const t=this._getInput(2);if(t){const i=t.value;t.step=this._step,this._platform.SAFARI&&(t.value=t.value),t._updateThumbUIByValue(),i!==t.value&&this._onValueChange(t)}}constructor(t,i,r,s,a,o,c){super(s),this._ngZone=t,this._cdr=i,this._platform=r,this._dir=a,this._globalRippleOptions=o,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=0,this.displayWith=l=>`${l}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===c,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const t=this._getInput(2),i=this._getInput(1);this._isRange=!!t&&!!i,this._cdr.detectChanges();const r=this._getThumb(2);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(t,i):this._initUINonRange(t),this._updateTrackUI(t),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(t){t.initProps(),t.initUI(),this._updateValueIndicatorUI(t),this._hasViewInitialized=!0,t._updateThumbUIByValue()}_initUIRange(t,i){t.initProps(),t.initUI(),i.initProps(),i.initUI(),t._updateMinMax(),i._updateMinMax(),t._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,t._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const t=this._getInput(2),i=this._getInput(1);t._setIsLeftThumb(),i._setIsLeftThumb(),t.translateX=t._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateWidthInactive(),i._updateWidthInactive(),t._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(t=2){const i=this._getInput(t);return i?i.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(t){const i=this._trackActive.nativeElement.style,r=t.left!==i.left&&t.right!==i.right;i.left=t.left,i.right=t.right,i.transformOrigin=t.transformOrigin,r?(this._elementRef.nativeElement.classList.add("mat-mdc-slider-disable-track-animation"),this._ngZone.onStable.pipe(Ys(1)).subscribe(()=>{this._elementRef.nativeElement.classList.remove("mat-mdc-slider-disable-track-animation"),i.transform=t.transform})):i.transform=t.transform}_calcTickMarkTransform(t){return`translateX(${t*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(t){this._hasViewInitialized&&(this._updateThumbUI(t),this._updateTrackUI(t),this._updateOverlappingThumbUI(t))}_onTranslateXChangeBySideEffect(t,i){this._hasViewInitialized&&(t._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(t){this._hasViewInitialized&&(this._updateValueIndicatorUI(t),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const t=this._getInput(2),i=this._getInput(1);t._updateThumbUIByValue(),i._updateThumbUIByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateMinMax(),i._updateMinMax(),t._updateWidthInactive(),i._updateWidthInactive()}else{const t=this._getInput(2);t&&t._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const t=this._getInput(1),i=this._getInput(2);return!(!t||!i)&&i.translateX-t.translateX<20}_updateOverlappingThumbClassNames(t){const i=t.getSibling(),r=this._getThumb(t.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(t){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(t))}_updateThumbUI(t){this._skipUpdate()||(this._getThumb(2===t.thumbPosition?2:1)._hostElement.style.transform=`translateX(${t.translateX}px)`)}_updateValueIndicatorUI(t){if(this._skipUpdate())return;const i=this.displayWith(t.value);if(this._hasViewInitialized?t._valuetext=i:t._hostElement.setAttribute("aria-valuetext",i),this.discrete){1===t.thumbPosition?this.startValueIndicatorText=i:this.endValueIndicatorText=i;const r=this._getThumb(t.thumbPosition);i.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const t=this._getInput(2),i=this._getInput(1);t&&this._updateValueIndicatorUI(t),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const t=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/t)*t-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*r-6}_updateTrackUI(t){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(t):this._updateTrackUINonRange(t))}_updateTrackUIRange(t){const i=t.getSibling();if(!i||!this._cachedWidth)return;const r=Math.abs(i.translateX-t.translateX)/this._cachedWidth;this._setTrackActiveStyles(t._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-i.translateX+"px",transformOrigin:"right",transform:`scaleX(${r})`}:{left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(t){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-t.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${t.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const t=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(t):this._updateTickMarkUINonRange(t),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(t){const i=this._getValue();let r=Math.max(Math.round((i-this.min)/t),0),s=Math.max(Math.round((this.max-i)/t),0);this._isRtl?r++:s++,this._tickMarks=Array(r).fill(0).concat(Array(s).fill(1))}_updateTickMarkUIRange(t){const i=this._getValue(),r=this._getValue(1),s=Math.max(Math.floor((r-this.min)/t),0),a=Math.max(Math.floor((i-r)/t)+1,0),o=Math.max(Math.floor((this.max-i)/t),0);this._tickMarks=Array(s).fill(1).concat(Array(a).fill(0),Array(o).fill(1))}_getInput(t){return 2===t&&this._input?this._input:this._inputs?.length?1===t?this._inputs.first:this._inputs.last:void 0}_getThumb(t){return 2===t?this._thumbs?.last:this._thumbs?.first}_setTransition(t){this._hasAnimation=t&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}}return n.\u0275fac=function(t){return new(t||n)(D(it),D(Bi),D(ni),D(ot),D(yr,8),D(hN,8),D(sr,8))},n.\u0275cmp=en({type:n,selectors:[["mat-slider"]],contentQueries:function(t,i,r){if(1&t&&(Xn(r,VN,5),Xn(r,zN,4)),2&t){let s;Je(s=et())&&(i._input=s.first),Je(s=et())&&(i._inputs=s)}},viewQuery:function(t,i){if(1&t&&(Gt(VHe,5),Gt(HN,5)),2&t){let r;Je(r=et())&&(i._trackActive=r.first),Je(r=et())&&(i._thumbs=r)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(t,i){2&t&&dn("mdc-slider--range",i._isRange)("mdc-slider--disabled",i.disabled)("mdc-slider--discrete",i.discrete)("mdc-slider--tick-marks",i.showTickMarks)("_mat-animation-noopable",i._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[ct([{provide:Mu,useExisting:n}]),xe],ngContentSelectors:RHe,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(gs(),On(0),ve(1,"div",0),Tt(2,"div",1),ve(3,"div",2),Tt(4,"div",3,4),Se(),Ue(6,IHe,3,1,"div",5),Se(),Ue(7,kHe,1,3,"mat-slider-visual-thumb",6),Tt(8,"mat-slider-visual-thumb",7)),2&t&&(Ae(6),Ve("ngIf",i.showTickMarks),Ae(1),Ve("ngIf",i._isRange),Ae(1),Ve("discrete",i.discrete)("thumbPosition",2)("valueIndicatorText",i.endValueIndicatorText))},dependencies:[f5,j2,NHe],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:0;margin:0;height:100%;opacity:0;pointer-events:none;position:absolute;top:0;width:100%}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 6px)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const BHe={provide:as,useExisting:ln(()=>u9),multi:!0};let u9=(()=>{class n{get value(){return fi(this._hostElement.value)}set value(t){const i=fi(t).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=i,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges()):this._initialValue=i}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(t){this._translateX=t}get min(){return fi(this._hostElement.min)}set min(t){this._hostElement.min=fi(t).toString(),this._cdr.detectChanges()}get max(){return fi(this._hostElement.max)}set max(t){this._hostElement.max=fi(t).toString(),this._cdr.detectChanges()}get step(){return fi(this._hostElement.step)}set step(t){this._hostElement.step=fi(t).toString(),this._cdr.detectChanges()}get disabled(){return Vn(this._hostElement.disabled)}set disabled(t){this._hostElement.disabled=Vn(t),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(t){this._isFocused=t}constructor(t,i,r,s){this._ngZone=t,this._elementRef=i,this._cdr=r,this._slider=s,this.valueChange=new Rt,this.dragStart=new Rt,this.dragEnd=new Rt,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new Ye,this._skipUIUpdate=!1,this._onChangeFn=()=>{},this._onTouchedFn=()=>{},this._hostElement=i.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(t){this.disabled||0!==t.button||(this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value})))}_handleValueCorrection(t){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(t)},0)}_fixValue(t){const i=t.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,s=0===this._slider.step?1:this._slider.step,a=Math.floor((this._slider.max-this._slider.min)/s),l=Math.round((this._slider._isRtl?1-i/r:i/r)*a)/a*(this._slider.max-this._slider.min)+this._slider.min,d=Math.round(l/s)*s;if(d===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation}));this.value=d,this.valueChange.emit(this.value),this._onChangeFn(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})}_onPointerMove(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)}_onPointerUp(){this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive()))}_clamp(t){return Math.max(Math.min(t,this._slider._cachedWidth),0)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth}_calcTranslateXByPointerEvent(t){return t.clientX-this._slider._cachedLeft}_updateWidthActive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding}px)`}_updateWidthInactive(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"}_updateThumbUIByValue(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)}_updateThumbUIByPointerEvent(t,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(i)}_updateThumbUI(t){this._slider._setTransition(!!t?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(t){this.value=t}registerOnChange(t){this._onChangeFn=t}registerOnTouched(t){this._onTouchedFn=t}setDisabledState(t){this.disabled=t}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}}return n.\u0275fac=function(t){return new(t||n)(D(it),D(ot),D(Bi),D(Mu))},n.\u0275dir=ce({type:n,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(t,i){1&t&&Ft("change",function(){return i._onChange()})("input",function(){return i._onInput()})("blur",function(){return i._onBlur()})("focus",function(){return i._onFocus()}),2&t&&En("aria-valuetext",i._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[ct([BHe,{provide:VN,useExisting:n}])]}),n})(),WHe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({imports:[pi,Yo,yu]}),n})();function IN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ke(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?IN(Object(t),!0).forEach(function(i){Si(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IN(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Cu(n){return(Cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function kN(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Si(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function f9(n,e){return function YHe(n){if(Array.isArray(n))return n}(n)||function ZHe(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var a,o,i=[],r=!0,s=!1;try{for(t=t.call(n);!(r=(a=t.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(c){s=!0,o=c}finally{try{!r&&null!=t.return&&t.return()}finally{if(s)throw o}}return i}}(n,e)||RN(n,e)||function JHe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l4(n){return function XHe(n){if(Array.isArray(n))return h9(n)}(n)||function KHe(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||RN(n)||function QHe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RN(n,e){if(n){if("string"==typeof n)return h9(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h9(n,e)}}function h9(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var NN=function(){},p9={},PN={},FN=null,ON={mark:NN,measure:NN};try{typeof window<"u"&&(p9=window),typeof document<"u"&&(PN=document),typeof MutationObserver<"u"&&(FN=MutationObserver),typeof performance<"u"&&(ON=performance)}catch{}var Du,Eu,Tu,Au,Lu,BN=(p9.navigator||{}).userAgent,UN=void 0===BN?"":BN,bo=p9,zn=PN,GN=FN,Su=ON,za=!!zn.documentElement&&!!zn.head&&"function"==typeof zn.addEventListener&&"function"==typeof zn.createElement,WN=~UN.indexOf("MSIE")||~UN.indexOf("Trident/"),Ha="___FONT_AWESOME___",m9=16,jN="fa",$N="svg-inline--fa",k1="data-fa-i2svg",g9="data-fa-pseudo-element",tIe="data-fa-pseudo-element-pending",_9="data-prefix",v9="data-icon",qN="fontawesome-i2svg",nIe="async",iIe=["HTML","HEAD","STYLE","SCRIPT"],XN=function(){try{return!0}catch{return!1}}(),Hn="classic",Kn="sharp",b9=[Hn,Kn];function d4(n){return new Proxy(n,{get:function(t,i){return i in t?t[i]:t[Hn]}})}var u4=d4((Si(Du={},Hn,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Si(Du,Kn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular"}),Du)),f4=d4((Si(Eu={},Hn,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Si(Eu,Kn,{solid:"fass",regular:"fasr"}),Eu)),h4=d4((Si(Tu={},Hn,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Si(Tu,Kn,{fass:"fa-solid",fasr:"fa-regular"}),Tu)),rIe=d4((Si(Au={},Hn,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Si(Au,Kn,{"fa-solid":"fass","fa-regular":"fasr"}),Au)),sIe=/fa(s|r|l|t|d|b|k|ss|sr)?[\-\ ]/,YN="fa-layers-text",aIe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,oIe=d4((Si(Lu={},Hn,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Si(Lu,Kn,{900:"fass",400:"fasr"}),Lu)),KN=[1,2,3,4,5,6,7,8,9,10],cIe=KN.concat([11,12,13,14,15,16,17,18,19,20]),lIe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],R1={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},p4=new Set;Object.keys(f4[Hn]).map(p4.add.bind(p4)),Object.keys(f4[Kn]).map(p4.add.bind(p4));var dIe=[].concat(b9,l4(p4),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",R1.GROUP,R1.SWAP_OPACITY,R1.PRIMARY,R1.SECONDARY]).concat(KN.map(function(n){return"".concat(n,"x")})).concat(cIe.map(function(n){return"w-".concat(n)})),m4=bo.FontAwesomeConfig||{};zn&&"function"==typeof zn.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=f9(n,2),i=e[1],r=function fIe(n){return""===n||"false"!==n&&("true"===n||n)}(function uIe(n){var e=zn.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=r&&(m4[i]=r)});var ZN={styleDefault:"solid",familyDefault:"classic",cssPrefix:jN,replacementClass:$N,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};m4.familyPrefix&&(m4.cssPrefix=m4.familyPrefix);var $c=ke(ke({},ZN),m4);$c.autoReplaceSvg||($c.observeMutations=!1);var Ge={};Object.keys(ZN).forEach(function(n){Object.defineProperty(Ge,n,{enumerable:!0,set:function(t){$c[n]=t,g4.forEach(function(i){return i(Ge)})},get:function(){return $c[n]}})}),Object.defineProperty(Ge,"familyPrefix",{enumerable:!0,set:function(e){$c.cssPrefix=e,g4.forEach(function(t){return t(Ge)})},get:function(){return $c.cssPrefix}}),bo.FontAwesomeConfig=Ge;var g4=[],yo=m9,Ks={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},gIe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function _4(){for(var n=12,e="";n-- >0;)e+=gIe[62*Math.random()|0];return e}function qc(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function y9(n){return n.classList?qc(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function QN(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Vu(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function x9(n){return n.size!==Ks.size||n.x!==Ks.x||n.y!==Ks.y||n.rotate!==Ks.rotate||n.flipX||n.flipY}var yIe=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function JN(){var n=jN,e=$N,t=Ge.cssPrefix,i=Ge.replacementClass,r=yIe;if(t!==n||i!==e){var s=new RegExp("\\.".concat(n,"\\-"),"g"),a=new RegExp("\\--".concat(n,"\\-"),"g"),o=new RegExp("\\.".concat(e),"g");r=r.replace(s,".".concat(t,"-")).replace(a,"--".concat(t,"-")).replace(o,".".concat(i))}return r}var eP=!1;function M9(){Ge.autoAddCss&&!eP&&(function mIe(n){if(n&&za){var e=zn.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=zn.head.childNodes,i=null,r=t.length-1;r>-1;r--){var s=t[r],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(i=s)}zn.head.insertBefore(e,i)}}(JN()),eP=!0)}var xIe={mixout:function(){return{dom:{css:JN,insertCss:M9}}},hooks:function(){return{beforeDOMElementCreation:function(){M9()},beforeI2svg:function(){M9()}}}},Ia=bo||{};Ia[Ha]||(Ia[Ha]={}),Ia[Ha].styles||(Ia[Ha].styles={}),Ia[Ha].hooks||(Ia[Ha].hooks={}),Ia[Ha].shims||(Ia[Ha].shims=[]);var Ds=Ia[Ha],tP=[],zu=!1;function v4(n){var e=n.tag,t=n.attributes,i=void 0===t?{}:t,r=n.children,s=void 0===r?[]:r;return"string"==typeof n?QN(n):"<".concat(e," ").concat(function _Ie(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(QN(n[t]),'" ')},"").trim()}(i),">").concat(s.map(v4).join(""),"</").concat(e,">")}function nP(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}za&&((zu=(zn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(zn.readyState))||zn.addEventListener("DOMContentLoaded",function n(){zn.removeEventListener("DOMContentLoaded",n),zu=1,tP.map(function(e){return e()})}));var C9=function(e,t,i,r){var c,l,d,s=Object.keys(e),a=s.length,o=void 0!==r?function(e,t){return function(i,r,s,a){return e.call(t,i,r,s,a)}}(t,r):t;for(void 0===i?(c=1,d=e[s[0]]):(c=0,d=i);c<a;c++)d=o(d,e[l=s[c]],l,e);return d};function w9(n){var e=function SIe(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);56320==(64512&s)?e.push(((1023&r)<<10)+(1023&s)+65536):(e.push(r),t--)}else e.push(r)}return e}(n);return 1===e.length?e[0].toString(16):null}function iP(n){return Object.keys(n).reduce(function(e,t){var i=n[t];return i.icon?e[i.iconName]=i.icon:e[t]=i,e},{})}function S9(n,e){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==i&&i,s=iP(e);"function"!=typeof Ds.hooks.addPack||r?Ds.styles[n]=ke(ke({},Ds.styles[n]||{}),s):Ds.hooks.addPack(n,iP(e)),"fas"===n&&S9("fa",e)}var Hu,Iu,ku,Xc=Ds.styles,EIe=Ds.shims,TIe=(Si(Hu={},Hn,Object.values(h4[Hn])),Si(Hu,Kn,Object.values(h4[Kn])),Hu),D9=null,rP={},sP={},aP={},oP={},cP={},AIe=(Si(Iu={},Hn,Object.keys(u4[Hn])),Si(Iu,Kn,Object.keys(u4[Kn])),Iu);var lP=function(){var e=function(s){return C9(Xc,function(a,o,c){return a[c]=C9(o,s,{}),a},{})};rP=e(function(r,s,a){return s[3]&&(r[s[3]]=a),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){r[c.toString(16)]=a}),r}),sP=e(function(r,s,a){return r[a]=a,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){r[c]=a}),r}),cP=e(function(r,s,a){var o=s[2];return r[a]=a,o.forEach(function(c){r[c]=a}),r});var t="far"in Xc||Ge.autoFetchSvg,i=C9(EIe,function(r,s){var a=s[0],o=s[1],c=s[2];return"far"===o&&!t&&(o="fas"),"string"==typeof a&&(r.names[a]={prefix:o,iconName:c}),"number"==typeof a&&(r.unicodes[a.toString(16)]={prefix:o,iconName:c}),r},{names:{},unicodes:{}});aP=i.names,oP=i.unicodes,D9=Ru(Ge.styleDefault,{family:Ge.familyDefault})};function E9(n,e){return(rP[n]||{})[e]}function N1(n,e){return(cP[n]||{})[e]}function dP(n){return aP[n]||{prefix:null,iconName:null}}function xo(){return D9}(function pIe(n){g4.push(n)})(function(n){D9=Ru(n.styleDefault,{family:Ge.familyDefault})}),lP();var T9=function(){return{prefix:null,iconName:null,rest:[]}};function Ru(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,i=void 0===t?Hn:t;return f4[i][n]||f4[i][u4[i][n]]||(n in Ds.styles?n:null)||null}var uP=(Si(ku={},Hn,Object.keys(h4[Hn])),Si(ku,Kn,Object.keys(h4[Kn])),ku);function Nu(n){var e,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==i&&i,s=(Si(e={},Hn,"".concat(Ge.cssPrefix,"-").concat(Hn)),Si(e,Kn,"".concat(Ge.cssPrefix,"-").concat(Kn)),e),a=null,o=Hn;(n.includes(s[Hn])||n.some(function(l){return uP[Hn].includes(l)}))&&(o=Hn),(n.includes(s[Kn])||n.some(function(l){return uP[Kn].includes(l)}))&&(o=Kn);var c=n.reduce(function(l,d){var u=function VIe(n,e){var t=e.split("-"),i=t[0],r=t.slice(1).join("-");return i!==n||""===r||function LIe(n){return~dIe.indexOf(n)}(r)?null:r}(Ge.cssPrefix,d);if(Xc[d]?(d=TIe[o].includes(d)?rIe[o][d]:d,a=d,l.prefix=d):AIe[o].indexOf(d)>-1?(a=d,l.prefix=Ru(d,{family:o})):u?l.iconName=u:d!==Ge.replacementClass&&d!==s[Hn]&&d!==s[Kn]&&l.rest.push(d),!r&&l.prefix&&l.iconName){var f="fa"===a?dP(l.iconName):{},h=N1(l.prefix,l.iconName);f.prefix&&(a=null),l.iconName=f.iconName||h||l.iconName,l.prefix=f.prefix||l.prefix,"far"===l.prefix&&!Xc.far&&Xc.fas&&!Ge.autoFetchSvg&&(l.prefix="fas")}return l},T9());return(n.includes("fa-brands")||n.includes("fab"))&&(c.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(c.prefix="fad"),!c.prefix&&o===Kn&&(Xc.fass||Ge.autoFetchSvg)&&(c.prefix="fass",c.iconName=N1(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===a)&&(c.prefix=xo()||"fas"),c}var IIe=function(){function n(){(function jHe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function $He(n,e,t){e&&kN(n.prototype,e),t&&kN(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var a=r.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(o){t.definitions[o]=ke(ke({},t.definitions[o]||{}),a[o]),S9(o,a[o]);var c=h4[Hn][o];c&&S9(c,a[o]),lP()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var a=r[s],o=a.prefix,c=a.iconName,l=a.icon,d=l[2];t[o]||(t[o]={}),d.length>0&&d.forEach(function(u){"string"==typeof u&&(t[o][u]=l)}),t[o][c]=l}),t}}]),n}(),fP=[],Yc={},Kc={},kIe=Object.keys(Kc);function A9(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];return(Yc[n]||[]).forEach(function(a){e=a.apply(null,[e].concat(i))}),e}function P1(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];(Yc[n]||[]).forEach(function(s){s.apply(null,t)})}function ka(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return Kc[n]?Kc[n].apply(null,e):void 0}function L9(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||xo();if(e)return e=N1(t,e)||e,nP(hP.definitions,t,e)||nP(Ds.styles,t,e)}var hP=new IIe,PIe={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return za?(P1("beforeI2svg",e),ka("pseudoElements2svg",e),ka("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===Ge.autoReplaceSvg&&(Ge.autoReplaceSvg=!0),Ge.observeMutations=!0,function CIe(n){za&&(zu?setTimeout(n,0):tP.push(n))}(function(){OIe({autoReplaceSvgRoot:t}),P1("watch",e)})}},Or={noAuto:function(){Ge.autoReplaceSvg=!1,Ge.observeMutations=!1,P1("noAuto")},config:Ge,dom:PIe,parse:{icon:function(e){if(null===e)return null;if("object"===Cu(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:N1(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],i=Ru(e[0]);return{prefix:i,iconName:N1(i,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(Ge.cssPrefix,"-"))>-1||e.match(sIe))){var r=Nu(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||xo(),iconName:N1(r.prefix,r.iconName)||r.iconName}}if("string"==typeof e){var s=xo();return{prefix:s,iconName:N1(s,e)||e}}}},library:hP,findIconDefinition:L9,toHtml:v4},OIe=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,i=void 0===t?zn:t;(Object.keys(Ds.styles).length>0||Ge.autoFetchSvg)&&za&&Ge.autoReplaceSvg&&Or.dom.i2svg({node:i})};function Pu(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return v4(i)})}}),Object.defineProperty(n,"node",{get:function(){if(za){var i=zn.createElement("div");return i.innerHTML=n.html,i.children}}}),n}function V9(n){var e=n.icons,t=e.main,i=e.mask,r=n.prefix,s=n.iconName,a=n.transform,o=n.symbol,c=n.title,l=n.maskId,d=n.titleId,u=n.extra,f=n.watchable,h=void 0!==f&&f,p=i.found?i:t,m=p.width,g=p.height,v="fak"===r,b=[Ge.replacementClass,s?"".concat(Ge.cssPrefix,"-").concat(s):""].filter(function(S){return-1===u.classes.indexOf(S)}).filter(function(S){return""!==S||!!S}).concat(u.classes).join(" "),_={children:[],attributes:ke(ke({},u.attributes),{},{"data-prefix":r,"data-icon":s,class:b,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},y=v&&!~u.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};h&&(_.attributes[k1]=""),c&&(_.children.push({tag:"title",attributes:{id:_.attributes["aria-labelledby"]||"title-".concat(d||_4())},children:[c]}),delete _.attributes.title);var M=ke(ke({},_),{},{prefix:r,iconName:s,main:t,mask:i,maskId:l,transform:a,symbol:o,styles:ke(ke({},y),u.styles)}),C=i.found&&t.found?ka("generateAbstractMask",M)||{children:[],attributes:{}}:ka("generateAbstractIcon",M)||{children:[],attributes:{}},x=C.attributes;return M.children=C.children,M.attributes=x,o?function UIe(n){var t=n.iconName,i=n.children,r=n.attributes,s=n.symbol,a=!0===s?"".concat(n.prefix,"-").concat(Ge.cssPrefix,"-").concat(t):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ke(ke({},r),{},{id:a}),children:i}]}]}(M):function BIe(n){var e=n.children,t=n.main,i=n.mask,r=n.attributes,s=n.styles,a=n.transform;if(x9(a)&&t.found&&!i.found){var l={x:t.width/t.height/2,y:.5};r.style=Vu(ke(ke({},s),{},{"transform-origin":"".concat(l.x+a.x/16,"em ").concat(l.y+a.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}(M)}function pP(n){var e=n.content,t=n.width,i=n.height,r=n.transform,s=n.title,a=n.extra,o=n.watchable,c=void 0!==o&&o,l=ke(ke(ke({},a.attributes),s?{title:s}:{}),{},{class:a.classes.join(" ")});c&&(l[k1]="");var d=ke({},a.styles);x9(r)&&(d.transform=function bIe(n){var e=n.transform,t=n.width,r=n.height,s=void 0===r?m9:r,a=n.startCentered,o=void 0!==a&&a,c="";return c+=o&&WN?"translate(".concat(e.x/yo-(void 0===t?m9:t)/2,"em, ").concat(e.y/yo-s/2,"em) "):o?"translate(calc(-50% + ".concat(e.x/yo,"em), calc(-50% + ").concat(e.y/yo,"em)) "):"translate(".concat(e.x/yo,"em, ").concat(e.y/yo,"em) "),(c+="scale(".concat(e.size/yo*(e.flipX?-1:1),", ").concat(e.size/yo*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:r,startCentered:!0,width:t,height:i}),d["-webkit-transform"]=d.transform);var u=Vu(d);u.length>0&&(l.style=u);var f=[];return f.push({tag:"span",attributes:l,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}var z9=Ds.styles;function H9(n){var e=n[0],t=n[1],s=f9(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(Ge.cssPrefix,"-").concat(R1.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ge.cssPrefix,"-").concat(R1.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Ge.cssPrefix,"-").concat(R1.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var WIe={found:!1,width:512,height:512};function I9(n,e){var t=e;return"fa"===e&&null!==Ge.styleDefault&&(e=xo()),new Promise(function(i,r){if(ka("missingIconAbstract"),"fa"===t){var a=dP(n)||{};n=a.iconName||n,e=a.prefix||e}if(n&&e&&z9[e]&&z9[e][n])return i(H9(z9[e][n]));(function jIe(n,e){!XN&&!Ge.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),i(ke(ke({},WIe),{},{icon:Ge.showMissingIcons&&n&&ka("missingIconAbstract")||{}}))})}var mP=function(){},k9=Ge.measurePerformance&&Su&&Su.mark&&Su.measure?Su:{mark:mP,measure:mP},b4='FA "6.3.0"',gP=function(e){k9.mark("".concat(b4," ").concat(e," ends")),k9.measure("".concat(b4," ").concat(e),"".concat(b4," ").concat(e," begins"),"".concat(b4," ").concat(e," ends"))},R9={begin:function(e){return k9.mark("".concat(b4," ").concat(e," begins")),function(){return gP(e)}},end:gP},Fu=function(){};function _P(n){return"string"==typeof(n.getAttribute?n.getAttribute(k1):null)}function KIe(n){return zn.createElementNS("http://www.w3.org/2000/svg",n)}function ZIe(n){return zn.createElement(n)}function vP(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,i=void 0===t?"svg"===n.tag?KIe:ZIe:t;if("string"==typeof n)return zn.createTextNode(n);var r=i(n.tag);return Object.keys(n.attributes||[]).forEach(function(a){r.setAttribute(a,n.attributes[a])}),(n.children||[]).forEach(function(a){r.appendChild(vP(a,{ceFn:i}))}),r}var Ou={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(r){t.parentNode.insertBefore(vP(r),t)}),null===t.getAttribute(k1)&&Ge.keepOriginalSource){var i=zn.createComment(function QIe(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(i,t)}else t.remove()},nest:function(e){var t=e[0],i=e[1];if(~y9(t).indexOf(Ge.replacementClass))return Ou.replace(e);var r=new RegExp("".concat(Ge.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var s=i[0].attributes.class.split(" ").reduce(function(o,c){return c===Ge.replacementClass||c.match(r)?o.toSvg.push(c):o.toNode.push(c),o},{toNode:[],toSvg:[]});i[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?t.removeAttribute("class"):t.setAttribute("class",s.toNode.join(" "))}var a=i.map(function(o){return v4(o)}).join("\n");t.setAttribute(k1,""),t.innerHTML=a}};function bP(n){n()}function yP(n,e){var t="function"==typeof e?e:Fu;if(0===n.length)t();else{var i=bP;Ge.mutateApproach===nIe&&(i=bo.requestAnimationFrame||bP),i(function(){var r=function YIe(){return!0===Ge.autoReplaceSvg?Ou.replace:Ou[Ge.autoReplaceSvg]||Ou.replace}(),s=R9.begin("mutate");n.map(r),s(),t()})}}var N9=!1;function xP(){N9=!0}function P9(){N9=!1}var Bu=null;function MP(n){if(GN&&Ge.observeMutations){var e=n.treeCallback,t=void 0===e?Fu:e,i=n.nodeCallback,r=void 0===i?Fu:i,s=n.pseudoElementsCallback,a=void 0===s?Fu:s,o=n.observeMutationsRoot,c=void 0===o?zn:o;Bu=new GN(function(l){if(!N9){var d=xo();qc(l).forEach(function(u){if("childList"===u.type&&u.addedNodes.length>0&&!_P(u.addedNodes[0])&&(Ge.searchPseudoElements&&a(u.target),t(u.target)),"attributes"===u.type&&u.target.parentNode&&Ge.searchPseudoElements&&a(u.target.parentNode),"attributes"===u.type&&_P(u.target)&&~lIe.indexOf(u.attributeName))if("class"===u.attributeName&&function qIe(n){var e=n.getAttribute?n.getAttribute(_9):null,t=n.getAttribute?n.getAttribute(v9):null;return e&&t}(u.target)){var f=Nu(y9(u.target)),p=f.iconName;u.target.setAttribute(_9,f.prefix||d),p&&u.target.setAttribute(v9,p)}else(function XIe(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Ge.replacementClass)})(u.target)&&r(u.target)})}}),za&&Bu.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function CP(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=function tke(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=void 0!==n.innerText?n.innerText.trim():"",r=Nu(y9(n));return r.prefix||(r.prefix=xo()),e&&t&&(r.prefix=e,r.iconName=t),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=function zIe(n,e){return(sP[n]||{})[e]}(r.prefix,n.innerText)||E9(r.prefix,w9(n.innerText))),!r.iconName&&Ge.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}(n),i=t.iconName,r=t.prefix,s=t.rest,a=function nke(n){var e=qc(n.attributes).reduce(function(r,s){return"class"!==r.name&&"style"!==r.name&&(r[s.name]=s.value),r},{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return Ge.autoA11y&&(t?e["aria-labelledby"]="".concat(Ge.replacementClass,"-title-").concat(i||_4()):(e["aria-hidden"]="true",e.focusable="false")),e}(n),o=A9("parseNodeAttributes",{},n),c=e.styleParser?function eke(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(i,r){var s=r.split(":"),a=s[0],o=s.slice(1);return a&&o.length>0&&(i[a]=o.join(":").trim()),i},{})),t}(n):[];return ke({iconName:i,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:Ks,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:a}},o)}var rke=Ds.styles;function wP(n){var e="nest"===Ge.autoReplaceSvg?CP(n,{styleParser:!1}):CP(n);return~e.extra.classes.indexOf(YN)?ka("generateLayersText",n,e):ka("generateSvgReplacementMutation",n,e)}var Mo=new Set;function SP(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!za)return Promise.resolve();var t=zn.documentElement.classList,i=function(u){return t.add("".concat(qN,"-").concat(u))},r=function(u){return t.remove("".concat(qN,"-").concat(u))},s=Ge.autoFetchSvg?Mo:b9.map(function(d){return"fa-".concat(d)}).concat(Object.keys(rke));s.includes("fa")||s.push("fa");var a=[".".concat(YN,":not([").concat(k1,"])")].concat(s.map(function(d){return".".concat(d,":not([").concat(k1,"])")})).join(", ");if(0===a.length)return Promise.resolve();var o=[];try{o=qc(n.querySelectorAll(a))}catch{}if(!(o.length>0))return Promise.resolve();i("pending"),r("complete");var c=R9.begin("onTree"),l=o.reduce(function(d,u){try{var f=wP(u);f&&d.push(f)}catch(h){XN||"MissingIcon"===h.name&&console.error(h)}return d},[]);return new Promise(function(d,u){Promise.all(l).then(function(f){yP(f,function(){i("active"),i("complete"),r("pending"),"function"==typeof e&&e(),c(),d()})}).catch(function(f){c(),u(f)})})}function ske(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;wP(n).then(function(t){t&&yP([t],e)})}function ake(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(e||{}).icon?e:L9(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:L9(r||{})),n(i,ke(ke({},t),{},{mask:r}))}}b9.map(function(n){Mo.add("fa-".concat(n))}),Object.keys(u4[Hn]).map(Mo.add.bind(Mo)),Object.keys(u4[Kn]).map(Mo.add.bind(Mo)),Mo=l4(Mo);var oke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.transform,r=void 0===i?Ks:i,s=t.symbol,a=void 0!==s&&s,o=t.mask,c=void 0===o?null:o,l=t.maskId,d=void 0===l?null:l,u=t.title,f=void 0===u?null:u,h=t.titleId,p=void 0===h?null:h,m=t.classes,g=void 0===m?[]:m,v=t.attributes,b=void 0===v?{}:v,_=t.styles,y=void 0===_?{}:_;if(e){var M=e.prefix,C=e.iconName,V=e.icon;return Pu(ke({type:"icon"},e),function(){return P1("beforeDOMElementCreation",{iconDefinition:e,params:t}),Ge.autoA11y&&(f?b["aria-labelledby"]="".concat(Ge.replacementClass,"-title-").concat(p||_4()):(b["aria-hidden"]="true",b.focusable="false")),V9({icons:{main:H9(V),mask:c?H9(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:M,iconName:C,transform:ke(ke({},Ks),r),symbol:a,title:f,maskId:d,titleId:p,extra:{attributes:b,styles:y,classes:g}})})}},cke={mixout:function(){return{icon:ake(oke)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=SP,t.nodeCallback=ske,t}}},provides:function(e){e.i2svg=function(t){var i=t.node,s=t.callback;return SP(void 0===i?zn:i,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(t,i){var r=i.iconName,s=i.title,a=i.titleId,o=i.prefix,c=i.transform,l=i.symbol,d=i.mask,u=i.maskId,f=i.extra;return new Promise(function(h,p){Promise.all([I9(r,o),d.iconName?I9(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(m){var g=f9(m,2);h([t,V9({icons:{main:g[0],mask:g[1]},prefix:o,iconName:r,transform:c,symbol:l,maskId:u,title:s,titleId:a,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(t){var l,i=t.children,r=t.attributes,s=t.main,a=t.transform,c=Vu(t.styles);return c.length>0&&(r.style=c),x9(a)&&(l=ka("generateAbstractTransformGrouping",{main:s,transform:a,containerWidth:s.width,iconWidth:s.width})),i.push(l||s.icon),{children:i,attributes:r}}}},lke={mixout:function(){return{layer:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.classes,s=void 0===r?[]:r;return Pu({type:"layer"},function(){P1("beforeDOMElementCreation",{assembler:t,params:i});var a=[];return t(function(o){Array.isArray(o)?o.map(function(c){a=a.concat(c.abstract)}):a=a.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat(Ge.cssPrefix,"-layers")].concat(l4(s)).join(" ")},children:a}]})}}}},dke={mixout:function(){return{counter:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.title,s=void 0===r?null:r,a=i.classes,o=void 0===a?[]:a,c=i.attributes,l=void 0===c?{}:c,d=i.styles,u=void 0===d?{}:d;return Pu({type:"counter",content:t},function(){return P1("beforeDOMElementCreation",{content:t,params:i}),function GIe(n){var e=n.content,t=n.title,i=n.extra,r=ke(ke(ke({},i.attributes),t?{title:t}:{}),{},{class:i.classes.join(" ")}),s=Vu(i.styles);s.length>0&&(r.style=s);var a=[];return a.push({tag:"span",attributes:r,children:[e]}),t&&a.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),a}({content:t.toString(),title:s,extra:{attributes:l,styles:u,classes:["".concat(Ge.cssPrefix,"-layers-counter")].concat(l4(o))}})})}}}},uke={mixout:function(){return{text:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.transform,s=void 0===r?Ks:r,a=i.title,o=void 0===a?null:a,c=i.classes,l=void 0===c?[]:c,d=i.attributes,u=void 0===d?{}:d,f=i.styles,h=void 0===f?{}:f;return Pu({type:"text",content:t},function(){return P1("beforeDOMElementCreation",{content:t,params:i}),pP({content:t,transform:ke(ke({},Ks),s),title:o,extra:{attributes:u,styles:h,classes:["".concat(Ge.cssPrefix,"-layers-text")].concat(l4(l))}})})}}},provides:function(e){e.generateLayersText=function(t,i){var r=i.title,s=i.transform,a=i.extra,o=null,c=null;if(WN){var l=parseInt(getComputedStyle(t).fontSize,10),d=t.getBoundingClientRect();o=d.width/l,c=d.height/l}return Ge.autoA11y&&!r&&(a.attributes["aria-hidden"]="true"),Promise.resolve([t,pP({content:t.innerHTML,width:o,height:c,transform:s,title:r,extra:a,watchable:!0})])}}},fke=new RegExp('"',"ug"),DP=[1105920,1112319];function EP(n,e){var t="".concat(tIe).concat(e.replace(":","-"));return new Promise(function(i,r){if(null!==n.getAttribute(t))return i();var a=qc(n.children).filter(function(V){return V.getAttribute(g9)===e})[0],o=bo.getComputedStyle(n,e),c=o.getPropertyValue("font-family").match(aIe),l=o.getPropertyValue("font-weight"),d=o.getPropertyValue("content");if(a&&!c)return n.removeChild(a),i();if(c&&"none"!==d&&""!==d){var u=o.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?Kn:Hn,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?f4[f][c[2].toLowerCase()]:oIe[f][l],p=function hke(n){var e=n.replace(fke,""),t=function DIe(n,e){var r,t=n.length,i=n.charCodeAt(e);return i>=55296&&i<=56319&&t>e+1&&(r=n.charCodeAt(e+1))>=56320&&r<=57343?1024*(i-55296)+r-56320+65536:i}(e,0),i=t>=DP[0]&&t<=DP[1],r=2===e.length&&e[0]===e[1];return{value:w9(r?e[0]:e),isSecondary:i||r}}(u),m=p.value,g=p.isSecondary,v=c[0].startsWith("FontAwesome"),b=E9(h,m),_=b;if(v){var y=function HIe(n){var e=oP[n],t=E9("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(m);y.iconName&&y.prefix&&(b=y.iconName,h=y.prefix)}if(!b||g||a&&a.getAttribute(_9)===h&&a.getAttribute(v9)===_)i();else{n.setAttribute(t,_),a&&n.removeChild(a);var M=function ike(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ks,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),C=M.extra;C.attributes[g9]=e,I9(b,h).then(function(V){var x=V9(ke(ke({},M),{},{icons:{main:V,mask:T9()},prefix:h,iconName:_,extra:C,watchable:!0})),S=zn.createElement("svg");"::before"===e?n.insertBefore(S,n.firstChild):n.appendChild(S),S.outerHTML=x.map(function(H){return v4(H)}).join("\n"),n.removeAttribute(t),i()}).catch(r)}}else i()})}function pke(n){return Promise.all([EP(n,"::before"),EP(n,"::after")])}function mke(n){return!(n.parentNode===document.head||~iIe.indexOf(n.tagName.toUpperCase())||n.getAttribute(g9)||n.parentNode&&"svg"===n.parentNode.tagName)}function TP(n){if(za)return new Promise(function(e,t){var i=qc(n.querySelectorAll("*")).filter(mke).map(pke),r=R9.begin("searchPseudoElements");xP(),Promise.all(i).then(function(){r(),P9(),e()}).catch(function(){r(),P9(),t()})})}var AP=!1,LP=function(e){return e.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),a=s[0],o=s.slice(1).join("-");if(a&&"h"===o)return i.flipX=!0,i;if(a&&"v"===o)return i.flipY=!0,i;if(o=parseFloat(o),isNaN(o))return i;switch(a){case"grow":i.size=i.size+o;break;case"shrink":i.size=i.size-o;break;case"left":i.x=i.x-o;break;case"right":i.x=i.x+o;break;case"up":i.y=i.y-o;break;case"down":i.y=i.y+o;break;case"rotate":i.rotate=i.rotate+o}return i},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},F9={x:0,y:0,width:"100%",height:"100%"};function VP(n){return n.attributes&&(n.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(n.attributes.fill="black"),n}function bke(n){return"g"===n.tag?n.children:[n]}var yke={hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-mask"),s=r?Nu(r.split(" ").map(function(a){return a.trim()})):T9();return s.prefix||(s.prefix=xo()),t.mask=s,t.maskId=i.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var i=t.children,r=t.attributes,s=t.main,a=t.mask,o=t.maskId,d=s.icon,f=a.icon,h=function vIe(n){var e=n.transform,i=n.iconWidth,r={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(s," ").concat(a," ").concat(o)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:t.transform,containerWidth:a.width,iconWidth:s.width}),p={tag:"rect",attributes:ke(ke({},F9),{},{fill:"white"})},m=d.children?{children:d.children.map(VP)}:{},g={tag:"g",attributes:ke({},h.inner),children:[VP(ke({tag:d.tag,attributes:ke(ke({},d.attributes),h.path)},m))]},v={tag:"g",attributes:ke({},h.outer),children:[g]},b="mask-".concat(o||_4()),_="clip-".concat(o||_4()),y={tag:"mask",attributes:ke(ke({},F9),{},{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,v]},M={tag:"defs",children:[{tag:"clipPath",attributes:{id:_},children:bke(f)},y]};return i.push(M,{tag:"rect",attributes:ke({fill:"currentColor","clip-path":"url(#".concat(_,")"),mask:"url(#".concat(b,")")},F9)}),{children:i,attributes:r}}}};!function RIe(n,e){var t=e.mixoutsTo;fP=n,Yc={},Object.keys(Kc).forEach(function(i){-1===kIe.indexOf(i)&&delete Kc[i]}),fP.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(a){"function"==typeof r[a]&&(t[a]=r[a]),"object"===Cu(r[a])&&Object.keys(r[a]).forEach(function(o){t[a]||(t[a]={}),t[a][o]=r[a][o]})}),i.hooks){var s=i.hooks();Object.keys(s).forEach(function(a){Yc[a]||(Yc[a]=[]),Yc[a].push(s[a])})}i.provides&&i.provides(Kc)})}([xIe,cke,lke,dke,uke,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=TP,t}}},provides:function(e){e.pseudoElements2svg=function(t){var i=t.node;Ge.searchPseudoElements&&TP(void 0===i?zn:i)}}},{mixout:function(){return{dom:{unwatch:function(){xP(),AP=!0}}}},hooks:function(){return{bootstrap:function(){MP(A9("mutationObserverCallbacks",{}))},noAuto:function(){!function JIe(){Bu&&Bu.disconnect()}()},watch:function(t){var i=t.observeMutationsRoot;AP?P9():MP(A9("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},{mixout:function(){return{parse:{transform:function(t){return LP(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-transform");return r&&(t.transform=LP(r)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var i=t.main,r=t.transform,a=t.iconWidth,o={transform:"translate(".concat(t.containerWidth/2," 256)")},c="translate(".concat(32*r.x,", ").concat(32*r.y,") "),l="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),d="rotate(".concat(r.rotate," 0 0)"),h={outer:o,inner:{transform:"".concat(c," ").concat(l," ").concat(d)},path:{transform:"translate(".concat(a/2*-1," -256)")}};return{tag:"g",attributes:ke({},h.outer),children:[{tag:"g",attributes:ke({},h.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:ke(ke({},i.icon.attributes),h.path)}]}]}}}},yke,{provides:function(e){var t=!1;bo.matchMedia&&(t=bo.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:ke(ke({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=ke(ke({},s),{},{attributeName:"opacity"}),o={tag:"circle",attributes:ke(ke({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:ke(ke({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ke(ke({},a),{},{values:"1;0;1;1;0;1;"})}),i.push(o),i.push({tag:"path",attributes:ke(ke({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:ke(ke({},a),{},{values:"1;0;0;0;0;1;"})}]}),t||i.push({tag:"path",attributes:ke(ke({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ke(ke({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},{hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-symbol");return t.symbol=null!==r&&(""===r||r),t}}}}],{mixoutsTo:Or});var wke=Or.parse,Ske=Or.icon;const Dke=["*"],Ake=n=>{const e={[`fa-${n.animation}`]:null!=n.animation&&!n.animation.startsWith("spin"),"fa-spin":"spin"===n.animation||"spin-reverse"===n.animation,"fa-spin-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-spin-reverse":"spin-reverse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let zke=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hke=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const i of t){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const r of i.icon[2])"string"==typeof r&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...t){for(const i of t){const r=Object.keys(i).map(s=>i[s]);this.addIcons(...r)}}getIconDefinition(t,i){return t in this.definitions&&i in this.definitions[t]?this.definitions[t][i]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ike=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ce({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[zi]}),n})(),kke=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(D(qa),D(ot))},n.\u0275cmp=en({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[zi],ngContentSelectors:Dke,decls:1,vars:0,template:function(t,i){1&t&&(gs(),On(0))},encapsulation:2}),n})(),Rke=(()=>{class n{constructor(t,i,r,s,a){this.sanitizer=t,this.config=i,this.iconLibrary=r,this.stackItem=s,this.classes=[],null!=a&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}set spin(t){this.animation=t?"spin":void 0}set pulse(t){this.animation=t?"spin-pulse":void 0}ngOnChanges(t){if(null!=this.icon||null!=this.config.fallbackIcon){if(t){const r=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=r){const s=this.buildParams();this.renderIcon(r,s)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(t){const i=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:"string"==typeof n?{prefix:e,iconName:n}:{prefix:n[0],iconName:n[1]})(t,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(i),null)}buildParams(){const t={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?wke.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...Ake(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,i){const r=Ske(t,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(r.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(D(BC),D(zke),D(Hke),D(Ike,8),D(kke,8))},n.\u0275cmp=en({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,i){2&t&&(P2("innerHTML",i.renderedIconHTML,tb),En("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[zi],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),Nke=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({}),n})();const Pke=["canvas"],Fke=["slider"],Uu=["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"];var F1=(()=>(function(n){n.NBody="n-body",n.Pendulum="pendulum"}(F1||(F1={})),F1))();class Oke{constructor(e){this.coordinates=e.coordinates,this.colour=e.colour;const t=this.coordinates.length,i=new Xre;for(let r=0;r<t-1;r++)i.add(new id(new E(...this.coordinates[r]),new E(...this.coordinates[r+1])));this.pathGeometry=new Yre(i,t,.01,16,!0),this.pathMaterial=void 0===this.colour?new Ac:new V3({color:this.colour}),this.pathMesh=new ji(this.pathGeometry,this.pathMaterial),this.ballGeometry=new A3(.05,8,8),this.ballMaterial=void 0===this.colour?new Ac:new V3({color:this.colour}),this.ballMesh=new ji(this.ballGeometry,this.ballMaterial),this.ballFirstVertexOffset=this.ballGeometry.getAttribute("position").array.slice(0,3)}destroy(){this.pathGeometry.dispose(),this.pathMaterial.dispose(),this.ballGeometry.dispose(),this.ballMaterial.dispose()}}class y4{set trajectorySpecs(e){switch(this.afterViewInitCompleted&&this.stopAction(),this.trajectories.forEach(t=>t.destroy()),this.destroySpecialObjects(),this._trajectorySpecs=function _ce(n){return pce(n,5)}(e),this.styleSelected){case"normal":break;case"chromatic":this._trajectorySpecs.forEach((t,i)=>t.colour=Uu[i])}this.trajectories=this._trajectorySpecs.map(t=>new Oke(t)),this.afterViewInitCompleted&&this.initialiseAnimation(),this.constructSpecialObjects(this.trajectoryTypeSelected),this.afterViewInitCompleted&&(this.xValue=0,this.setTimeValue(this.xValue),this.startAction())}get trajectorySpecs(){return this._trajectorySpecs}get playSpeedMultiplierIndex(){return this._playSpeedMultiplierIndex}set playSpeedMultiplierIndex(e){this._playSpeedMultiplierIndex=e,this.playSpeedMultiplier=this.speedMultipliersMap[e]}get tailLengthIndex(){return this._tailLengthIndex}set tailLengthIndex(e){this._tailLengthIndex=e,this.tailLengthValue=this.tailLengthMap[e]}get styleSelected(){return this._styleSelected}set styleSelected(e){switch(this._styleSelected=e,this._styleSelected){case"normal":this.trajectories.forEach(t=>{t.ballMesh.material=new Ac,t.pathMesh.material=new Ac});break;case"chromatic":this.trajectories.forEach((t,i)=>{t.ballMesh.material=new V3({color:Uu[i]}),t.pathMesh.material=new V3({color:Uu[i]})})}}get trajectoryTypeSelected(){return this._trajectoryTypeSelected}set trajectoryTypeSelected(e){this._trajectoryTypeSelected!==e&&(this._trajectoryTypeSelected=e,this.destroySpecialObjects(),this.constructSpecialObjects(this.trajectoryTypeSelected))}destroySpecialObjects(){this.specialObjects.pendulum.forEach(e=>{this.scene.remove(e),e.geometry.dispose(),e.material.dispose()}),this.specialObjects.pendulum=[]}constructSpecialObjects(e){switch(e){case F1.Pendulum:return void[this.trajectories[0].coordinates.map(()=>[0,0,0]),...this.trajectories.map(i=>i.coordinates)].forEach((i,r,s)=>{if(r===s.length-1)return;const a=s[r+1],o=new ji(new L3(new id(new E(...i[r]),new E(...a[r])),1,.01,16,!1),new Ac);this.specialObjects.pendulum.push(o),this.scene.add(o)});case F1.NBody:return}}constructor(){this._trajectorySpecs=[],this.afterViewInitCompleted=!1,this.trajectories=[],this.specialObjects={pendulum:[]},this.animationPlaying=!0,this.animationPlayIntervalId=null,this.xValue=0,this.speedMultipliersMap={0:.1,1:.2,2:.5,3:1,4:2,5:5,6:10},this._playSpeedMultiplierIndex=3,this.playSpeedMultiplier=this.speedMultipliersMap[this._playSpeedMultiplierIndex],this._tailLengthIndex=4,this.tailLengthMap={0:1,1:.5,2:.32,3:.16,4:.08,5:.04,6:.02,7:.01,8:0},this.tailLengthValue=this.tailLengthMap[this._tailLengthIndex],this._styleSelected="chromatic",this._trajectoryTypeSelected=F1.NBody,this.faPlay=NH,this.faPause=OL,this.playSpeedIndexToString=eT(e=>`${this.speedMultipliersMap[e]}\xd7`,this),this.tailLengthIndexToString=eT(e=>{switch(e){case 0:return"Full Tail";case 8:return"No Tail";default:return 100*this.tailLengthMap[e]+"% Tail"}},this)}ngOnInit(){}ngAfterViewInit(){this.initialiseAnimation(),this.startAction(),this.afterViewInitCompleted=!0}get canvas(){return this.canvasRef.nativeElement}initialiseAnimation(){this.scene=new CS,this.renderer=new _p({canvas:this.canvas}),this.renderer.setPixelRatio(devicePixelRatio),this.renderer.setSize(this.canvas.clientWidth,this.canvas.clientHeight),this.camera=new ki(75,this.canvas.clientWidth/this.canvas.clientHeight,.001,200),this.camera.position.set(0,.7,1.2),this.camera.lookAt(0,0,0),this.controls=new qre(this.camera,this.canvas),this.controls.update(),this.scene.add(new mD(4473924));const e=new Kp(16777215,.8);e.position.set(1,1,1),this.scene.add(e);const t=new Kp(16777215,.8);t.position.set(-1,0,0),this.scene.add(t),this.trajectories.forEach(r=>{this.scene.add(r.pathMesh),this.scene.add(r.ballMesh)});let i=()=>{requestAnimationFrame(this.animate),this.render()};i=i.bind(this),this.animate=i,this.animate()}render(){this.renderer.render(this.scene,this.camera)}setTimeValue(e){this.trajectories.forEach(t=>{const i=Math.round((e-this.tailLengthValue)*t.pathGeometry.index.count/36/16*3*2),r=Math.min(Math.round(e*t.pathGeometry.index.count/36/16*3*2),t.coordinates.length-1);t.pathGeometry.setDrawRange(16*i*3*2,16*(r-i)*3*2);const[a,o,c]=t.ballGeometry.getAttribute("position").array.slice(0,3),[l,d,u]=t.coordinates[r],[f,h,p]=t.ballFirstVertexOffset;t.ballGeometry.translate(l-a+f,d-o+h,u-c+p)}),this.trajectoryTypeSelected===F1.Pendulum&&[this.trajectories[0].coordinates.map(()=>[0,0,0]),...this.trajectories.map(i=>i.coordinates)].forEach((i,r,s)=>{if(r===s.length-1)return;const a=e<1?Math.round(e*i.length):i.length-1,o=s[r+1],c=new L3(new id(new E(...i[a]),new E(...o[a])),1,.01,16,!1);this.specialObjects.pendulum[r].geometry.setAttribute("position",c.getAttribute("position")),c.dispose()})}startAction(){this.animationPlaying=!0,this.animationPlayIntervalId=setInterval(()=>{this.xValue=(this.xValue+this.playSpeedMultiplier/1e3)%1,this.setTimeValue(this.xValue)},5)}stopAction(){this.animationPlaying&&(this.animationPlaying=!1),this.animationPlayIntervalId&&(clearInterval(this.animationPlayIntervalId),this.animationPlayIntervalId=null)}asAny(e){return e}}y4.\u0275fac=function(e){return new(e||y4)},y4.\u0275cmp=en({type:y4,selectors:[["app-path-viewer"]],viewQuery:function(e,t){if(1&e&&(Gt(Pke,5),Gt(Fke,5)),2&e){let i;Je(i=et())&&(t.canvasRef=i.first),Je(i=et())&&(t.slider=i.first)}},inputs:{trajectorySpecs:"trajectorySpecs"},decls:30,vars:8,consts:[["id","canvas",2,"height","80%","width","100%"],["canvas",""],[2,"display","flex","justify-content","space-between","align-items","center","margin-left","20px","margin-right","20px"],["mat-flat-button","","color","primary",2,"width","30px","margin-right","5px",3,"click"],[2,"color","black",3,"icon"],["min","0","max","1","step","0.001",2,"width","calc(100% - 30px)","margin-left","25px","margin-right","25px"],["matSliderThumb","",3,"ngModel","input"],["discrete","","showTickMarks","","min","0","max","6","step","1",3,"displayWith"],["matSliderThumb","",3,"ngModel","ngModelChange"],["discrete","","showTickMarks","","min","0","max","8","step","1",3,"displayWith"],["appearance","fill"],["matNativeControl","",3,"ngModel","ngModelChange"],["value","normal"],["value","chromatic","selected",""],["value","n-body"],["value","pendulum","selected",""]],template:function(e,t){1&e&&(Tt(0,"canvas",0,1),ve(2,"span",2)(3,"button",3),Ft("click",function(){return t.animationPlaying?t.stopAction():t.startAction()}),Tt(4,"fa-icon",4),Se(),ve(5,"mat-slider",5)(6,"input",6),Ft("input",function(r){return t.xValue=t.asAny(r).target.valueAsNumber,t.setTimeValue(t.asAny(r).target.valueAsNumber)}),Se()(),ve(7,"mat-slider",7)(8,"input",8),Ft("ngModelChange",function(r){return t.playSpeedMultiplierIndex=r}),Se()()(),ve(9,"span",2)(10,"span"),nn(11," Tail: "),ve(12,"mat-slider",9)(13,"input",8),Ft("ngModelChange",function(r){return t.tailLengthIndex=r}),Se()()(),ve(14,"mat-form-field",10)(15,"mat-label"),nn(16,"Style"),Se(),ve(17,"select",11),Ft("ngModelChange",function(r){return t.styleSelected=r}),ve(18,"option",12),nn(19,"Normal"),Se(),ve(20,"option",13),nn(21,"Chromatic"),Se()()(),ve(22,"mat-form-field",10)(23,"mat-label"),nn(24,"Trajectory Type"),Se(),ve(25,"select",11),Ft("ngModelChange",function(r){return t.trajectoryTypeSelected=r}),ve(26,"option",14),nn(27,"N-Body"),Se(),ve(28,"option",15),nn(29,"Pendulum"),Se()()()()),2&e&&(Ae(4),Ve("icon",t.animationPlaying?t.faPlay:t.faPause),Ae(2),Ve("ngModel",t.xValue),Ae(1),Ve("displayWith",t.playSpeedIndexToString),Ae(1),Ve("ngModel",t.playSpeedMultiplierIndex),Ae(4),Ve("displayWith",t.tailLengthIndexToString),Ae(1),Ve("ngModel",t.tailLengthIndex),Ae(4),Ve("ngModel",t.styleSelected),Ae(8),Ve("ngModel",t.trajectoryTypeSelected))},dependencies:[wR,DR,eu,fu,nR,P7,s9,bHe,l9,DHe,FHe,u9,Rke]});var Bke=Math.ceil,Uke=Math.max;var Xke=function qke(n){return function(e,t,i){return i&&"number"!=typeof i&&function jke(n,e,t){if(!Da(t))return!1;var i=typeof e;return!!("number"==i?dm(t)&&am(e,t.length):"string"==i&&e in t)&&rm(t[e],n)}(e,t,i)&&(t=i=void 0),e=Nd(e),void 0===t?(t=e,e=0):t=Nd(t),function Gke(n,e,t,i){for(var r=-1,s=Uke(Bke((e-n)/(t||1)),0),a=Array(s);s--;)a[i?s:++r]=n,n+=t;return a}(e,t,i=void 0===i?e<t?1:-1:Nd(i),n)}}();const Co=Xke,Yke=Eo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),Zke=["addListener","removeListener"],Qke=["addEventListener","removeEventListener"],Jke=["on","off"];function O1(n,e,t,i){if(It(t)&&(i=t,t=void 0),i)return O1(n,e,t).pipe(w7(i));const[r,s]=function nRe(n){return It(n.addEventListener)&&It(n.removeEventListener)}(n)?Qke.map(a=>o=>n[a](e,o,t)):function eRe(n){return It(n.addListener)&&It(n.removeListener)}(n)?Zke.map(zP(n,e)):function tRe(n){return It(n.on)&&It(n.off)}(n)?Jke.map(zP(n,e)):[];if(!r&&Tf(n))return sl(a=>O1(a,e,t))(pr(n));if(!r)throw new TypeError("Invalid event target");return new st(a=>{const o=(...c)=>a.next(1<c.length?c:c[0]);return r(o),()=>s(o)})}function zP(n,e){return t=>i=>n[t](e,i)}const x4={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=x4;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new on(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=x4;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=x4;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},sRe=new class rRe extends Y7{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class iRe extends X7{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=x4.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(x4.cancelAnimationFrame(t),e._scheduled=void 0)}});let O9,aRe=1;const Gu={};function HP(n){return n in Gu&&(delete Gu[n],!0)}const oRe={setImmediate(n){const e=aRe++;return Gu[e]=!0,O9||(O9=Promise.resolve()),O9.then(()=>HP(e)&&n()),e},clearImmediate(n){HP(n)}},{setImmediate:cRe,clearImmediate:lRe}=oRe,Wu={setImmediate(...n){const{delegate:e}=Wu;return(e?.setImmediate||cRe)(...n)},clearImmediate(n){const{delegate:e}=Wu;return(e?.clearImmediate||lRe)(n)},delegate:void 0},fRe=new class uRe extends Y7{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class dRe extends X7{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Wu.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Wu.clearImmediate(t),e._scheduled=void 0)}});function IP(n=0,e,t=PVe){let i=-1;return null!=e&&(s_(e)?t=e:i=e),new st(r=>{let s=function pRe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let a=0;return t.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function B9(n,e=K7){return function hRe(n){return Kt((e,t)=>{let i=!1,r=null,s=null,a=!1;const o=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const l=r;r=null,t.next(l)}a&&t.complete()},c=()=>{s=null,a&&t.complete()};e.subscribe(Mt(t,l=>{i=!0,r=l,s||pr(n(l)).subscribe(s=Mt(t,o,c))},()=>{a=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>IP(n,e))}const mRe=["contentWrapper"],gRe=["*"],_Re=new de("VIRTUAL_SCROLL_STRATEGY");let ju=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Ye,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new st(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(B9(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):z1()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ta(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Aa(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>O1(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(Y(it),Y(ni),Y(At,8))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kP=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new Ye,this._elementScrolled=new st(a=>this.ngZone.runOutsideAngular(()=>O1(this.elementRef.nativeElement,"scroll").pipe(Ti(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=J3()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==J3()?t.left=t.right:1==J3()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;FR()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==t?t=a?r:i:"end"==t&&(t=a?i:r),a&&2==J3()?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&1==J3()?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(ju),D(it),D(yr,8))},n.\u0275dir=ce({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),B1=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Ye,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(B9(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(Y(ni),Y(it),Y(At,8))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RP=new de("VIRTUAL_SCROLLABLE");let yRe=(()=>{class n extends kP{constructor(t,i,r,s){super(t,i,r,s)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(ju),D(it),D(yr,8))},n.\u0275dir=ce({type:n,features:[xe]}),n})();const MRe=typeof requestAnimationFrame<"u"?sRe:fRe;let CRe=(()=>{class n extends yRe{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=Vn(t)}constructor(t,i,r,s,a,o,c,l){super(t,o,r,a),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=s,this.scrollable=l,this._platform=Sr(ni),this._detachedSubject=new Ye,this._renderedRangeSubject=new Ye,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new st(d=>this._scrollStrategy.scrolledIndexChange.subscribe(u=>Promise.resolve().then(()=>this.ngZone.run(()=>d.next(u))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=on.EMPTY,this._viewportChanges=c.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(H1(null),B9(0,MRe)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Ti(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function xRe(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const s="horizontal"==this.orientation,a=s?"X":"Y";let c=`translate${a}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(c+=` translate${a}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=c&&(this._renderedContentTransform=c,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",s="right",a="rtl"==this.dir?.value;i="start"==t?a?s:r:"end"==t?a?r:s:t||("horizontal"===this.orientation?"left":"top");const o=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-o}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(Bi),D(it),D(_Re,8),D(yr,8),D(ju),D(B1),D(RP,8))},n.\u0275cmp=en({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&Gt(mRe,7),2&t){let r;Je(r=et())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&dn("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[ct([{provide:kP,useFactory:(e,t)=>e||t,deps:[[new Cl,new h0(RP)],n]}]),xe,Vx],ngContentSelectors:gRe,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(gs(),ve(0,"div",0,1),On(2),Se(),Tt(3,"div",2)),2&t&&(Ae(3),es("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),U9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({}),n})(),G9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({imports:[n4,U9,CRe,n4,U9]}),n})();class W9{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class j9 extends W9{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class $u extends W9{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class wRe extends W9{constructor(e){super(),this.element=e instanceof ot?e.nativeElement:e}}class $9{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof j9?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof $u?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof wRe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class SRe extends $9{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const o=a.element,c=this._document.createComment("dom-portal");o.parentNode.insertBefore(c,o),this.outletElement.appendChild(o),this._attachedPortal=a,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(o,c)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||er.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let DRe=(()=>{class n extends $u{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(D(Bn),D(ai))},n.\u0275dir=ce({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[xe]}),n})(),Zc=(()=>{class n extends $9{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Rt,this.attachDomPortal=s=>{const a=s.element,o=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(o,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{o.parentNode&&o.parentNode.replaceChild(a,o)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),a=i.createComponent(s,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=t,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(D(Go),D(ai),D(At))},n.\u0275dir=ce({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[xe]}),n})(),M4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({}),n})();const NP=FR();class ERe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=hi(-this._previousScrollPosition.left),e.style.top=hi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),NP&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),NP&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class TRe{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class PP{enable(){}disable(){}attach(){}}function q9(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function FP(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class ARe{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();q9(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let LRe=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new PP,this.close=a=>new TRe(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new ERe(this._viewportRuler,this._document),this.reposition=a=>new ARe(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(Y(ju),Y(B1),Y(it),Y(At))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class OP{constructor(e){if(this.scrollStrategy=new PP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class VRe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let BP=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(Y(At))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zRe=(()=>{class n extends BP{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const o=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>o.next(r)):o.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(Y(At),Y(it,8))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HRe=(()=>{class n extends BP{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=_o(s)},this._clickListener=s=>{const a=_o(s),o="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const d=c[l];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(a)||d.overlayElement.contains(o))break;const u=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(s)):u.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(Y(At),Y(ni),Y(it,8))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qu=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||q7()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),q7()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(Y(At),Y(ni))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class C4{constructor(e,t,i,r,s,a,o,c,l,d=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=o,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new Ye,this._attachments=new Ye,this._detachments=new Ye,this._locationChanges=on.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new Ye,this._outsidePointerEvents=new Ye,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ys(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=hi(this._config.width),e.height=hi(this._config.height),e.minWidth=hi(this._config.minWidth),e.minHeight=hi(this._config.minHeight),e.maxWidth=hi(this._config.maxWidth),e.maxHeight=hi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=gu(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ti(Ho(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const UP="cdk-overlay-connected-position-bounding-box",IRe=/([A-Za-z%]+)$/;class kRe{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ye,this._resizeSubscription=on.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(UP),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let a;for(let o of this._preferredPositions){let c=this._getOriginPoint(e,r,o),l=this._getOverlayPoint(c,t,o),d=this._getOverlayFit(l,t,i,o);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,c);this._canFitWithFlexibleDimensions(d,l,i)?s.push({position:o,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,o)}):(!a||a.overlayFit.visibleArea<d.visibleArea)&&(a={overlayFit:d,overlayPoint:l,originPoint:c,position:o,overlayRect:t})}if(s.length){let o=null,c=-1;for(const l of s){const d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,o=l)}return this._isPushed=!1,void this._applyPosition(o.position,o.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&U1(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(UP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const a=this._isRtl()?e.right:e.left,o=this._isRtl()?e.left:e.right;r="start"==i.originX?a:o}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=WP(t);let{x:a,y:o}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(a+=c),l&&(o+=l);let f=0-o,h=o+s.height-i.height,p=this._subtractOverflows(s.width,0-a,a+s.width-i.width),m=this._subtractOverflows(s.height,f,h),g=p*m;return{visibleArea:g,isCompletelyWithinViewport:s.width*s.height===g,fitsInViewportVertically:m===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,a=GP(this._overlayRef.getConfig().minHeight),o=GP(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=a&&a<=r)&&(e.fitsInViewportHorizontally||null!=o&&o<=s)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=WP(t),s=this._viewportRect,a=Math.max(e.x+r.width-s.width,0),o=Math.max(e.y+r.height-s.height,0),c=Math.max(s.top-i.top-e.y,0),l=Math.max(s.left-i.left-e.x,0);let d=0,u=0;return d=r.width<=s.width?l||-a:e.x<this._viewportMargin?s.left-i.left-e.x:0,u=r.height<=s.height?c||-o:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:d,y:u},{x:e.x+d,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new VRe(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,a,o,d,u,f;if("top"===t.overlayY)a=e.y,s=i.height-a+this._viewportMargin;else if("bottom"===t.overlayY)o=i.height-e.y+2*this._viewportMargin,s=i.height-o+this._viewportMargin;else{const h=Math.min(i.bottom-e.y+i.top,e.y),p=this._lastBoundingBoxSize.height;s=2*h,a=e.y-h,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.y-p/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)f=i.width-e.x+this._viewportMargin,d=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)u=e.x,d=i.right-e.x;else{const h=Math.min(i.right-e.x+i.left,e.x),p=this._lastBoundingBoxSize.width;d=2*h,u=e.x-h,d>p&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.x-p/2)}return{top:a,left:u,bottom:o,right:f,width:d,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=hi(i.height),r.top=hi(i.top),r.bottom=hi(i.bottom),r.width=hi(i.width),r.left=hi(i.left),r.right=hi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=hi(s)),a&&(r.maxWidth=hi(a))}this._lastBoundingBoxSize=i,U1(this._boundingBox.style,r)}_resetBoundingBoxStyles(){U1(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){U1(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();U1(i,this._getExactOverlayY(t,e,d)),U1(i,this._getExactOverlayX(t,e,d))}else i.position="static";let o="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(o+=`translateX(${c}px) `),l&&(o+=`translateY(${l}px)`),i.transform=o.trim(),a.maxHeight&&(r?i.maxHeight=hi(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=hi(a.maxWidth):s&&(i.maxWidth="")),U1(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=hi(s.y),r}_getExactOverlayX(e,t,i){let a,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=hi(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:FP(e,i),isOriginOutsideView:q9(e,i),isOverlayClipped:FP(t,i),isOverlayOutsideView:q9(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&gu(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof ot)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function U1(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function GP(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(IRe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function WP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const jP="cdk-global-overlay-wrapper";class RRe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(jP),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:o}=i,c=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),l=!("100%"!==s&&"100vh"!==s||o&&"100%"!==o&&"100vh"!==o),d=this._xPosition,u=this._xOffset,f="rtl"===this._overlayRef.getConfig().direction;let h="",p="",m="";c?m="flex-start":"center"===d?(m="center",f?p=u:h=u):f?"left"===d||"end"===d?(m="flex-end",h=u):("right"===d||"start"===d)&&(m="flex-start",p=u):"left"===d||"start"===d?(m="flex-start",h=u):("right"===d||"end"===d)&&(m="flex-end",p=u),e.position=this._cssPosition,e.marginLeft=c?"0":h,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":p,t.justifyContent=m,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(jP),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let NRe=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new RRe}flexibleConnectedTo(t){return new kRe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(Y(B1),Y(At),Y(ni),Y(qu))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PRe=0,G1=(()=>{class n{constructor(t,i,r,s,a,o,c,l,d,u,f,h){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=o,this._ngZone=c,this._document=l,this._directionality=d,this._location=u,this._outsideClickDispatcher=f,this._animationsModuleType=h}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new OP(t);return a.direction=a.direction||this._directionality.value,new C4(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+PRe++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ql)),new SRe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(Y(LRe),Y(qu),Y(Go),Y(NRe),Y(zRe),Y(er),Y(it),Y(At),Y(yr),Y(e5),Y(HRe),Y(sr,8))},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BRe={provide:new de("cdk-connected-overlay-scroll-strategy"),deps:[G1],useFactory:function ORe(n){return()=>n.scrollStrategies.reposition()}};let X9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({providers:[G1,BRe],imports:[n4,M4,G9,G9]}),n})();function $P(n){return new st(e=>{pr(n()).subscribe(e)})}function URe(n,e){}class Xu{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let qP=(()=>{class n extends $9{constructor(t,i,r,s,a,o,c,l){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=a,this._ngZone=o,this._overlayRef=c,this._focusMonitor=l,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const u=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),u},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=$7(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=$7();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=$7())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(t9),D(At,8),D(Xu),D(_u),D(it),D(C4),D(t4))},n.\u0275cmp=en({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&Gt(Zc,7),2&t){let r;Je(r=et())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&En("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[xe],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&Ue(0,URe,0,0,"ng-template",0)},dependencies:[Zc],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class Y9{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Ye,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!pu(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const XP=new de("DialogScrollStrategy"),GRe=new de("DialogData"),WRe=new de("DefaultDialogConfig"),$Re={provide:XP,deps:[G1],useFactory:function jRe(n){return()=>n.scrollStrategies.block()}};let qRe=0,YP=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,s,a,o){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ye,this._afterOpenedAtThisLevel=new Ye,this._ariaHiddenElements=new Map,this.afterAllClosed=$P(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(H1(void 0))),this._scrollStrategy=o}open(t,i){(i={...this._defaultOptions||new Xu,...i}).id=i.id||"cdk-dialog-"+qRe++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),a=this._overlay.create(s),o=new Y9(a,i),c=this._attachContainer(a,o,i);return o.containerInstance=c,this._attachDialogContent(t,o,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.closed.subscribe(()=>this._removeOpenDialog(o,!0)),this.afterOpened.next(o),o}closeAll(){K9(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){K9(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),K9(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new OP({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const s=r.injector||r.viewContainerRef?.injector,a=[{provide:Xu,useValue:r},{provide:Y9,useValue:i},{provide:C4,useValue:t}];let o;r.container?"function"==typeof r.container?o=r.container:(o=r.container.type,a.push(...r.container.providers(r))):o=qP;const c=new j9(o,r.viewContainerRef,er.create({parent:s||this._injector,providers:a}),r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,s){if(t instanceof Bn){const a=this._createInjector(s,i,r,void 0);let o={$implicit:s.data,dialogRef:i};s.templateContext&&(o={...o,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new $u(t,null,o,a))}else{const a=this._createInjector(s,i,r,this._injector),o=r.attachComponentPortal(new j9(t,s.viewContainerRef,a,s.componentFactoryResolver));i.componentInstance=o.instance}}_createInjector(t,i,r,s){const a=t.injector||t.viewContainerRef?.injector,o=[{provide:GRe,useValue:t.data},{provide:Y9,useValue:i}];return t.providers&&("function"==typeof t.providers?o.push(...t.providers(i,t,r)):o.push(...t.providers)),t.direction&&(!a||!a.get(yr,null,{optional:!0}))&&o.push({provide:yr,useValue:{value:t.direction,change:z1()}}),er.create({parent:a||s,providers:o})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(Y(G1),Y(er),Y(WRe,8),Y(n,12),Y(qu),Y(XP))},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})();function K9(n,e){let t=n.length;for(;t--;)e(n[t])}let XRe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({providers:[YP,$Re],imports:[X9,M4,sN,M4]}),n})();function YRe(n,e){}class Yu{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Z9="mdc-dialog--open",KP="mdc-dialog--opening",ZP="mdc-dialog--closing";let QRe=(()=>{class n extends qP{constructor(t,i,r,s,a,o,c,l){super(t,i,r,s,a,o,c,l),this._animationStateChanged=new Rt}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(t9),D(At,8),D(Yu),D(_u),D(it),D(C4),D(t4))},n.\u0275cmp=en({type:n,selectors:[["ng-component"]],features:[xe],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();const QP="--mat-dialog-transition-duration";function JP(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?fi(n.substring(0,n.length-2)):n.endsWith("s")?1e3*fi(n.substring(0,n.length-1)):"0"===n?0:null}let JRe=(()=>{class n extends QRe{constructor(t,i,r,s,a,o,c,l,d){super(t,i,r,s,a,o,c,d),this._animationMode=l,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?JP(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?JP(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(QP,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(KP),this._hostElement.classList.add(Z9),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Z9),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(Z9),this._animationsEnabled?(this._hostElement.style.setProperty(QP,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(ZP),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(KP),this._hostElement.classList.remove(ZP)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(t9),D(At,8),D(Yu),D(_u),D(it),D(C4),D(sr,8),D(t4))},n.\u0275cmp=en({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,i){2&t&&(P2("id",i._config.id),En("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),dn("_mat-animation-noopable",!i._animationsEnabled))},features:[xe],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(ve(0,"div",0)(1,"div",1),Ue(2,YRe,0,0,"ng-template",2),Se()())},dependencies:[Zc],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class eF{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new Ye,this._beforeClosed=new Ye,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(Ta(r=>"opened"===r.state),Ys(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Ta(r=>"closed"===r.state),Ys(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Ho(this.backdropClick(),this.keydownEvents().pipe(Ta(r=>27===r.keyCode&&!this.disableClose&&!pu(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function eNe(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ta(t=>"closing"===t.state),Ys(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const tNe=new de("MatMdcDialogData"),nNe=new de("mat-mdc-dialog-default-options"),tF=new de("mat-mdc-dialog-scroll-strategy"),rNe={provide:tF,deps:[G1],useFactory:function iNe(n){return()=>n.scrollStrategies.block()}};let sNe=0,aNe=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,s,a,o,c,l,d,u){this._overlay=t,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=c,this._dialogContainerType=l,this._dialogDataToken=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ye,this._afterOpenedAtThisLevel=new Ye,this._idPrefix="mat-dialog-",this.dialogConfigClass=Yu,this.afterAllClosed=$P(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(H1(void 0))),this._scrollStrategy=o,this._dialog=i.get(YP)}open(t,i){let r;(i={...this._defaultOptions||new Yu,...i}).id=i.id||`${this._idPrefix}${sNe++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Xu,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,o,c)=>(r=new this._dialogRefConstructor(a,i,c),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:o.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){Kh()},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})(),nF=(()=>{class n extends aNe{constructor(t,i,r,s,a,o,c,l){super(t,i,s,o,c,a,eF,JRe,tNe,l),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(Y(G1),Y(er),Y(e5,8),Y(nNe,8),Y(tF),Y(n,12),Y(qu),Y(sr,8))},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})(),oNe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({providers:[nF,rNe],imports:[XRe,X9,M4,pi,pi]}),n})();class lNe extends st{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,mn(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new on;const t=this.getSubject();e.add(this.source.subscribe(Mt(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=on.EMPTY)}return e}refCount(){return function cNe(){return Kt((n,e)=>{let t=null;n._refCount++;const i=Mt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}()(this)}}function Q9(n){return n&&"function"==typeof n.connect&&!(n instanceof lNe)}class rF{applyChanges(e,t,i,r,s){e.forEachOperation((a,o,c)=>{let l,d;if(null==a.previousIndex){const u=i(a,o,c);l=t.createEmbeddedView(u.templateRef,u.context,u.index),d=1}else null==c?(t.remove(o),d=3):(l=t.get(o),t.move(l,c),d=2);s&&s({context:l?.context,operation:d,record:a})})}detach(){}}const w4=new de("_ViewRepeater"),uNe=[[["caption"]],[["colgroup"],["col"]]],fNe=["caption","colgroup, col"];function J9(n){return class extends n{get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=Vn(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}}}const Qc=new de("CDK_TABLE");let Jc=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(D(Bn))},n.\u0275dir=ce({type:n,selectors:[["","cdkCellDef",""]]}),n})(),el=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(D(Bn))},n.\u0275dir=ce({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),Ku=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(D(Bn))},n.\u0275dir=ce({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class gNe{}const _Ne=J9(gNe);let Ra=(()=>{class n extends _Ne{get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=Vn(t),this._hasStickyChanged=i!==this._stickyEnd}constructor(t){super(),this._table=t,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(D(Qc,8))},n.\u0275dir=ce({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,r){if(1&t&&(Xn(r,Jc,5),Xn(r,el,5),Xn(r,Ku,5)),2&t){let s;Je(s=et())&&(i.cell=s.first),Je(s=et())&&(i.headerCell=s.first),Je(s=et())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[ct([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),xe]}),n})();class eg{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let tg=(()=>{class n extends eg{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(D(Ra),D(ot))},n.\u0275dir=ce({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[xe]}),n})(),ng=(()=>{class n extends eg{constructor(t,i){if(super(t,i),1===t._table?._elementRef.nativeElement.nodeType){const r=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(D(Ra),D(ot))},n.\u0275dir=ce({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[xe]}),n})();class oF{constructor(){this.tasks=[],this.endTasks=[]}}const ig=new de("_COALESCED_STYLE_SCHEDULER");let cF=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Ye}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new oF,this._getScheduleObservable().pipe(Ti(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new oF;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?zo(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ys(1))}}return n.\u0275fac=function(t){return new(t||n)(Y(it))},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})(),rg=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof S4?t.headerCell.template:this instanceof D4?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(D(Bn),D(ha))},n.\u0275dir=ce({type:n,features:[zi]}),n})();class vNe extends rg{}const bNe=J9(vNe);let S4=(()=>{class n extends bNe{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(D(Bn),D(ha),D(Qc,8))},n.\u0275dir=ce({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[xe,zi]}),n})();class yNe extends rg{}const xNe=J9(yNe);let D4=(()=>{class n extends xNe{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(D(Bn),D(ha),D(Qc,8))},n.\u0275dir=ce({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[xe,zi]}),n})(),Zu=(()=>{class n extends rg{constructor(t,i,r){super(t,i),this._table=r}}return n.\u0275fac=function(t){return new(t||n)(D(Bn),D(ha),D(Qc,8))},n.\u0275dir=ce({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[xe]}),n})(),Na=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(D(ai))},n.\u0275dir=ce({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),sg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=en({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&Hr(0,0)},dependencies:[Na],encapsulation:2}),n})(),og=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=en({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&Hr(0,0)},dependencies:[Na],encapsulation:2}),n})(),Qu=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(D(Bn))},n.\u0275dir=ce({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const lF=["top","bottom","left","right"];class MNe{constructor(e,t,i,r,s=!0,a=!0,o){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=a,this._positionListener=o,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0){if(!e.length||!this._isBrowser||!t.some(f=>f)&&!i.some(f=>f))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=e[0],a=s.children.length,o=this._getCellWidths(s,r),c=this._getStickyStartColumnPositions(o,t),l=this._getStickyEndColumnPositions(o,i),d=t.lastIndexOf(!0),u=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const f="rtl"===this.direction,h=f?"right":"left",p=f?"left":"right";for(const m of e)for(let g=0;g<a;g++){const v=m.children[g];t[g]&&this._addStickyStyle(v,h,c[g],g===d),i[g]&&this._addStickyStyle(v,p,l[g],g===u)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===d?[]:o.slice(0,d+1).map((m,g)=>t[g]?m:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===u?[]:o.slice(u).map((m,g)=>i[g+u]?m:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const r="bottom"===i?e.slice().reverse():e,s="bottom"===i?t.slice().reverse():t,a=[],o=[],c=[];for(let d=0,u=0;d<r.length;d++){if(!s[d])continue;a[d]=u;const f=r[d];c[d]=this._isNativeHtmlTable?Array.from(f.children):[f];const h=f.getBoundingClientRect().height;u+=h,o[d]=h}const l=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let d=0;d<r.length;d++){if(!s[d])continue;const u=a[d],f=d===l;for(const h of c[d])this._addStickyStyle(h,i,u,f)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:o,offsets:a,elements:c}):this._positionListener?.stickyFooterRowsUpdated({sizes:o,offsets:a,elements:c})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);lF.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const r of lF)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let r=0;for(let s=0;s<e.length;s++)t[s]&&(i[s]=r,r+=e[s]);return i}_getStickyEndColumnPositions(e,t){const i=[];let r=0;for(let s=e.length;s>0;s--)t[s]&&(i[s]=r,r+=e[s]);return i}}const cg=new de("CDK_SPL");let Ju=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(D(ai),D(ot))},n.\u0275dir=ce({type:n,selectors:[["","rowOutlet",""]]}),n})(),ef=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(D(ai),D(ot))},n.\u0275dir=ce({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),tf=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(D(ai),D(ot))},n.\u0275dir=ce({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),nf=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(D(ai),D(ot))},n.\u0275dir=ce({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),rf=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Vn(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=Vn(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,i,r,s,a,o,c,l,d,u,f,h){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=a,this._platform=c,this._viewRepeater=l,this._coalescedStyleScheduler=d,this._viewportRuler=u,this._stickyPositioningListener=f,this._ngZone=h,this._onDestroy=new Ye,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Rt,this.viewChange=new OR({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=o,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Ti(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Q9(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,s,a)=>this._getEmbeddedViewArgs(r.item,a),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&it.isInAngularZone()?this._ngZone.onStable.pipe(Ys(1),Ti(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const s=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,s,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const s=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,a)=>{this._addStickyColumnStyles([s],this._headerRowDefs[a])}),this._rowDefs.forEach(s=>{const a=[];for(let o=0;o<i.length;o++)this._renderRows[o].rowDef===s&&a.push(i[o]);this._addStickyColumnStyles(a,s)}),r.forEach((s,a)=>{this._addStickyColumnStyles([s],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const a=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let o=0;o<a.length;o++){let c=a[o];const l=this._cachedRenderRowsMap.get(c.data);l.has(c.rowDef)?l.get(c.rowDef).push(c):l.set(c.rowDef,[c]),t.push(c)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(a=>{const o=r&&r.has(a)?r.get(a):[];if(o.length){const c=o.shift();return c.dataIndex=i,c}return{data:t,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),sf(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=sf(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=sf(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=sf(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(a,o)=>a||!!o.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(t){this._data=[],Q9(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;Q9(this.dataSource)?t=this.dataSource.connect(this):function dNe(n){return!!n&&(n instanceof st||It(n.lift)&&It(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=z1(this.dataSource)),this._renderChangeSubscription=t.pipe(Ti(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const r=Array.from(i.columns||[]).map(o=>this._columnDefsByName.get(o)),s=r.map(o=>o.sticky),a=r.map(o=>o.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let r=0;r<t.viewContainer.length;r++){const s=t.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,t));else{let s=this._rowDefs.find(a=>a.when&&a.when(i,t))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,r,s={}){const a=t.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),a}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))Na.mostRecentCellOutlet&&Na.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const a=t.get(i).context;a.count=r,a.first=0===i,a.last=i===r-1,a.even=i%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const a of r.outlets)s.appendChild(a.elementRef.nativeElement);t.appendChild(s)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new MNe(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:z1()).pipe(Ti(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(t.templateRef),a=s.rootNodes[0];1===s.rootNodes.length&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(t){return new(t||n)(D(ha),D(Bi),D(ot),function d0(n){return function WB(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if($_(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(Ii(),n)}("role"),D(yr,8),D(At),D(ni),D(w4),D(ig),D(B1),D(cg,12),D(it,8))},n.\u0275cmp=en({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,r){if(1&t&&(Xn(r,Qu,5),Xn(r,Ra,5),Xn(r,Zu,5),Xn(r,S4,5),Xn(r,D4,5)),2&t){let s;Je(s=et())&&(i._noDataRow=s.first),Je(s=et())&&(i._contentColumnDefs=s),Je(s=et())&&(i._contentRowDefs=s),Je(s=et())&&(i._contentHeaderRowDefs=s),Je(s=et())&&(i._contentFooterRowDefs=s)}},viewQuery:function(t,i){if(1&t&&(Gt(Ju,7),Gt(ef,7),Gt(tf,7),Gt(nf,7)),2&t){let r;Je(r=et())&&(i._rowOutlet=r.first),Je(r=et())&&(i._headerRowOutlet=r.first),Je(r=et())&&(i._footerRowOutlet=r.first),Je(r=et())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){2&t&&dn("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[ct([{provide:Qc,useExisting:n},{provide:w4,useClass:rF},{provide:ig,useClass:cF},{provide:cg,useValue:null}])],ngContentSelectors:fNe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(gs(uNe),On(0),On(1,1),Hr(2,0)(3,1)(4,2)(5,3))},dependencies:[Ju,ef,tf,nf],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function sf(n,e){return n.concat(Array.from(e))}let wNe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({imports:[G9]}),n})();const SNe=[[["caption"]],[["colgroup"],["col"]]],DNe=["caption","colgroup, col"];let uF=(()=>{class n extends rf{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275cmp=en({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,i){2&t&&dn("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[ct([{provide:rf,useExisting:n},{provide:Qc,useExisting:n},{provide:ig,useClass:cF},{provide:w4,useClass:rF},{provide:cg,useValue:null}]),xe],ngContentSelectors:DNe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(gs(SNe),On(0),On(1,1),Hr(2,0)(3,1)(4,2)(5,3))},dependencies:[Ju,ef,tf,nf],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),lg=(()=>{class n extends Jc{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275dir=ce({type:n,selectors:[["","matCellDef",""]],features:[ct([{provide:Jc,useExisting:n}]),xe]}),n})(),dg=(()=>{class n extends el{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275dir=ce({type:n,selectors:[["","matHeaderCellDef",""]],features:[ct([{provide:el,useExisting:n}]),xe]}),n})(),ug=(()=>{class n extends Ra{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275dir=ce({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[ct([{provide:Ra,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),xe]}),n})(),fg=(()=>{class n extends tg{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275dir=ce({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[xe]}),n})(),hg=(()=>{class n extends ng{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275dir=ce({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[xe]}),n})(),fF=(()=>{class n extends S4{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275dir=ce({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[ct([{provide:S4,useExisting:n}]),xe]}),n})(),hF=(()=>{class n extends Zu{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275dir=ce({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[ct([{provide:Zu,useExisting:n}]),xe]}),n})(),pF=(()=>{class n extends sg{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275cmp=en({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[ct([{provide:sg,useExisting:n}]),xe],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&Hr(0,0)},dependencies:[Na],encapsulation:2}),n})(),mF=(()=>{class n extends og{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275cmp=en({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[ct([{provide:og,useExisting:n}]),xe],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&Hr(0,0)},dependencies:[Na],encapsulation:2}),n})(),RNe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({imports:[pi,wNe,pi]}),n})();function FNe(n,e){}const ONe=function(n){return{animationDuration:n}},BNe=function(n,e){return{value:n,params:e}};function UNe(n,e){1&n&&On(0)}const gF=["*"],GNe=["tabListContainer"],WNe=["tabList"],jNe=["tabListInner"],$Ne=["nextPaginator"],qNe=["previousPaginator"],XNe=["tabBodyWrapper"],YNe=["tabHeader"];function KNe(n,e){}function ZNe(n,e){1&n&&Ue(0,KNe,0,0,"ng-template",14),2&n&&Ve("cdkPortalOutlet",tn().$implicit.templateLabel)}function QNe(n,e){1&n&&nn(0),2&n&&Za(tn().$implicit.textLabel)}function JNe(n,e){if(1&n){const t=Ya();ve(0,"div",6,7),Ft("click",function(){const r=Is(t),s=r.$implicit,a=r.index,o=tn(),c=Xa(1);return ks(o._handleClick(s,c,a))})("cdkFocusChange",function(r){const a=Is(t).index;return ks(tn()._tabFocusChanged(r,a))}),Tt(2,"span",8)(3,"div",9),ve(4,"span",10)(5,"span",11),Ue(6,ZNe,1,1,"ng-template",12),Ue(7,QNe,1,1,"ng-template",null,13,G0),Se()()()}if(2&n){const t=e.$implicit,i=e.index,r=Xa(1),s=Xa(8),a=tn();dn("mdc-tab--active",a.selectedIndex===i),Ve("id",a._getTabLabelId(i))("ngClass",t.labelClass)("disabled",t.disabled)("fitInkBarToContent",a.fitInkBarToContent),En("tabIndex",a._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",a._tabs.length)("aria-controls",a._getTabContentId(i))("aria-selected",a.selectedIndex===i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),Ae(3),Ve("matRippleTrigger",r)("matRippleDisabled",t.disabled||a.disableRipple),Ae(3),Ve("ngIf",t.templateLabel)("ngIfElse",s)}}function ePe(n,e){if(1&n){const t=Ya();ve(0,"mat-tab-body",15),Ft("_onCentered",function(){return Is(t),ks(tn()._removeTabBodyWrapperHeight())})("_onCentering",function(r){return Is(t),ks(tn()._setTabBodyWrapperHeight(r))}),Se()}if(2&n){const t=e.$implicit,i=e.index,r=tn();dn("mat-mdc-tab-body-active",r.selectedIndex===i),Ve("id",r._getTabContentId(i))("ngClass",t.bodyClass)("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),En("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))}}const tPe={translateTab:a4("translateTab",[I1("center, void, left-origin-center, right-origin-center",qi({transform:"none"})),I1("left",qi({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),I1("right",qi({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Va("* => left, * => right, left => center, right => center",vo("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Va("void => left-origin-center",[qi({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),vo("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Va("void => right-origin-center",[qi({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),vo("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let nPe=(()=>{class n extends Zc{constructor(t,i,r,s){super(t,i,s),this._host=r,this._centeringSub=on.EMPTY,this._leavingSub=on.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(H1(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(D(Go),D(ai),D(ln(()=>_F)),D(At))},n.\u0275dir=ce({type:n,selectors:[["","matTabBodyHost",""]],features:[xe]}),n})(),iPe=(()=>{class n{set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(t,i,r){this._elementRef=t,this._dir=i,this._dirChangeSubscription=on.EMPTY,this._translateTabComplete=new Ye,this._onCentering=new Rt,this._beforeCentering=new Rt,this._afterLeavingCenter=new Rt,this._onCentered=new Rt(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(s=>{this._computePositionAnimationState(s),r.markForCheck()})),this._translateTabComplete.pipe(GR((s,a)=>s.fromState===a.fromState&&s.toState===a.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const i=this._isCenterPosition(t.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const i=this._getLayoutDirection();return"ltr"==i&&t<=0||"rtl"==i&&t>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(yr,8),D(Bi))},n.\u0275dir=ce({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),_F=(()=>{class n extends iPe{constructor(t,i,r){super(t,i,r)}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(yr,8),D(Bi))},n.\u0275cmp=en({type:n,selectors:[["mat-tab-body"]],viewQuery:function(t,i){if(1&t&&Gt(Zc,5),2&t){let r;Je(r=et())&&(i._portalHost=r.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[xe],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,i){1&t&&(ve(0,"div",0,1),Ft("@translateTab.start",function(s){return i._onTranslateTabStarted(s)})("@translateTab.done",function(s){return i._translateTabComplete.next(s)}),Ue(2,FNe,0,0,"ng-template",2),Se()),2&t&&Ve("@translateTab",Fx(3,BNe,i._position,Px(1,ONe,i.animationDuration)))},dependencies:[nPe],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[tPe.translateTab]}}),n})();const rPe=new de("MatTabContent");let sPe=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(D(Bn))},n.\u0275dir=ce({type:n,selectors:[["","matTabContent",""]],features:[ct([{provide:rPe,useExisting:n}])]}),n})();const aPe=new de("MatTabLabel"),vF=new de("MAT_TAB");let oPe=(()=>{class n extends DRe{constructor(t,i,r){super(t,i),this._closestTab=r}}return n.\u0275fac=function(t){return new(t||n)(D(Bn),D(ai),D(vF,8))},n.\u0275dir=ce({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[ct([{provide:aPe,useExisting:n}]),xe]}),n})();const pg="mdc-tab-indicator--active",bF="mdc-tab-indicator--no-transition";class cPe{constructor(e){this._items=e}hide(){this._items.forEach(e=>e.deactivateInkBar())}alignToElement(e){const t=this._items.find(r=>r.elementRef.nativeElement===e),i=this._currentItem;if(i?.deactivateInkBar(),t){const r=i?.elementRef.nativeElement.getBoundingClientRect?.();t.activateInkBar(r),this._currentItem=t}}}function lPe(n){return class extends n{constructor(...e){super(...e),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){const t=Vn(e);this._fitToContent!==t&&(this._fitToContent=t,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){const t=this.elementRef.nativeElement;if(!e||!t.getBoundingClientRect||!this._inkBarContentElement)return void t.classList.add(pg);const i=t.getBoundingClientRect(),r=e.width/i.width,s=e.left-i.left;t.classList.add(bF),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${r})`),t.getBoundingClientRect(),t.classList.remove(bF),t.classList.add(pg),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(pg)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const e=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=e.createElement("span"),this._inkBarContentElement=e.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const uPe=i9(class{}),fPe=lPe((()=>{class n extends uPe{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(t){return new(t||n)(D(ot))},n.\u0275dir=ce({type:n,features:[xe]}),n})());let yF=(()=>{class n extends fPe{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275dir=ce({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,i){2&t&&(En("aria-disabled",!!i.disabled),dn("mat-mdc-tab-disabled",i.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[xe]}),n})();const hPe=i9(class{}),xF=new de("MAT_TAB_GROUP");let pPe=(()=>{class n extends hPe{get content(){return this._contentPortal}constructor(t,i){super(),this._viewContainerRef=t,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new Ye,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new $u(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}}return n.\u0275fac=function(t){return new(t||n)(D(ai),D(xF,8))},n.\u0275dir=ce({type:n,viewQuery:function(t,i){if(1&t&&Gt(Bn,7),2&t){let r;Je(r=et())&&(i._implicitContent=r.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[xe,zi]}),n})(),MF=(()=>{class n extends pPe{get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Ut(n)))(i||n)}}(),n.\u0275cmp=en({type:n,selectors:[["mat-tab"]],contentQueries:function(t,i,r){if(1&t&&(Xn(r,sPe,7,Bn),Xn(r,oPe,5)),2&t){let s;Je(s=et())&&(i._explicitContent=s.first),Je(s=et())&&(i.templateLabel=s.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[ct([{provide:vF,useExisting:n}]),xe],ngContentSelectors:gF,decls:1,vars:0,template:function(t,i){1&t&&(gs(),Ue(0,UNe,1,0,"ng-template"))},encapsulation:2}),n})();const CF=Uc({passive:!0});let _Pe=(()=>{class n{get disablePagination(){return this._disablePagination}set disablePagination(t){this._disablePagination=Vn(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=fi(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}constructor(t,i,r,s,a,o,c){this._elementRef=t,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=s,this._ngZone=a,this._platform=o,this._animationMode=c,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Ye,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Ye,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new Rt,this.indexFocused=new Rt,a.runOutsideAngular(()=>{O1(t.nativeElement,"mouseleave").pipe(Ti(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){O1(this._previousPaginator.nativeElement,"touchstart",CF).pipe(Ti(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),O1(this._nextPaginator.nativeElement,"touchstart",CF).pipe(Ti(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:z1("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new QVe(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Ys(1)).subscribe(r),Ho(t,i,this._items.changes,this._itemsResized()).pipe(Ti(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return"function"!=typeof ResizeObserver?al:this._items.changes.pipe(H1(this._items),function PNe(n,e){return Kt((t,i)=>{let r=null,s=0,a=!1;const o=()=>a&&!r&&i.complete();t.subscribe(Mt(i,c=>{r?.unsubscribe();let l=0;const d=s++;pr(n(c,d)).subscribe(r=Mt(i,u=>i.next(e?e(c,u,d,l++):u),()=>{r=null,o()}))},()=>{a=!0,o()}))})}(t=>new st(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(s=>i.next(s));return t.forEach(s=>r.observe(s.elementRef.nativeElement)),()=>{r.disconnect()}}))),Q7(1),Ta(t=>t.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!pu(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return!this._items||!!this._items.toArray()[t]}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const i=this._items?this._items.toArray()[t]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:a}=i.elementRef.nativeElement;let o,c;"ltr"==this._getLayoutDirection()?(o=s,c=o+a):(c=this._tabListInner.nativeElement.offsetWidth-s,o=c-a);const l=this.scrollDistance,d=this.scrollDistance+r;o<l?this.scrollDistance-=l-o+60:c>d&&(this.scrollDistance+=c-d+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=t?t.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),IP(650,100).pipe(Ti(Ho(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:s}=this._scrollHeader(t);(0===s||s>=r)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(Bi),D(B1),D(yr,8),D(it),D(ni),D(sr,8))},n.\u0275dir=ce({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),vPe=(()=>{class n extends _Pe{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Vn(t)}constructor(t,i,r,s,a,o,c){super(t,i,r,s,a,o,c),this._disableRipple=!1}_itemSelected(t){t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(Bi),D(B1),D(yr,8),D(it),D(ni),D(sr,8))},n.\u0275dir=ce({type:n,inputs:{disableRipple:"disableRipple"},features:[xe]}),n})(),bPe=(()=>{class n extends vPe{constructor(t,i,r,s,a,o,c){super(t,i,r,s,a,o,c)}ngAfterContentInit(){this._inkBar=new cPe(this._items),super.ngAfterContentInit()}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(Bi),D(B1),D(yr,8),D(it),D(ni),D(sr,8))},n.\u0275cmp=en({type:n,selectors:[["mat-tab-header"]],contentQueries:function(t,i,r){if(1&t&&Xn(r,yF,4),2&t){let s;Je(s=et())&&(i._items=s)}},viewQuery:function(t,i){if(1&t&&(Gt(GNe,7),Gt(WNe,7),Gt(jNe,7),Gt($Ne,5),Gt(qNe,5)),2&t){let r;Je(r=et())&&(i._tabListContainer=r.first),Je(r=et())&&(i._tabList=r.first),Je(r=et())&&(i._tabListInner=r.first),Je(r=et())&&(i._nextPaginator=r.first),Je(r=et())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(t,i){2&t&&dn("mat-mdc-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[xe],ngContentSelectors:gF,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,i){1&t&&(gs(),ve(0,"button",0,1),Ft("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(s){return i._handlePaginatorPress("before",s)})("touchend",function(){return i._stopInterval()}),Tt(2,"div",2),Se(),ve(3,"div",3,4),Ft("keydown",function(s){return i._handleKeydown(s)}),ve(5,"div",5,6),Ft("cdkObserveContent",function(){return i._onContentChanges()}),ve(7,"div",7,8),On(9),Se()()(),ve(10,"button",9,10),Ft("mousedown",function(s){return i._handlePaginatorPress("after",s)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),Tt(12,"div",2),Se()),2&t&&(dn("mat-mdc-tab-header-pagination-disabled",i._disableScrollBefore),Ve("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),Ae(3),dn("_mat-animation-noopable","NoopAnimations"===i._animationMode),Ae(7),dn("mat-mdc-tab-header-pagination-disabled",i._disableScrollAfter),Ve("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},dependencies:[jc,jR],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2}),n})();const SF=new de("MAT_TABS_CONFIG");let yPe=0;const xPe=bu(r9(class{constructor(n){this._elementRef=n}}),"primary");let MPe=(()=>{class n extends xPe{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Vn(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=fi(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t+"")?t+"ms":t}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=fi(t,null)}get disablePagination(){return this._disablePagination}set disablePagination(t){this._disablePagination=Vn(t)}get preserveContent(){return this._preserveContent}set preserveContent(t){this._preserveContent=Vn(t)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&i.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}constructor(t,i,r,s){super(t),this._changeDetectorRef=i,this._animationMode=s,this._tabs=new U2,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=on.EMPTY,this._tabLabelSubscription=on.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new Rt,this.focusChange=new Rt,this.animationDone=new Rt,this.selectedTabChange=new Rt(!0),this._groupId=yPe++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=r?.contentTabIndex??null,this.preserveContent=!!r?.preserveContent}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(t));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,s)=>r.isActive=s===t),i||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-t,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){const i=this._tabs.toArray();let r;for(let s=0;s<i.length;s++)if(i[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,r=i[s];break}!r&&i[t]&&Promise.resolve().then(()=>{i[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(H1(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){const i=this._tabHeader;i&&(i.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const i=new wPe;return i.index=t,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[t]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Ho(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,i,r){i.focusIndex=r,t.disabled||(this.selectedIndex=r)}_getTabIndex(t){return t===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(t,i){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(Bi),D(SF,8),D(sr,8))},n.\u0275dir=ce({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[xe]}),n})(),CPe=(()=>{class n extends MPe{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(t){this._fitInkBarToContent=Vn(t),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(t){this._stretchTabs=Vn(t)}constructor(t,i,r,s){super(t,i,r,s),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!r||null==r.fitInkBarToContent)&&r.fitInkBarToContent}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(Bi),D(SF,8),D(sr,8))},n.\u0275cmp=en({type:n,selectors:[["mat-tab-group"]],contentQueries:function(t,i,r){if(1&t&&Xn(r,MF,5),2&t){let s;Je(s=et())&&(i._allTabs=s)}},viewQuery:function(t,i){if(1&t&&(Gt(XNe,5),Gt(YNe,5)),2&t){let r;Je(r=et())&&(i._tabBodyWrapper=r.first),Je(r=et())&&(i._tabHeader=r.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:6,hostBindings:function(t,i){2&t&&dn("mat-mdc-tab-group-dynamic-height",i.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===i.headerPosition)("mat-mdc-tab-group-stretch-tabs",i.stretchTabs)},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[ct([{provide:xF,useExisting:n}]),xe],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(t,i){1&t&&(ve(0,"mat-tab-header",0,1),Ft("indexFocused",function(s){return i._focusChanged(s)})("selectFocusedIndex",function(s){return i.selectedIndex=s}),Ue(2,JNe,9,17,"div",2),Se(),ve(3,"div",3,4),Ue(5,ePe,1,11,"mat-tab-body",5),Se()),2&t&&(Ve("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),Ae(2),Ve("ngForOf",i._tabs),Ae(1),dn("_mat-animation-noopable","NoopAnimations"===i._animationMode),Ae(2),Ve("ngForOf",i._tabs))},dependencies:[aC,f5,j2,Zc,jc,mze,_F,yF,bPe],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-top-width:2px}.mdc-tab-indicator .mdc-tab-indicator__content--icon{height:34px;font-size:34px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-tab.mdc-tab{height:48px;flex-grow:0}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none}.mat-mdc-tab .mdc-tab__text-label{display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-disabled{opacity:.4}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-mdc-tab-header-with-background-background-color, transparent)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab-indicator__content--underline,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before{border-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{border-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2}),n})();class wPe{}let SPe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({imports:[Yo,pi,M4,yu,J7,sN,pi]}),n})();function DPe(n,e){1&n&&(ve(0,"th",11),nn(1,"Name"),Se())}function EPe(n,e){if(1&n&&(ve(0,"td",12),nn(1),Se()),2&n){const t=e.$implicit;Ae(1),Za(t.name)}}function TPe(n,e){1&n&&(ve(0,"th",11),nn(1,"Image"),Se())}function APe(n,e){if(1&n&&(ve(0,"td",12),Tt(1,"img",13),Se()),2&n){const t=e.$implicit;Ae(1),Ve("src",t.img,Ll)}}function LPe(n,e){1&n&&Tt(0,"th",11)}function VPe(n,e){if(1&n){const t=Ya();ve(0,"td",12)(1,"button",14),Ft("click",function(){const s=Is(t).$implicit;return ks(tn().closeWithUrl(s.url))}),nn(2,"View"),Se()()}}function zPe(n,e){1&n&&Tt(0,"tr",15)}function HPe(n,e){1&n&&Tt(0,"tr",16)}function IPe(n,e){1&n&&(ve(0,"th",11),nn(1,"Name"),Se())}function kPe(n,e){if(1&n&&(ve(0,"td",12),nn(1),Se()),2&n){const t=e.$implicit;Ae(1),Za(t.name)}}function RPe(n,e){1&n&&(ve(0,"th",11),nn(1,"Image"),Se())}function NPe(n,e){if(1&n&&(ve(0,"td",12),Tt(1,"img",13),Se()),2&n){const t=e.$implicit;Ae(1),Ve("src",t.img,Ll)}}function PPe(n,e){1&n&&Tt(0,"th",11)}function FPe(n,e){if(1&n){const t=Ya();ve(0,"td",12)(1,"button",14),Ft("click",function(){const s=Is(t).$implicit;return ks(tn().closeWithUrl(s.url))}),nn(2,"View"),Se()()}}function OPe(n,e){1&n&&Tt(0,"tr",15)}function BPe(n,e){1&n&&Tt(0,"tr",16)}function UPe(n,e){1&n&&(ve(0,"th",11),nn(1,"Name"),Se())}function GPe(n,e){if(1&n&&(ve(0,"td",12),nn(1),Se()),2&n){const t=e.$implicit;Ae(1),Za(t.name)}}function WPe(n,e){1&n&&(ve(0,"th",11),nn(1,"Image"),Se())}function jPe(n,e){if(1&n&&(ve(0,"td",12),Tt(1,"img",13),Se()),2&n){const t=e.$implicit;Ae(1),Ve("src",t.img,Ll)}}function $Pe(n,e){1&n&&Tt(0,"th",11)}function qPe(n,e){if(1&n){const t=Ya();ve(0,"td",12)(1,"button",14),Ft("click",function(){const s=Is(t).$implicit;return ks(tn().closeWithUrl(s.url))}),nn(2,"View"),Se()()}}function XPe(n,e){1&n&&Tt(0,"tr",15)}function YPe(n,e){1&n&&Tt(0,"tr",16)}class E4{constructor(e){this.dialogRef=e,this.specialCasesList=[{name:"3-Body 2D - Figure 8",img:"assets/3-Body 2D - Figure 8.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/3-Body%202D%20-%20Figure%208.csv"},{name:"3-Body 2D - Broucke A 6",img:"assets/3-Body 2D - Broucke A 6.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/3-Body%202D%20-%20Broucke%20A%206.csv"}],this.nBodyCasesList=[{name:"4-Body 3D - Case 7",img:"assets/4-Body 3D - Case 7.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/4-Body%203D%20-%20Case%207.csv"},{name:"4-Body 3D - Case 9",img:"assets/4-Body 3D - Case 9.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/4-Body%203D%20-%20Case%209.csv"},{name:"4-Body 3D - Case 15",img:"assets/4-Body 3D - Case 15.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/4-Body%203D%20-%20Case%2015.csv"},{name:"4-Body 3D - Case 16",img:"assets/4-Body 3D - Case 16.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/4-Body%203D%20-%20Case%2016.csv"},{name:"4-Body 3D - Case 61",img:"assets/4-Body 3D - Case 61.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/4-Body%203D%20-%20Case%2061.csv"}],this.pendulumsCaseList=[{name:"Drop: -75 degrees",img:"assets/2-Body Spherical Pendulum - Case 175.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/2-Spherical%20Pendulum%203D%20-%20Case%20175.csv"},{name:"Drop: -60 degrees",img:"assets/2-Body Spherical Pendulum - Case 174.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/2-Spherical%20Pendulum%203D%20-%20Case%20174.csv"},{name:"Drop: -30 degrees",img:"assets/2-Body Spherical Pendulum - Case 173.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/2-Spherical%20Pendulum%203D%20-%20Case%20173.csv"},{name:"Drop: 0 degrees",img:"assets/2-Body Spherical Pendulum - Case 169.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/2-Spherical%20Pendulum%203D%20-%20Case%20169.csv"},{name:"Drop: +30 degrees",img:"assets/2-Body Spherical Pendulum - Case 170.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/2-Spherical%20Pendulum%203D%20-%20Case%20170.csv"},{name:"Drop: +60 degrees",img:"assets/2-Body Spherical Pendulum - Case 171.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/2-Spherical%20Pendulum%203D%20-%20Case%20171.csv"},{name:"Drop: +75 degrees",img:"assets/2-Body Spherical Pendulum - Case 172.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/2-Spherical%20Pendulum%203D%20-%20Case%20172.csv"},{name:"Backflip: -75 degrees",img:"assets/2-Body Spherical Pendulum - Case 178.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/2-Spherical%20Pendulum%203D%20-%20Case%20178.csv"},{name:"Backflip: -60 degrees",img:"assets/2-Body Spherical Pendulum - Case 177.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/2-Spherical%20Pendulum%203D%20-%20Case%20177.csv"},{name:"Backflip: -30 degrees",img:"assets/2-Body Spherical Pendulum - Case 176.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/2-Spherical%20Pendulum%203D%20-%20Case%20176.csv"},{name:"Backflip: 0 degrees",img:"assets/2-Body Spherical Pendulum - Case 165.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/2-Spherical%20Pendulum%203D%20-%20Case%20165.csv"},{name:"Backflip: +30 degrees",img:"assets/2-Body Spherical Pendulum - Case 166.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/2-Spherical%20Pendulum%203D%20-%20Case%20166.csv"},{name:"Backflip: +60 degrees",img:"assets/2-Body Spherical Pendulum - Case 167.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/2-Spherical%20Pendulum%203D%20-%20Case%20167.csv"},{name:"Backflip: +75 degrees",img:"assets/2-Body Spherical Pendulum - Case 168.png",url:"https://raw.githubusercontent.com/jajetloh/numerical-integrators-v4/main/data/2-Spherical%20Pendulum%203D%20-%20Case%20168.csv"}],this.columnsToShow=["name","img","select"]}closeWithUrl(e){this.dialogRef.close(e)}}E4.\u0275fac=function(e){return new(e||E4)(D(eF))},E4.\u0275cmp=en({type:E4,selectors:[["app-data-selection-dialog"]],decls:40,vars:9,consts:[["label","Special Cases"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","img"],["matColumnDef","select"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["label","Gravitational N-Body"],["label","Pendulums"],["mat-header-cell",""],["mat-cell",""],["height","200","width","200",3,"src"],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(ve(0,"mat-tab-group")(1,"mat-tab",0)(2,"table",1),tr(3,2),Ue(4,DPe,2,0,"th",3),Ue(5,EPe,2,1,"td",4),nr(),tr(6,5),Ue(7,TPe,2,0,"th",3),Ue(8,APe,2,1,"td",4),nr(),tr(9,6),Ue(10,LPe,1,0,"th",3),Ue(11,VPe,3,0,"td",4),nr(),Ue(12,zPe,1,0,"tr",7),Ue(13,HPe,1,0,"tr",8),Se()(),ve(14,"mat-tab",9)(15,"table",1),tr(16,2),Ue(17,IPe,2,0,"th",3),Ue(18,kPe,2,1,"td",4),nr(),tr(19,5),Ue(20,RPe,2,0,"th",3),Ue(21,NPe,2,1,"td",4),nr(),tr(22,6),Ue(23,PPe,1,0,"th",3),Ue(24,FPe,3,0,"td",4),nr(),Ue(25,OPe,1,0,"tr",7),Ue(26,BPe,1,0,"tr",8),Se()(),ve(27,"mat-tab",10)(28,"table",1),tr(29,2),Ue(30,UPe,2,0,"th",3),Ue(31,GPe,2,1,"td",4),nr(),tr(32,5),Ue(33,WPe,2,0,"th",3),Ue(34,jPe,2,1,"td",4),nr(),tr(35,6),Ue(36,$Pe,1,0,"th",3),Ue(37,qPe,3,0,"td",4),nr(),Ue(38,XPe,1,0,"tr",7),Ue(39,YPe,1,0,"tr",8),Se()()()),2&e&&(Ae(2),Ve("dataSource",t.specialCasesList),Ae(10),Ve("matHeaderRowDef",t.columnsToShow),Ae(1),Ve("matRowDefColumns",t.columnsToShow),Ae(2),Ve("dataSource",t.nBodyCasesList),Ae(10),Ve("matHeaderRowDef",t.columnsToShow),Ae(1),Ve("matRowDefColumns",t.columnsToShow),Ae(2),Ve("dataSource",t.pendulumsCaseList),Ae(10),Ve("matHeaderRowDef",t.columnsToShow),Ae(1),Ve("matRowDefColumns",t.columnsToShow))},dependencies:[uF,dg,fF,ug,lg,hF,fg,hg,pF,mF,s9,MF,CPe]});var KPe=Ba(28),ZPe=Ba.t(KPe,2);let QPe=(()=>{class n{constructor(){this._papa=ZPe}parse(t,i){return this._papa.parse(t,i)}unparse(t,i){return this._papa.unparse(t,i)}setLocalChunkSize(t){this._papa.LocalChunkSize=t}setRemoteChunkSize(t){this._papa.RemoteChunkSize=t}setDefaultDelimiter(t){this._papa.DefaultDelimiter=t}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class af{}class mg{}class Pa{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),a=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Pa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Pa;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Pa?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let a=this.headers.get(t);if(!a)return;a=a.filter(o=>-1===s.indexOf(o)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class eFe{encodeKey(e){return DF(e)}encodeValue(e){return DF(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const nFe=/%(\d[a-f0-9])/gi,iFe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function DF(n){return encodeURIComponent(n).replace(nFe,(e,t)=>iFe[t]??e)}function cf(n){return`${n}`}class wo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new eFe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tFe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,o]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],c=t.get(a)||[];c.push(o),t.set(a,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(cf):[cf(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new wo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(cf(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(cf(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class rFe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function EF(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function TF(n){return typeof Blob<"u"&&n instanceof Blob}function AF(n){return typeof FormData<"u"&&n instanceof FormData}class T4{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function sFe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Pa),this.context||(this.context=new rFe),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const o=t.indexOf("?");this.urlWithParams=t+(-1===o?"?":o<t.length-1?"&":"")+a}}else this.params=new wo,this.urlWithParams=t}serializeBody(){return null===this.body?null:EF(this.body)||TF(this.body)||AF(this.body)||function aFe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof wo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||AF(this.body)?null:TF(this.body)?this.body.type||null:EF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof wo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const d=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((u,f)=>u.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((u,f)=>u.set(f,e.setParams[f]),l)),new T4(t,i,s,{params:l,headers:c,context:d,reportProgress:o,responseType:r,withCredentials:a})}}var mi=(()=>((mi=mi||{})[mi.Sent=0]="Sent",mi[mi.UploadProgress=1]="UploadProgress",mi[mi.ResponseHeader=2]="ResponseHeader",mi[mi.DownloadProgress=3]="DownloadProgress",mi[mi.Response=4]="Response",mi[mi.User=5]="User",mi))();class gg{constructor(e,t=200,i="OK"){this.headers=e.headers||new Pa,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class _g extends gg{constructor(e={}){super(e),this.type=mi.ResponseHeader}clone(e={}){return new _g({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class lf extends gg{constructor(e={}){super(e),this.type=mi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new lf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class LF extends gg{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function vg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let VF=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof T4)s=t;else{let c,l;c=r.headers instanceof Pa?r.headers:new Pa(r.headers),r.params&&(l=r.params instanceof wo?r.params:new wo({fromObject:r.params})),s=new T4(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=z1(s).pipe(function JPe(n,e){return It(e)?sl(n,e,1):sl(n,1)}(c=>this.handler.handle(c)));if(t instanceof T4||"events"===r.observe)return a;const o=a.pipe(Ta(c=>c instanceof lf));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return o.pipe(cn(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return o.pipe(cn(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return o.pipe(cn(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return o.pipe(cn(c=>c.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new wo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,vg(r,i))}post(t,i,r={}){return this.request("POST",t,vg(r,i))}put(t,i,r={}){return this.request("PUT",t,vg(r,i))}}return n.\u0275fac=function(t){return new(t||n)(Y(af))},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})();function zF(n,e){return e(n)}function oFe(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const lFe=new de("HTTP_INTERCEPTORS"),A4=new de("HTTP_INTERCEPTOR_FNS");function dFe(){let n=null;return(e,t)=>(null===n&&(n=(Sr(lFe,{optional:!0})??[]).reduceRight(oFe,zF)),n(e,t))}let HF=(()=>{class n extends af{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(A4)));this.chain=i.reduceRight((r,s)=>function cFe(n,e,t){return(i,r)=>t.runInContext(()=>e(i,s=>n(s,r)))}(r,s,this.injector),zF)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(Y(mg),Y(Uo))},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})();const pFe=/^\)\]\}',?\n/;let kF=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new st(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((h,p)=>r.setRequestHeader(h,p.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const h=t.detectContentTypeHeader();null!==h&&r.setRequestHeader("Content-Type",h)}if(t.responseType){const h=t.responseType.toLowerCase();r.responseType="json"!==h?h:"text"}const s=t.serializeBody();let a=null;const o=()=>{if(null!==a)return a;const h=r.statusText||"OK",p=new Pa(r.getAllResponseHeaders()),m=function mFe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return a=new _g({headers:p,status:r.status,statusText:h,url:m}),a},c=()=>{let{headers:h,status:p,statusText:m,url:g}=o(),v=null;204!==p&&(v=typeof r.response>"u"?r.responseText:r.response),0===p&&(p=v?200:0);let b=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof v){const _=v;v=v.replace(pFe,"");try{v=""!==v?JSON.parse(v):null}catch(y){v=_,b&&(b=!1,v={error:y,text:v})}}b?(i.next(new lf({body:v,headers:h,status:p,statusText:m,url:g||void 0})),i.complete()):i.error(new LF({error:v,headers:h,status:p,statusText:m,url:g||void 0}))},l=h=>{const{url:p}=o(),m=new LF({error:h,status:r.status||0,statusText:r.statusText||"Unknown Error",url:p||void 0});i.error(m)};let d=!1;const u=h=>{d||(i.next(o()),d=!0);let p={type:mi.DownloadProgress,loaded:h.loaded};h.lengthComputable&&(p.total=h.total),"text"===t.responseType&&r.responseText&&(p.partialText=r.responseText),i.next(p)},f=h=>{let p={type:mi.UploadProgress,loaded:h.loaded};h.lengthComputable&&(p.total=h.total),i.next(p)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),t.reportProgress&&(r.addEventListener("progress",u),null!==s&&r.upload&&r.upload.addEventListener("progress",f)),r.send(s),i.next({type:mi.Sent}),()=>{r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),t.reportProgress&&(r.removeEventListener("progress",u),null!==s&&r.upload&&r.upload.removeEventListener("progress",f)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(Y(gC))},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})();const bg=new de("XSRF_ENABLED"),RF=new de("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),NF=new de("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class PF{}let vFe=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=rC(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(Y(At),Y(q0),Y(RF))},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})();function bFe(n,e){const t=n.url.toLowerCase();if(!Sr(bg)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=Sr(PF).getToken(),r=Sr(NF);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var ii=(()=>((ii=ii||{})[ii.Interceptors=0]="Interceptors",ii[ii.LegacyInterceptors=1]="LegacyInterceptors",ii[ii.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ii[ii.NoXsrfProtection=3]="NoXsrfProtection",ii[ii.JsonpSupport=4]="JsonpSupport",ii[ii.RequestsMadeViaParent=5]="RequestsMadeViaParent",ii))();function tl(n,e){return{\u0275kind:n,\u0275providers:e}}function yFe(...n){const e=[VF,kF,HF,{provide:af,useExisting:HF},{provide:mg,useExisting:kF},{provide:A4,useValue:bFe,multi:!0},{provide:bg,useValue:!0},{provide:PF,useClass:vFe}];for(const t of n)e.push(...t.\u0275providers);return function wG(n){return{\u0275providers:n}}(e)}const FF=new de("LEGACY_INTERCEPTOR_FN");let MFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({providers:[yFe(tl(ii.LegacyInterceptors,[{provide:FF,useFactory:dFe},{provide:A4,useExisting:FF,multi:!0}]))]}),n})();const CFe=["determinateSpinner"];function wFe(n,e){if(1&n&&(Jf(),ve(0,"svg",11),Tt(1,"circle",12),Se()),2&n){const t=tn();En("viewBox",t._viewBox()),Ae(1),es("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),En("r",t._circleRadius())}}const SFe=bu(class{constructor(n){this._elementRef=n}},"primary"),DFe=new de("mat-progress-spinner-default-options",{providedIn:"root",factory:function EFe(){return{diameter:OF}}}),OF=100;let AFe=(()=>{class n extends SFe{constructor(t,i,r){super(t),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=OF,this._noopAnimations="NoopAnimations"===i&&!!r&&!r._forceAnimations,r&&(r.color&&(this.color=this.defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,fi(t)))}get diameter(){return this._diameter}set diameter(t){this._diameter=fi(t)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=fi(t)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return n.\u0275fac=function(t){return new(t||n)(D(ot),D(sr,8),D(DFe))},n.\u0275cmp=en({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,i){if(1&t&&Gt(CFe,5),2&t){let r;Je(r=et())&&(i._determinateCircle=r.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(t,i){2&t&&(En("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),es("width",i.diameter,"px")("height",i.diameter,"px"),dn("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===i.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[xe],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,i){if(1&t&&(Ue(0,wFe,2,8,"ng-template",null,0,G0),ve(2,"div",1,2),Jf(),ve(4,"svg",3),Tt(5,"circle",4),Se()(),function W_(){!function IB(){bt.lFrame.currentNamespace=null}()}(),ve(6,"div",5)(7,"div",6)(8,"div",7),Hr(9,8),Se(),ve(10,"div",9),Hr(11,8),Se(),ve(12,"div",10),Hr(13,8),Se()()()),2&t){const r=Xa(1);Ae(4),En("viewBox",i._viewBox()),Ae(1),es("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),En("r",i._circleRadius()),Ae(4),Ve("ngTemplateOutlet",r),Ae(2),Ve("ngTemplateOutlet",r),Ae(2),Ve("ngTemplateOutlet",r)}},dependencies:[p5],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),LFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({imports:[Yo,pi]}),n})();function VFe(n,e){1&n&&(ve(0,"div",7)(1,"div",8),Tt(2,"mat-progress-spinner",9),Se()())}class L4{constructor(e,t,i){this.papa=e,this.http=t,this.dialog=i,this.title="path-viewer",this.selectedSpecs=[],this.uploadedFileName="",this.showLoading=!1,this.selectThreeCircles()}openDialog(){this.dialog.open(E4,{width:"80%",height:"80%",enterAnimationDuration:"200ms",exitAnimationDuration:"200ms"}).afterClosed().subscribe(t=>{"string"==typeof t&&(this.showLoading=!0,function Kke(n,e){const t="object"==typeof e;return new Promise((i,r)=>{const s=new qt({next:a=>{i(a),s.unsubscribe()},error:r,complete:()=>{t?i(e.defaultValue):r(new Yke)}});n.subscribe(s)})}(this.http.get(t,{responseType:"text"})).then(i=>{this.parseFileAndStart(i)}).finally(()=>this.showLoading=!1))})}selectTwoSineThings(){this.selectedSpecs=[{coordinates:Co(1001).map(t=>[Math.sin(4*Math.PI*t/1e3),Math.cos(2*Math.PI*t/1e3),Math.sin(2*Math.PI*t/1e3)])},{coordinates:Co(1001).map(t=>[Math.cos(2*Math.PI*t/1e3),Math.sin(4*Math.PI*t/1e3),-Math.sin(2*Math.PI*t/1e3)])}]}selectThreeCircles(){this.selectedSpecs=[{coordinates:Co(301).map(i=>[.5*Math.sin(4*Math.PI*i/300),.5*Math.cos(4*Math.PI*i/300),0])},{coordinates:Co(301).map(i=>[0,.5*Math.sin(4*Math.PI*i/300),.5*Math.cos(4*Math.PI*i/300)])},{coordinates:Co(301).map(i=>[.5*Math.cos(4*Math.PI*i/300),0,.5*Math.sin(4*Math.PI*i/300)])},{coordinates:Co(301).map(i=>[.5*Math.sin(4*Math.PI*i/300+Math.PI),.5*Math.cos(4*Math.PI*i/300+Math.PI),0])},{coordinates:Co(301).map(i=>[0,.5*Math.sin(4*Math.PI*i/300+Math.PI),.5*Math.cos(4*Math.PI*i/300+Math.PI)])},{coordinates:Co(301).map(i=>[.5*Math.cos(4*Math.PI*i/300+Math.PI),0,.5*Math.sin(4*Math.PI*i/300+Math.PI)])}]}onFileSelected(e){const t=e.target.files[0];if(!t)return;this.uploadedFileName=t.name;const i=new FileReader;i.onload=()=>{this.parseFileAndStart(t)},i.readAsText(t)}parseFileAndStart(e){this.papa.parse(e,{complete:t=>{const i=t.data,r={},s=i[0];s.filter(c=>c.includes("_")).map(c=>c.split("_")[0]).filter((c,l,d)=>d.indexOf(c)===l).forEach(c=>{r[c]=[]});const o={};Object.keys(r).forEach(c=>{o[c]=[s.indexOf(c+"_x1")??-1,s.indexOf(c+"_x2")??-1,s.indexOf(c+"_x3")??-1]}),i.slice(1).forEach(c=>{1===c.length&&""===c[0]||Object.entries(o).forEach(([l,d])=>{r[l].push(d.map(u=>-1===u?0:Number.parseFloat(c[u])))})}),this.selectedSpecs=Object.values(r).map((c,l)=>({coordinates:c,colour:Uu[l]}))}})}}function BF(n){return new ae(3e3,!1)}function fOe(){return typeof window<"u"&&typeof window.document<"u"}function yg(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function So(n){switch(n.length){case 0:return new o4;case 1:return n[0];default:return new bN(n)}}function UF(n,e,t,i,r=new Map,s=new Map){const a=[],o=[];let c=-1,l=null;if(i.forEach(d=>{const u=d.get("offset"),f=u==c,h=f&&l||new Map;d.forEach((p,m)=>{let g=m,v=p;if("offset"!==m)switch(g=e.normalizePropertyName(g,a),v){case c9:v=r.get(m);break;case La:v=s.get(m);break;default:v=e.normalizeStyleValue(m,g,v,a)}h.set(g,v)}),f||o.push(h),l=h,c=u}),a.length)throw function eOe(n){return new ae(3502,!1)}();return o}function xg(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Mg(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Mg(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Mg(t,"destroy",n)))}}function Mg(n,e,t){const s=Cg(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),a=n._data;return null!=a&&(s._data=a),s}function Cg(n,e,t,i,r="",s=0,a){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function Br(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function GF(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}L4.\u0275fac=function(e){return new(e||L4)(D(QPe),D(VF),D(nF))},L4.\u0275cmp=en({type:L4,selectors:[["app-root"]],decls:13,vars:3,consts:[[2,"display","flex","justify-content","left"],[2,"background","slategray","padding-top","3px","padding-left","12px","padding-right","12px","margin-bottom","-15px"],["mat-raised-button","","color","primary",2,"border-radius","0",3,"click"],["type","file",1,"c-file-input",3,"change"],["fileUpload",""],[3,"trajectorySpecs"],["style","background: rgba(0,0,0,0.3); position: fixed; width: 100%; height: 100%; top: 0; left:0; z-index: 9999",4,"ngIf"],[2,"background","rgba(0,0,0,0.3)","position","fixed","width","100%","height","100%","top","0","left","0","z-index","9999"],[2,"display","flex","justify-content","center","align-items","center","height","100%"],["mode","indeterminate"]],template:function(e,t){if(1&e){const i=Ya();ve(0,"div",0)(1,"div",1)(2,"h1"),nn(3,"PathViewer"),Se()(),ve(4,"button",2),Ft("click",function(){return t.openDialog()}),nn(5,"Select Case"),Se(),ve(6,"button",2),Ft("click",function(){return Is(i),ks(Xa(9).click())}),nn(7,"Attach File"),Se(),ve(8,"input",3,4),Ft("change",function(s){return t.onFileSelected(s)}),Se(),nn(10),Se(),Tt(11,"app-path-viewer",5),Ue(12,VFe,3,0,"div",6)}2&e&&(Ae(10),Qa(" ",t.uploadedFileName,"\n"),Ae(1),Ve("trajectorySpecs",t.selectedSpecs),Ae(1),Ve("ngIf",t.showLoading))},dependencies:[j2,AFe,s9,y4],styles:[".c-file-input[_ngcontent-%COMP%]{display:none}"]});let wg=(n,e)=>!1,WF=(n,e,t)=>[],jF=null;function Sg(n){const e=n.parentNode||n.host;return e===jF?null:e}(yg()||typeof Element<"u")&&(fOe()?(jF=(()=>document.documentElement)(),wg=(n,e)=>{for(;e;){if(e===n)return!0;e=Sg(e)}return!1}):wg=(n,e)=>n.contains(e),WF=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let W1=null,$F=!1;const qF=wg,XF=WF;let YF=(()=>{class n{validateStyleProperty(t){return function pOe(n){W1||(W1=function mOe(){return typeof document<"u"?document.body:null}()||{},$F=!!W1.style&&"WebkitAppearance"in W1.style);let e=!0;return W1.style&&!function hOe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in W1.style,!e&&$F&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in W1.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return qF(t,i)}getParentElement(t){return Sg(t)}query(t,i,r){return XF(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,a,o=[],c){return new o4(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})(),Dg=(()=>{class n{}return n.NOOP=new YF,n})();const gOe=1e3,Eg="ng-enter",df="ng-leave",uf="ng-trigger",ff=".ng-trigger",ZF="ng-animating",Tg=".ng-animating";function Fa(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ag(parseFloat(e[1]),e[2])}function Ag(n,e){return"s"===e?n*gOe:n}function hf(n,e,t){return n.hasOwnProperty("duration")?n:function vOe(n,e,t){let r,s=0,a="";if("string"==typeof n){const o=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return e.push(BF()),{duration:0,delay:0,easing:""};r=Ag(parseFloat(o[1]),o[2]);const c=o[3];null!=c&&(s=Ag(parseFloat(c),o[4]));const l=o[5];l&&(a=l)}else r=n;if(!t){let o=!1,c=e.length;r<0&&(e.push(function zFe(){return new ae(3100,!1)}()),o=!0),s<0&&(e.push(function HFe(){return new ae(3101,!1)}()),o=!0),o&&e.splice(c,0,BF())}return{duration:r,delay:s,easing:a}}(n,e,t)}function V4(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function QF(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Do(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function eO(n,e,t){return t?e+":"+t+";":""}function tO(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=eO(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=eO(0,MOe(t),n.style[t]));n.setAttribute("style",e)}function Zs(n,e,t){n.style&&(e.forEach((i,r)=>{const s=Vg(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),yg()&&tO(n))}function j1(n,e){n.style&&(e.forEach((t,i)=>{const r=Vg(i);n.style[r]=""}),yg()&&tO(n))}function z4(n){return Array.isArray(n)?1==n.length?n[0]:_N(n):n}const Lg=new RegExp("{{\\s*(.+?)\\s*}}","g");function nO(n){let e=[];if("string"==typeof n){let t;for(;t=Lg.exec(n);)e.push(t[1]);Lg.lastIndex=0}return e}function H4(n,e,t){const i=n.toString(),r=i.replace(Lg,(s,a)=>{let o=e[a];return null==o&&(t.push(function kFe(n){return new ae(3003,!1)}()),o=""),o.toString()});return r==i?n:r}function pf(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const xOe=/-+([a-z0-9])/g;function Vg(n){return n.replace(xOe,(...e)=>e[1].toUpperCase())}function MOe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ur(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function RFe(n){return new ae(3004,!1)}()}}function iO(n,e){return window.getComputedStyle(n)[e]}const _f="*";function TOe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function AOe(n,e,t){if(":"==n[0]){const c=function LOe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function KFe(n){return new ae(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function YFe(n){return new ae(3015,!1)}()),e;const r=i[1],s=i[2],a=i[3];e.push(rO(r,a));"<"==s[0]&&!(r==_f&&a==_f)&&e.push(rO(a,r))}(i,t,e)):t.push(n),t}const vf=new Set(["true","1"]),bf=new Set(["false","0"]);function rO(n,e){const t=vf.has(n)||bf.has(n),i=vf.has(e)||bf.has(e);return(r,s)=>{let a=n==_f||n==r,o=e==_f||e==s;return!a&&t&&"boolean"==typeof r&&(a=r?vf.has(n):bf.has(n)),!o&&i&&"boolean"==typeof s&&(o=s?vf.has(e):bf.has(e)),a&&o}}const VOe=new RegExp("s*:selfs*,?","g");function zg(n,e,t,i){return new zOe(n).build(e,t,i)}class zOe{constructor(e){this._driver=e}build(e,t,i){const r=new kOe(t);return this._resetContextStyleTimingState(r),Ur(this,z4(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push(function PFe(){return new ae(3006,!1)}()),e.definitions.forEach(o=>{if(this._resetContextStyleTimingState(t),0==o.type){const c=o,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,s.push(this.visitState(c,t))}),c.name=l}else if(1==o.type){const c=this.visitTransition(o,t);i+=c.queryCount,r+=c.depCount,a.push(c)}else t.errors.push(function FFe(){return new ae(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(o=>{o instanceof Map&&o.forEach(c=>{nO(c).forEach(l=>{a.hasOwnProperty(l)||s.add(l)})})}),s.size&&(pf(s.values()),t.errors.push(function OFe(n,e){return new ae(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ur(this,z4(e.animation),t);return{type:1,matchers:TOe(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:$1(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ur(this,i,t)),options:$1(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(a=>{t.currentTime=i;const o=Ur(this,a,t);return r=Math.max(r,t.currentTime),o});return t.currentTime=r,{type:3,steps:s,options:$1(e.options)}}visitAnimate(e,t){const i=function NOe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Hg(hf(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Hg(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=hf(t,e);return Hg(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:qi({});if(5==s.type)r=this.visitKeyframes(s,t);else{let a=e.styles,o=!1;if(!a){o=!0;const l={};i.easing&&(l.easing=i.easing),a=qi(l)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(a,t);c.isEmptyStep=o,r=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let o of r)"string"==typeof o?o===La?i.push(o):t.errors.push(new ae(3002,!1)):i.push(QF(o));let s=!1,a=null;return i.forEach(o=>{if(o instanceof Map&&(o.has("easing")&&(a=o.get("easing"),o.delete("easing")),!s))for(let c of o.values())if(c.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:a,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(a=>{"string"!=typeof a&&a.forEach((o,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),d=l.get(c);let u=!0;d&&(s!=r&&s>=d.startTime&&r<=d.endTime&&(t.errors.push(function UFe(n,e,t,i,r){return new ae(3010,!1)}()),u=!1),s=d.startTime),u&&l.set(c,{startTime:s,endTime:r}),t.options&&function yOe(n,e,t){const i=e.params||{},r=nO(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function IFe(n){return new ae(3001,!1)}())})}(o,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function GFe(){return new ae(3011,!1)}()),i;let s=0;const a=[];let o=!1,c=!1,l=0;const d=e.steps.map(v=>{const b=this._makeStyleAst(v,t);let _=null!=b.offset?b.offset:function ROe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(b.styles),y=0;return null!=_&&(s++,y=b.offset=_),c=c||y<0||y>1,o=o||y<l,l=y,a.push(y),b});c&&t.errors.push(function WFe(){return new ae(3012,!1)}()),o&&t.errors.push(function jFe(){return new ae(3200,!1)}());const u=e.steps.length;let f=0;s>0&&s<u?t.errors.push(function $Fe(){return new ae(3202,!1)}()):0==s&&(f=1/(u-1));const h=u-1,p=t.currentTime,m=t.currentAnimateTimings,g=m.duration;return d.forEach((v,b)=>{const _=f>0?b==h?1:f*b:a[b],y=_*g;t.currentTime=p+m.delay+y,m.duration=y,this._validateStyleAst(v,t),v.offset=_,i.styles.push(v)}),i}visitReference(e,t){return{type:8,animation:Ur(this,z4(e.animation),t),options:$1(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:$1(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:$1(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,a]=function HOe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(VOe,"")),n=n.replace(/@\*/g,ff).replace(/@\w+/g,t=>ff+"-"+t.slice(1)).replace(/:animating/g,Tg),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Br(t.collectedStyles,t.currentQuerySelector,new Map);const o=Ur(this,z4(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:o,originalSelector:e.selector,options:$1(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function qFe(){return new ae(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:hf(e.timings,t.errors,!0);return{type:12,animation:Ur(this,z4(e.animation),t),timings:i,options:null}}}class kOe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function $1(n){return n?(n=V4(n)).params&&(n.params=function IOe(n){return n?V4(n):null}(n.params)):n={},n}function Hg(n,e,t){return{duration:n,delay:e,easing:t}}function Ig(n,e,t,i,r,s,a=null,o=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:o}}class yf{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const OOe=new RegExp(":enter","g"),UOe=new RegExp(":leave","g");function kg(n,e,t,i,r,s=new Map,a=new Map,o,c,l=[]){return(new GOe).buildKeyframes(n,e,t,i,r,s,a,o,c,l)}class GOe{buildKeyframes(e,t,i,r,s,a,o,c,l,d=[]){l=l||new yf;const u=new Rg(e,t,l,r,s,d,[]);u.options=c;const f=c.delay?Fa(c.delay):0;u.currentTimeline.delayNextStep(f),u.currentTimeline.setStyles([a],null,u.errors,c),Ur(this,i,u);const h=u.timelines.filter(p=>p.containsAnimation());if(h.length&&o.size){let p;for(let m=h.length-1;m>=0;m--){const g=h[m];if(g.element===t){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([o],null,u.errors,c)}return h.length?h.map(p=>p.buildKeyframes()):[Ig(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const a="number"==typeof s?s:Fa(H4(s,r?.params??{},t.errors));i.delayNextStep(a)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const a=null!=i.duration?Fa(i.duration):null,o=null!=i.delay?Fa(i.delay):null;return 0!==a&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,a,o);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ur(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=xf);const a=Fa(s.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>Ur(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Fa(e.options.delay):0;e.steps.forEach(a=>{const o=t.createSubContext(e.options);s&&o.delayNextStep(s),Ur(this,a,o),r=Math.max(r,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return hf(t.params?H4(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,o=t.createSubContext().currentTimeline;o.easing=i.easing,e.styles.forEach(c=>{o.forwardTime((c.offset||0)*s),o.setStyles(c.styles,c.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Fa(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=xf);let a=i;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=o.length;let c=null;o.forEach((l,d)=>{t.currentQueryIndex=d;const u=t.createSubContext(e.options,l);s&&u.delayNextStep(s),l===t.element&&(c=u.currentTimeline),Ur(this,e.animation,u),u.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,u.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,a=Math.abs(s.duration),o=a*(t.currentQueryTotal-1);let c=a*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=o-c;break;case"full":c=i.currentStaggerTime}const d=t.currentTimeline;c&&d.delayNextStep(c);const u=d.currentTime;Ur(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-u+(r.startTime-i.currentTimeline.startTime)}}const xf={};class Rg{constructor(e,t,i,r,s,a,o,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Mf(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Fa(i.duration)),null!=i.delay&&(r.delay=Fa(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(o=>{(!t||!a.hasOwnProperty(o))&&(a[o]=H4(s[o],a,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new Rg(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=xf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new WOe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,a){let o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(OOe,"."+this._enterClassName)).replace(UOe,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),o.push(...l)}return!s&&0==o.length&&a.push(function XFe(n){return new ae(3014,!1)}()),o}}class Mf{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Mf(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||La),this._currentKeyframe.set(t,La);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},a=function jOe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,La)}else Do(r,t)}),t}(e,this._globalTimelineStyles);for(let[o,c]of a){const l=H4(c,s,i);this._pendingStyles.set(o,l),this._localTimelineStyles.has(o)||this._backFill.set(o,this._globalTimelineStyles.get(o)??La),this._updateStyle(o,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((o,c)=>{const l=Do(o,new Map,this._backFill);l.forEach((d,u)=>{d===c9?e.add(u):d===La&&t.add(u)}),i||l.set("offset",c/this.duration),r.push(l)});const s=e.size?pf(e.values()):[],a=t.size?pf(t.values()):[];if(i){const o=r[0],c=new Map(o);o.set("offset",0),c.set("offset",1),r=[o,c]}return Ig(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class WOe extends Mf{constructor(e,t,i,r,s,a,o=!1){super(e,t,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=o,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],a=i+t,o=t/a,c=Do(e[0]);c.set("offset",0),s.push(c);const l=Do(e[0]);l.set("offset",oO(o)),s.push(l);const d=e.length-1;for(let u=1;u<=d;u++){let f=Do(e[u]);const h=f.get("offset");f.set("offset",oO((t+h*i)/a)),s.push(f)}i=a,t=0,r="",e=s}return Ig(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function oO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Ng{}const $Oe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class qOe extends Ng{normalizePropertyName(e,t){return Vg(e)}normalizeStyleValue(e,t,i,r){let s="";const a=i.toString().trim();if($Oe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const o=i.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&r.push(function NFe(n,e){return new ae(3005,!1)}())}return a+s}}function cO(n,e,t,i,r,s,a,o,c,l,d,u,f){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:a,timelines:o,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:u,errors:f}}const Pg={};class lO{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function XOe(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,a,o,c,l,d){const u=[],f=this.ast.options&&this.ast.options.params||Pg,p=this.buildStyles(i,o&&o.params||Pg,u),m=c&&c.params||Pg,g=this.buildStyles(r,m,u),v=new Set,b=new Map,_=new Map,y="void"===r,M={params:YOe(m,f),delay:this.ast.options?.delay},C=d?[]:kg(e,t,this.ast.animation,s,a,p,g,M,l,u);let V=0;if(C.forEach(S=>{V=Math.max(S.duration+S.delay,V)}),u.length)return cO(t,this._triggerName,i,r,y,p,g,[],[],b,_,V,u);C.forEach(S=>{const H=S.element,$=Br(b,H,new Set);S.preStyleProps.forEach(F=>$.add(F));const J=Br(_,H,new Set);S.postStyleProps.forEach(F=>J.add(F)),H!==t&&v.add(H)});const x=pf(v.values());return cO(t,this._triggerName,i,r,y,p,g,C,x,b,_,V)}}function YOe(n,e){const t=V4(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class KOe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=V4(this.defaultParams);return Object.keys(e).forEach(s=>{const a=e[s];null!==a&&(r[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,o)=>{a&&(a=H4(a,r,t));const c=this.normalizer.normalizePropertyName(o,t);a=this.normalizer.normalizeStyleValue(o,c,a,t),i.set(o,a)})}),i}}class QOe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new KOe(r.style,r.options&&r.options.params||{},i))}),dO(this.states,"true","1"),dO(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new lO(e,r,this.states))}),this.fallbackTransition=function JOe(n,e,t){return new lO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,o)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(a=>a.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function dO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const eBe=new yf;class tBe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],s=zg(this._driver,t,i,r);if(i.length)throw function tOe(n){return new ae(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=UF(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let a;const o=new Map;if(s?(a=kg(this._driver,t,s,Eg,df,new Map,new Map,i,eBe,r),a.forEach(d=>{const u=Br(o,d.element,new Map);d.postStyleProps.forEach(f=>u.set(f,null))})):(r.push(function nOe(){return new ae(3300,!1)}()),a=[]),r.length)throw function iOe(n){return new ae(3504,!1)}();o.forEach((d,u)=>{d.forEach((f,h)=>{d.set(h,this._driver.computeStyle(u,h,La))})});const l=So(a.map(d=>{const u=o.get(d.element);return this._buildPlayer(d,new Map,u)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function rOe(n){return new ae(3301,!1)}();return t}listen(e,t,i,r){const s=Cg(t,"","","");return xg(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const uO="ng-animate-queued",Fg="ng-animate-disabled",aBe=[],fO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oBe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},os="__ng_removed";class Og{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function uBe(n){return n??null}(i?e.value:e),i){const s=V4(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const I4="void",Bg=new Og(I4);class cBe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,cs(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function sOe(n,e){return new ae(3302,!1)}();if(null==i||0==i.length)throw function aOe(n){return new ae(3303,!1)}();if(!function fBe(n){return"start"==n||"done"==n}(i))throw function oOe(n,e){return new ae(3400,!1)}();const s=Br(this._elementListeners,e,[]),a={name:t,phase:i,callback:r};s.push(a);const o=Br(this._engine.statesByElement,e,new Map);return o.has(t)||(cs(e,uf),cs(e,uf+"-"+t),o.set(t,Bg)),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(a);c>=0&&s.splice(c,1),this._triggers.has(t)||o.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function cOe(n){return new ae(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),a=new Ug(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(cs(e,uf),cs(e,uf+"-"+t),this._engine.statesByElement.set(e,o=new Map));let c=o.get(t);const l=new Og(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),o.set(t,l),c||(c=Bg),l.value!==I4&&c.value===l.value){if(!function mBe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(c.params,l.params)){const m=[],g=s.matchStyles(c.value,c.params,m),v=s.matchStyles(l.value,l.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{j1(e,g),Zs(e,v)})}return}const f=Br(this._engine.playersByElement,e,[]);f.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let h=s.matchTransition(c.value,l.value,e,l.params),p=!1;if(!h){if(!r)return;h=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:c,toState:l,player:a,isFallbackTransition:p}),p||(cs(e,uO),a.onStart(()=>{nl(e,uO)})),a.onDone(()=>{let m=this.players.indexOf(a);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(e);if(g){let v=g.indexOf(a);v>=0&&g.splice(v,1)}}),this.players.push(a),f.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,ff,!0);i.forEach(r=>{if(r[os])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),a=new Map;if(s){const o=[];if(s.forEach((c,l)=>{if(a.set(l,c.value),this._triggers.has(l)){const d=this.trigger(e,l,I4,r);d&&o.push(d)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,a),i&&So(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const c=this._triggers.get(a).fallbackTransition,l=i.get(a)||Bg,d=new Og(I4),u=new Ug(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:c,fromState:l,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let a=e;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[os];(!s||s===fO)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){cs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(o=>{if(o.name==i.triggerName){const c=Cg(s,i.triggerName,i.fromState.value,i.toState.value);c._data=e,xg(i.player,o.phase,c,o.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class lBe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new cBe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,o=this.driver.getParentElement(t);for(;o;){const c=r.get(o);if(c){const l=i.indexOf(c);i.splice(l+1,0,e),a=!0;break}o=this.driver.getParentElement(o)}a||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(Cf(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Cf(t))return;const s=t[os];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){const a=this._fetchNamespace(e);a&&a.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),cs(e,Fg)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),nl(e,Fg))}removeNode(e,t,i,r){if(Cf(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[os]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return Cf(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,ff,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Tg,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return So(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[os];if(t&&t.setForRemoval){if(e[os]=fO,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Fg)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)cs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?So(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function lOe(n){return new ae(3402,!1)}()}_flushAnimations(e,t){const i=new yf,r=[],s=new Map,a=[],o=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(R=>{d.add(R);const q=this.driver.query(R,".ng-animate-queued",!0);for(let N=0;N<q.length;N++)d.add(q[N])});const u=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=mO(f,this.collectedEnterElements),p=new Map;let m=0;h.forEach((R,q)=>{const N=Eg+m++;p.set(q,N),R.forEach(X=>cs(X,N))});const g=[],v=new Set,b=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){const q=this.collectedLeaveElements[R],N=q[os];N&&N.setForRemoval&&(g.push(q),v.add(q),N.hasAnimation?this.driver.query(q,".ng-star-inserted",!0).forEach(X=>v.add(X)):b.add(q))}const _=new Map,y=mO(f,Array.from(v));y.forEach((R,q)=>{const N=df+m++;_.set(q,N),R.forEach(X=>cs(X,N))}),e.push(()=>{h.forEach((R,q)=>{const N=p.get(q);R.forEach(X=>nl(X,N))}),y.forEach((R,q)=>{const N=_.get(q);R.forEach(X=>nl(X,N))}),g.forEach(R=>{this.processLeaveNode(R)})});const M=[],C=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(t).forEach(N=>{const X=N.player,ie=N.element;if(M.push(X),this.collectedEnterElements.length){const pe=ie[os];if(pe&&pe.setForMove){if(pe.previousTriggersValues&&pe.previousTriggersValues.has(N.triggerName)){const De=pe.previousTriggersValues.get(N.triggerName),Me=this.statesByElement.get(N.element);if(Me&&Me.has(N.triggerName)){const Pe=Me.get(N.triggerName);Pe.value=De,Me.set(N.triggerName,Pe)}}return void X.destroy()}}const be=!u||!this.driver.containsElement(u,ie),j=_.get(ie),le=p.get(ie),oe=this._buildInstruction(N,i,le,j,be);if(oe.errors&&oe.errors.length)return void C.push(oe);if(be)return X.onStart(()=>j1(ie,oe.fromStyles)),X.onDestroy(()=>Zs(ie,oe.toStyles)),void r.push(X);if(N.isFallbackTransition)return X.onStart(()=>j1(ie,oe.fromStyles)),X.onDestroy(()=>Zs(ie,oe.toStyles)),void r.push(X);const G=[];oe.timelines.forEach(pe=>{pe.stretchStartingKeyframe=!0,this.disabledNodes.has(pe.element)||G.push(pe)}),oe.timelines=G,i.append(ie,oe.timelines),a.push({instruction:oe,player:X,element:ie}),oe.queriedElements.forEach(pe=>Br(o,pe,[]).push(X)),oe.preStyleProps.forEach((pe,De)=>{if(pe.size){let Me=c.get(De);Me||c.set(De,Me=new Set),pe.forEach((Pe,tt)=>Me.add(tt))}}),oe.postStyleProps.forEach((pe,De)=>{let Me=l.get(De);Me||l.set(De,Me=new Set),pe.forEach((Pe,tt)=>Me.add(tt))})});if(C.length){const R=[];C.forEach(q=>{R.push(function dOe(n,e){return new ae(3505,!1)}())}),M.forEach(q=>q.destroy()),this.reportError(R)}const V=new Map,x=new Map;a.forEach(R=>{const q=R.element;i.has(q)&&(x.set(q,q),this._beforeAnimationBuild(R.player.namespaceId,R.instruction,V))}),r.forEach(R=>{const q=R.element;this._getPreviousPlayers(q,!1,R.namespaceId,R.triggerName,null).forEach(X=>{Br(V,q,[]).push(X),X.destroy()})});const S=g.filter(R=>_O(R,c,l)),H=new Map;pO(H,this.driver,b,l,La).forEach(R=>{_O(R,c,l)&&S.push(R)});const J=new Map;h.forEach((R,q)=>{pO(J,this.driver,new Set(R),c,c9)}),S.forEach(R=>{const q=H.get(R),N=J.get(R);H.set(R,new Map([...Array.from(q?.entries()??[]),...Array.from(N?.entries()??[])]))});const F=[],k=[],K={};a.forEach(R=>{const{element:q,player:N,instruction:X}=R;if(i.has(q)){if(d.has(q))return N.onDestroy(()=>Zs(q,X.toStyles)),N.disabled=!0,N.overrideTotalTime(X.totalTime),void r.push(N);let ie=K;if(x.size>1){let j=q;const le=[];for(;j=j.parentNode;){const oe=x.get(j);if(oe){ie=oe;break}le.push(j)}le.forEach(oe=>x.set(oe,ie))}const be=this._buildAnimation(N.namespaceId,X,V,s,J,H);if(N.setRealPlayer(be),ie===K)F.push(N);else{const j=this.playersByElement.get(ie);j&&j.length&&(N.parentPlayer=So(j)),r.push(N)}}else j1(q,X.fromStyles),N.onDestroy(()=>Zs(q,X.toStyles)),k.push(N),d.has(q)&&r.push(N)}),k.forEach(R=>{const q=s.get(R.element);if(q&&q.length){const N=So(q);R.setRealPlayer(N)}}),r.forEach(R=>{R.parentPlayer?R.syncPlayerEvents(R.parentPlayer):R.destroy()});for(let R=0;R<g.length;R++){const q=g[R],N=q[os];if(nl(q,df),N&&N.hasAnimation)continue;let X=[];if(o.size){let be=o.get(q);be&&be.length&&X.push(...be);let j=this.driver.query(q,Tg,!0);for(let le=0;le<j.length;le++){let oe=o.get(j[le]);oe&&oe.length&&X.push(...oe)}}const ie=X.filter(be=>!be.destroyed);ie.length?hBe(this,q,ie):this.processLeaveNode(q)}return g.length=0,F.forEach(R=>{this.players.push(R),R.onDone(()=>{R.destroy();const q=this.players.indexOf(R);this.players.splice(q,1)}),R.play()}),F}elementContainsData(e,t){let i=!1;const r=t[os];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let a=[];if(t){const o=this.playersByQueriedElement.get(e);o&&(a=o)}else{const o=this.playersByElement.get(e);if(o){const c=!s||s==I4;o.forEach(l=>{l.queued||!c&&l.triggerName!=r||a.push(l)})}}return(i||r)&&(a=a.filter(o=>!(i&&i!=o.namespaceId||r&&r!=o.triggerName))),a}_beforeAnimationBuild(e,t,i){const s=t.element,a=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,d=l!==s,u=Br(i,l,[]);this._getPreviousPlayers(l,d,a,o,t.toState).forEach(h=>{const p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),u.push(h)})}j1(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,a){const o=t.triggerName,c=t.element,l=[],d=new Set,u=new Set,f=t.timelines.map(p=>{const m=p.element;d.add(m);const g=m[os];if(g&&g.removedBeforeQueried)return new o4(p.duration,p.delay);const v=m!==c,b=function pBe(n){const e=[];return gO(n,e),e}((i.get(m)||aBe).map(V=>V.getRealPlayer())).filter(V=>!!V.element&&V.element===m),_=s.get(m),y=a.get(m),M=UF(0,this._normalizer,0,p.keyframes,_,y),C=this._buildPlayer(p,M,b);if(p.subTimeline&&r&&u.add(m),v){const V=new Ug(e,o,m);V.setRealPlayer(C),l.push(V)}return C});l.forEach(p=>{Br(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function dBe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,p.element,p))}),d.forEach(p=>cs(p,ZF));const h=So(f);return h.onDestroy(()=>{d.forEach(p=>nl(p,ZF)),Zs(c,t.toStyles)}),u.forEach(p=>{Br(r,p,[]).push(h)}),h}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new o4(e.duration,e.delay)}}class Ug{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new o4,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>xg(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Br(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Cf(n){return n&&1===n.nodeType}function hO(n,e){const t=n.style.display;return n.style.display=e??"none",t}function pO(n,e,t,i,r){const s=[];t.forEach(c=>s.push(hO(c)));const a=[];i.forEach((c,l)=>{const d=new Map;c.forEach(u=>{const f=e.computeStyle(l,u,r);d.set(u,f),(!f||0==f.length)&&(l[os]=oBe,a.push(l))}),n.set(l,d)});let o=0;return t.forEach(c=>hO(c,s[o++])),a}function mO(n,e){const t=new Map;if(n.forEach(o=>t.set(o,[])),0==e.length)return t;const i=1,r=new Set(e),s=new Map;function a(o){if(!o)return i;let c=s.get(o);if(c)return c;const l=o.parentNode;return c=t.has(l)?l:r.has(l)?i:a(l),s.set(o,c),c}return e.forEach(o=>{const c=a(o);c!==i&&t.get(c).push(o)}),t}function cs(n,e){n.classList?.add(e)}function nl(n,e){n.classList?.remove(e)}function hBe(n,e,t){So(t).onDone(()=>n.processLeaveNode(e))}function gO(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof bN?gO(i.players,e):e.push(i)}}function _O(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class wf{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new lBe(e,t,i),this._timelineEngine=new tBe(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const a=e+"-"+r;let o=this._triggerCache[a];if(!o){const c=[],l=[],d=zg(this._driver,s,c,l);if(c.length)throw function JFe(n,e){return new ae(3404,!1)}();o=function ZOe(n,e,t){return new QOe(n,e,t)}(r,d,this._normalizer),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(t,r,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,a]=GF(i);this._timelineEngine.command(s,t,a,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[a,o]=GF(i);return this._timelineEngine.listen(a,t,o,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _Be=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Zs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zs(this._element,this._initialStyles),this._endStyles&&(Zs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(j1(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(j1(this._element,this._endStyles),this._endStyles=null),Zs(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Gg(n){let e=null;return n.forEach((t,i)=>{(function vBe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class vO{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:iO(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class bBe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return qF(e,t)}getParentElement(e){return Sg(e)}query(e,t,i){return XF(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,a=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(c.easing=s);const l=new Map,d=a.filter(h=>h instanceof vO);(function COe(n,e){return 0===n||0===e})(i,r)&&d.forEach(h=>{h.currentSnapshot.forEach((p,m)=>l.set(m,p))});let u=function bOe(n){return n.length?n[0]instanceof Map?n:n.map(e=>QF(e)):[]}(t).map(h=>Do(h));u=function wOe(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,a)=>{i.has(a)||r.push(a),i.set(a,s)}),r.length)for(let s=1;s<e.length;s++){let a=e[s];r.forEach(o=>a.set(o,iO(n,o)))}}return e}(e,u,l);const f=function gBe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Gg(e[0]),e.length>1&&(i=Gg(e[e.length-1]))):e instanceof Map&&(t=Gg(e)),t||i?new _Be(n,t,i):null}(e,u);return new vO(e,u,c,f)}}let yBe=(()=>{class n extends mN{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:us.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?_N(t):t;return bO(this._renderer,null,i,"register",[r]),new xBe(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(Y(zl),Y(At))},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})();class xBe extends Fze{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new MBe(this._id,e,t||{},this._renderer)}}class MBe{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return bO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function bO(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const yO="@.disabled";let CBe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const o=a?.parentNode(s);o&&a.removeChild(o,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(s);return d||(d=new xO("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,d)),d}const a=i.id,o=i.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);const c=d=>{Array.isArray(d)?d.forEach(c):this.engine.registerTrigger(a,o,t,d.name,d)};return i.data.animation.forEach(c),new wBe(this,o,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,o]=s;a(o)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(Y(zl),Y(wf),Y(it))},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})();class xO{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==yO?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class wBe extends xO{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==yO?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function SBe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function DBe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,o=>{this.factory.scheduleListenerCallback(o._data||-1,i,o)})}return this.delegate.listen(e,t,i)}}let EBe=(()=>{class n extends wf{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(Y(At),Y(Dg),Y(Ng),Y(ql))},n.\u0275prov=Le({token:n,factory:n.\u0275fac}),n})();const MO=[{provide:mN,useClass:yBe},{provide:Ng,useFactory:function TBe(){return new qOe}},{provide:wf,useClass:EBe},{provide:zl,useFactory:function ABe(n,e,t){return new CBe(n,e,t)},deps:[h6,wf,it]}],Wg=[{provide:Dg,useFactory:()=>new bBe},{provide:sr,useValue:"BrowserAnimations"},...MO],CO=[{provide:Dg,useClass:YF},{provide:sr,useValue:"NoopAnimations"},...MO];let LBe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?CO:Wg}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({providers:Wg,imports:[PC]}),n})();const kBe={provide:new de("mat-select-scroll-strategy"),deps:[G1],useFactory:function IBe(n){return()=>n.scrollStrategies.reposition()}};let RBe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=kt({providers:[kBe],imports:[Yo,X9,pN,pi,U9,d9,pN,pi]}),n})();class il{}il.\u0275fac=function(e){return new(e||il)},il.\u0275mod=Pt({type:il,bootstrap:[L4]}),il.\u0275inj=kt({imports:[PC,uVe,fVe,MFe,LBe,oNe,RNe,LFe,Pze,RBe,EHe,WHe,Nke,SPe]}),vZ().bootstrapModule(il).catch(n=>console.error(n))},28:function(rl,R4){var Ba,Eo;Ba=function K1(){"use strict";var bn=typeof self<"u"?self:typeof window<"u"?window:void 0!==bn?bn:{},on=!bn.document&&!!bn.postMessage,Z1=bn.IS_PAPA_WORKER||!1,To={},N4=0,ft={parse:function(B,P){var fe=(P=P||{}).dynamicTyping||!1;if(qt(fe)&&(P.dynamicTypingFunction=fe,fe={}),P.dynamicTyping=fe,P.transform=!!qt(P.transform)&&P.transform,P.worker&&ft.WORKERS_SUPPORTED){var Fe=function(){if(!ft.WORKERS_SUPPORTED)return!1;var si,st,rt=(si=bn.URL||bn.webkitURL||null,st=K1.toString(),ft.BLOB_URL||(ft.BLOB_URL=si.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",st,")();"],{type:"text/javascript"})))),Nt=new bn.Worker(rt);return Nt.onmessage=Df,Nt.id=N4++,To[Nt.id]=Nt}();return Fe.userStep=P.step,Fe.userChunk=P.chunk,Fe.userComplete=P.complete,Fe.userError=P.error,P.step=qt(P.step),P.chunk=qt(P.chunk),P.complete=qt(P.complete),P.error=qt(P.error),delete P.worker,void Fe.postMessage({input:B,config:P,workerId:Fe.id})}var rt,$e=null;return"string"==typeof B?(B=65279===(rt=B).charCodeAt(0)?rt.slice(1):rt,$e=P.download?new Ua(P):new Ao(P)):!0===B.readable&&qt(B.read)&&qt(B.on)?$e=new J1(P):(bn.File&&B instanceof File||B instanceof Object)&&($e=new Q1(P)),$e.stream(B)},unparse:function(B,P){var fe=!1,Fe=!0,$e=",",rt="\r\n",Nt='"',si=Nt+Nt,st=!1,qe=null,Nn=!1;!function(){if("object"==typeof P){if("string"!=typeof P.delimiter||ft.BAD_DELIMITERS.filter(function(Be){return-1!==P.delimiter.indexOf(Be)}).length||($e=P.delimiter),("boolean"==typeof P.quotes||"function"==typeof P.quotes||Array.isArray(P.quotes))&&(fe=P.quotes),"boolean"!=typeof P.skipEmptyLines&&"string"!=typeof P.skipEmptyLines||(st=P.skipEmptyLines),"string"==typeof P.newline&&(rt=P.newline),"string"==typeof P.quoteChar&&(Nt=P.quoteChar),"boolean"==typeof P.header&&(Fe=P.header),Array.isArray(P.columns)){if(0===P.columns.length)throw new Error("Option columns is empty");qe=P.columns}void 0!==P.escapeChar&&(si=P.escapeChar+Nt),("boolean"==typeof P.escapeFormulae||P.escapeFormulae instanceof RegExp)&&(Nn=P.escapeFormulae instanceof RegExp?P.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var ht=new RegExp(xr(Nt),"g");if("string"==typeof B&&(B=JSON.parse(B)),Array.isArray(B)){if(!B.length||Array.isArray(B[0]))return $r(null,B,st);if("object"==typeof B[0])return $r(qe||Object.keys(B[0]),B,st)}else if("object"==typeof B)return"string"==typeof B.data&&(B.data=JSON.parse(B.data)),Array.isArray(B.data)&&(B.fields||(B.fields=B.meta&&B.meta.fields||qe),B.fields||(B.fields=Array.isArray(B.data[0])?B.fields:"object"==typeof B.data[0]?Object.keys(B.data[0]):[]),Array.isArray(B.data[0])||"object"==typeof B.data[0]||(B.data=[B.data])),$r(B.fields||[],B.data||[],st);throw new Error("Unable to serialize unrecognized input");function $r(Be,mn,Kt){var Mt="";"string"==typeof Be&&(Be=JSON.parse(Be)),"string"==typeof mn&&(mn=JSON.parse(mn));var vi=Array.isArray(Be)&&0<Be.length,cn=!Array.isArray(mn[0]);if(vi&&Fe){for(var Wn=0;Wn<Be.length;Wn++)0<Wn&&(Mt+=$e),Mt+=Ye(Be[Wn],Wn);0<mn.length&&(Mt+=rt)}for(var at=0;at<mn.length;at++){var Zt=vi?Be.length:mn[at].length,kn=!1,bi=vi?0===Object.keys(mn[at]).length:0===mn[at].length;if(Kt&&!vi&&(kn="greedy"===Kt?""===mn[at].join("").trim():1===mn[at].length&&0===mn[at][0].length),"greedy"===Kt&&vi){for(var gn=[],Vi=0;Vi<Zt;Vi++)gn.push(mn[at][cn?Be[Vi]:Vi]);kn=""===gn.join("").trim()}if(!kn){for(var yn=0;yn<Zt;yn++)0<yn&&!bi&&(Mt+=$e),Mt+=Ye(mn[at][vi&&cn?Be[yn]:yn],yn);at<mn.length-1&&(!Kt||0<Zt&&!bi)&&(Mt+=rt)}}return Mt}function Ye(Be,mn){if(null==Be)return"";if(Be.constructor===Date)return JSON.stringify(Be).slice(1,25);var Kt=!1;Nn&&"string"==typeof Be&&Nn.test(Be)&&(Be="'"+Be,Kt=!0);var Mt=Be.toString().replace(ht,si);return(Kt=Kt||!0===fe||"function"==typeof fe&&fe(Be,mn)||Array.isArray(fe)&&fe[mn]||function(vi,cn){for(var Wn=0;Wn<cn.length;Wn++)if(-1<vi.indexOf(cn[Wn]))return!0;return!1}(Mt,ft.BAD_DELIMITERS)||-1<Mt.indexOf($e)||" "===Mt.charAt(0)||" "===Mt.charAt(Mt.length-1))?Nt+Mt+Nt:Mt}}};if(ft.RECORD_SEP=String.fromCharCode(30),ft.UNIT_SEP=String.fromCharCode(31),ft.BYTE_ORDER_MARK="\ufeff",ft.BAD_DELIMITERS=["\r","\n",'"',ft.BYTE_ORDER_MARK],ft.WORKERS_SUPPORTED=!on&&!!bn.Worker,ft.NODE_STREAM_INPUT=1,ft.LocalChunkSize=10485760,ft.RemoteChunkSize=5242880,ft.DefaultDelimiter=",",ft.Parser=Ga,ft.ParserHandle=e2,ft.NetworkStreamer=Ua,ft.FileStreamer=Q1,ft.StringStreamer=Ao,ft.ReadableStreamStreamer=J1,bn.jQuery){var Es=bn.jQuery;Es.fn.parse=function(B){var P=B.config||{},fe=[];return this.each(function(rt){if("INPUT"!==Es(this).prop("tagName").toUpperCase()||"file"!==Es(this).attr("type").toLowerCase()||!bn.FileReader||!this.files||0===this.files.length)return!0;for(var Nt=0;Nt<this.files.length;Nt++)fe.push({file:this.files[Nt],inputElem:this,instanceConfig:Es.extend({},P)})}),Fe(),this;function Fe(){if(0!==fe.length){var Nt,si,st,qe=fe[0];if(qt(B.before)){var Nn=B.before(qe.file,qe.inputElem);if("object"==typeof Nn){if("abort"===Nn.action)return"AbortError",Nt=qe.file,si=qe.inputElem,st=Nn.reason,void(qt(B.error)&&B.error({name:"AbortError"},Nt,si,st));if("skip"===Nn.action)return void $e();"object"==typeof Nn.config&&(qe.instanceConfig=Es.extend(qe.instanceConfig,Nn.config))}else if("skip"===Nn)return void $e()}var ht=qe.instanceConfig.complete;qe.instanceConfig.complete=function($r){qt(ht)&&ht($r,qe.file,qe.inputElem),$e()},ft.parse(qe.file,qe.instanceConfig)}else qt(B.complete)&&B.complete()}function $e(){fe.splice(0,1),Fe()}}}function jr(B){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(P){var fe=Lo(P);fe.chunkSize=parseInt(fe.chunkSize),P.step||P.chunk||(fe.chunkSize=null),this._handle=new e2(fe),(this._handle.streamer=this)._config=fe}.call(this,B),this.parseChunk=function(P,fe){if(this.isFirstChunk&&qt(this._config.beforeFirstChunk)){var Fe=this._config.beforeFirstChunk(P);void 0!==Fe&&(P=Fe)}this.isFirstChunk=!1,this._halted=!1;var $e=this._partialLine+P;this._partialLine="";var rt=this._handle.parse($e,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Nt=rt.meta.cursor;this._finished||(this._partialLine=$e.substring(Nt-this._baseIndex),this._baseIndex=Nt),rt&&rt.data&&(this._rowCount+=rt.data.length);var si=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(Z1)bn.postMessage({results:rt,workerId:ft.WORKER_ID,finished:si});else if(qt(this._config.chunk)&&!fe){if(this._config.chunk(rt,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);rt=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(rt.data),this._completeResults.errors=this._completeResults.errors.concat(rt.errors),this._completeResults.meta=rt.meta),this._completed||!si||!qt(this._config.complete)||rt&&rt.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),si||rt&&rt.meta.paused||this._nextChunk(),rt}this._halted=!0},this._sendError=function(P){qt(this._config.error)?this._config.error(P):Z1&&this._config.error&&bn.postMessage({workerId:ft.WORKER_ID,error:P,finished:!1})}}function Ua(B){var P;(B=B||{}).chunkSize||(B.chunkSize=ft.RemoteChunkSize),jr.call(this,B),this._nextChunk=on?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(fe){this._input=fe,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),on||(P.onload=Ts(this._chunkLoaded,this),P.onerror=Ts(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!on),this._config.downloadRequestHeaders){var fe=this._config.downloadRequestHeaders;for(var Fe in fe)P.setRequestHeader(Fe,fe[Fe])}this._config.chunkSize&&P.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{P.send(this._config.downloadRequestBody)}catch(rt){this._chunkError(rt.message)}on&&0===P.status&&this._chunkError()}},this._chunkLoaded=function(){var Fe;4===P.readyState&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(Fe=P.getResponseHeader("Content-Range"))?-1:parseInt(Fe.substring(Fe.lastIndexOf("/")+1))),this.parseChunk(P.responseText)))},this._chunkError=function(fe){this._sendError(new Error(P.statusText||fe))}}function Q1(B){var P,fe;(B=B||{}).chunkSize||(B.chunkSize=ft.LocalChunkSize),jr.call(this,B);var Fe=typeof FileReader<"u";this.stream=function($e){this._input=$e,fe=$e.slice||$e.webkitSlice||$e.mozSlice,Fe?((P=new FileReader).onload=Ts(this._chunkLoaded,this),P.onerror=Ts(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var $e=this._input;if(this._config.chunkSize){var rt=Math.min(this._start+this._config.chunkSize,this._input.size);$e=fe.call($e,this._start,rt)}var Nt=P.readAsText($e,this._config.encoding);Fe||this._chunkLoaded({target:{result:Nt}})},this._chunkLoaded=function($e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk($e.target.result)},this._chunkError=function(){this._sendError(P.error)}}function Ao(B){var P;jr.call(this,B=B||{}),this.stream=function(fe){return P=fe,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var fe,Fe=this._config.chunkSize;return Fe?(fe=P.substring(0,Fe),P=P.substring(Fe)):(fe=P,P=""),this._finished=!P,this.parseChunk(fe)}}}function J1(B){jr.call(this,B=B||{});var P=[],fe=!0,Fe=!1;this.pause=function(){jr.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){jr.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function($e){this._input=$e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){Fe&&1===P.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):fe=!0},this._streamData=Ts(function($e){try{P.push("string"==typeof $e?$e:$e.toString(this._config.encoding)),fe&&(fe=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(rt){this._streamError(rt)}},this),this._streamError=Ts(function($e){this._streamCleanUp(),this._sendError($e)},this),this._streamEnd=Ts(function(){this._streamCleanUp(),Fe=!0,this._streamData("")},this),this._streamCleanUp=Ts(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function e2(B){var P,fe,Fe,$e=Math.pow(2,53),rt=-$e,Nt=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,si=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,st=this,qe=0,Nn=0,ht=!1,$r=!1,Ye=[],Be={data:[],errors:[],meta:{}};if(qt(B.step)){var mn=B.step;B.step=function(at){if(Be=at,vi())Mt();else{if(Mt(),0===Be.data.length)return;qe+=at.data.length,B.preview&&qe>B.preview?fe.abort():(Be.data=Be.data[0],mn(Be,st))}}}function Kt(at){return"greedy"===B.skipEmptyLines?""===at.join("").trim():1===at.length&&0===at[0].length}function Mt(){return Be&&Fe&&(Wn("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+ft.DefaultDelimiter+"'"),Fe=!1),B.skipEmptyLines&&(Be.data=Be.data.filter(function(at){return!Kt(at)})),vi()&&function(){if(Be)if(Array.isArray(Be.data[0])){for(var Zt=0;vi()&&Zt<Be.data.length;Zt++)Be.data[Zt].forEach(at);Be.data.splice(0,1)}else Be.data.forEach(at);function at(kn,bi){qt(B.transformHeader)&&(kn=B.transformHeader(kn,bi)),Ye.push(kn)}}(),function(){if(!Be||!B.header&&!B.dynamicTyping&&!B.transform)return Be;function at(kn,bi){var gn,Vi=B.header?{}:[];for(gn=0;gn<kn.length;gn++){var jn=gn,yn=kn[gn];B.header&&(jn=gn>=Ye.length?"__parsed_extra":Ye[gn]),B.transform&&(yn=B.transform(yn,jn)),yn=cn(jn,yn),"__parsed_extra"===jn?(Vi[jn]=Vi[jn]||[],Vi[jn].push(yn)):Vi[jn]=yn}return B.header&&(gn>Ye.length?Wn("FieldMismatch","TooManyFields","Too many fields: expected "+Ye.length+" fields but parsed "+gn,Nn+bi):gn<Ye.length&&Wn("FieldMismatch","TooFewFields","Too few fields: expected "+Ye.length+" fields but parsed "+gn,Nn+bi)),Vi}var Zt=1;return!Be.data.length||Array.isArray(Be.data[0])?(Be.data=Be.data.map(at),Zt=Be.data.length):Be.data=at(Be.data,0),B.header&&Be.meta&&(Be.meta.fields=Ye),Nn+=Zt,Be}()}function vi(){return B.header&&0===Ye.length}function cn(at,Zt){return kn=at,B.dynamicTypingFunction&&void 0===B.dynamicTyping[kn]&&(B.dynamicTyping[kn]=B.dynamicTypingFunction(kn)),!0===(B.dynamicTyping[kn]||B.dynamicTyping)?"true"===Zt||"TRUE"===Zt||"false"!==Zt&&"FALSE"!==Zt&&(function(bi){if(Nt.test(bi)){var gn=parseFloat(bi);if(rt<gn&&gn<$e)return!0}return!1}(Zt)?parseFloat(Zt):si.test(Zt)?new Date(Zt):""===Zt?null:Zt):Zt;var kn}function Wn(at,Zt,kn,bi){var gn={type:at,code:Zt,message:kn};void 0!==bi&&(gn.row=bi),Be.errors.push(gn)}this.parse=function(at,Zt,kn){if(B.newline||(B.newline=function(jn,yn){jn=jn.substring(0,1048576);var ea=new RegExp(xr(yn)+"([^]*?)"+xr(yn),"gm"),qr=(jn=jn.replace(ea,"")).split("\r"),Xr=jn.split("\n");if(1===qr.length||1<Xr.length&&Xr[0].length<qr[0].length)return"\n";for(var Xi=0,Rn=0;Rn<qr.length;Rn++)"\n"===qr[Rn][0]&&Xi++;return Xi>=qr.length/2?"\r\n":"\r"}(at,B.quoteChar||'"')),Fe=!1,B.delimiter)qt(B.delimiter)&&(B.delimiter=B.delimiter(at),Be.meta.delimiter=B.delimiter);else{var gn=function(jn,yn,ea,qr,Xr){var As,Xi,Rn,Pn;Xr=Xr||[",","\t","|",";",ft.RECORD_SEP,ft.UNIT_SEP];for(var ta=0;ta<Xr.length;ta++){var fn=Xr[ta],Vo=0,Ls=0,Yi=0;Rn=void 0;for(var Vs=new Ga({comments:qr,delimiter:fn,newline:yn,preview:10}).parse(jn),na=0;na<Vs.data.length;na++)if(ea&&Kt(Vs.data[na]))Yi++;else{var zs=Vs.data[na].length;Ls+=zs,void 0!==Rn?0<zs&&(Vo+=Math.abs(zs-Rn),Rn=zs):Rn=zs}0<Vs.data.length&&(Ls/=Vs.data.length-Yi),(void 0===Xi||Vo<=Xi)&&(void 0===Pn||Pn<Ls)&&1.99<Ls&&(Xi=Vo,As=fn,Pn=Ls)}return{successful:!!(B.delimiter=As),bestDelimiter:As}}(at,B.newline,B.skipEmptyLines,B.comments,B.delimitersToGuess);gn.successful?B.delimiter=gn.bestDelimiter:(Fe=!0,B.delimiter=ft.DefaultDelimiter),Be.meta.delimiter=B.delimiter}var Vi=Lo(B);return B.preview&&B.header&&Vi.preview++,P=at,fe=new Ga(Vi),Be=fe.parse(P,Zt,kn),Mt(),ht?{meta:{paused:!0}}:Be||{meta:{paused:!1}}},this.paused=function(){return ht},this.pause=function(){ht=!0,fe.abort(),P=qt(B.chunk)?"":P.substring(fe.getCharIndex())},this.resume=function(){st.streamer._halted?(ht=!1,st.streamer.parseChunk(P,!0)):setTimeout(st.resume,3)},this.aborted=function(){return $r},this.abort=function(){$r=!0,fe.abort(),Be.meta.aborted=!0,qt(B.complete)&&B.complete(Be),P=""}}function xr(B){return B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ga(B){var P,fe=(B=B||{}).delimiter,Fe=B.newline,$e=B.comments,rt=B.step,Nt=B.preview,si=B.fastMode,st=P=null==B.quoteChar?'"':B.quoteChar;if(void 0!==B.escapeChar&&(st=B.escapeChar),("string"!=typeof fe||-1<ft.BAD_DELIMITERS.indexOf(fe))&&(fe=","),$e===fe)throw new Error("Comment character same as delimiter");!0===$e?$e="#":("string"!=typeof $e||-1<ft.BAD_DELIMITERS.indexOf($e))&&($e=!1),"\n"!==Fe&&"\r"!==Fe&&"\r\n"!==Fe&&(Fe="\n");var qe=0,Nn=!1;this.parse=function(ht,$r,Ye){if("string"!=typeof ht)throw new Error("Input must be a string");var Be=ht.length,mn=fe.length,Kt=Fe.length,Mt=$e.length,vi=qt(rt),cn=[],Wn=[],at=[],Zt=qe=0;if(!ht)return Mr();if(B.header){var kn=ht.split(Fe)[0].split(fe),bi=[],gn={},Vi=!1;for(var jn in kn){var yn=kn[jn];qt(B.transformHeader)&&(yn=B.transformHeader(yn,jn));var ea=yn,qr=gn[yn]||0;0<qr&&(Vi=!0,ea=yn+"_"+qr),gn[yn]=qr+1,bi.push(ea)}if(Vi){var Xr=ht.split(Fe);Xr[0]=bi.join(fe),ht=Xr.join(Fe)}}if(si||!1!==si&&-1===ht.indexOf(P)){for(var As=ht.split(Fe),Xi=0;Xi<As.length;Xi++){if(qe+=(at=As[Xi]).length,Xi!==As.length-1)qe+=Fe.length;else if(Ye)return Mr();if(!$e||at.substring(0,Mt)!==$e){if(vi){if(cn=[],Yi(at.split(fe)),n2(),Nn)return Mr()}else Yi(at.split(fe));if(Nt&&Nt<=Xi)return cn=cn.slice(0,Nt),Mr(!0)}}return Mr()}for(var Rn=ht.indexOf(fe,qe),Pn=ht.indexOf(Fe,qe),ta=new RegExp(xr(st)+xr(P),"g"),fn=ht.indexOf(P,qe);;)if(ht[qe]!==P)if($e&&0===at.length&&ht.substring(qe,qe+Mt)===$e){if(-1===Pn)return Mr();Pn=ht.indexOf(Fe,qe=Pn+Kt),Rn=ht.indexOf(fe,qe)}else if(-1!==Rn&&(Rn<Pn||-1===Pn))at.push(ht.substring(qe,Rn)),Rn=ht.indexOf(fe,qe=Rn+mn);else{if(-1===Pn)break;if(at.push(ht.substring(qe,Pn)),zs(Pn+Kt),vi&&(n2(),Nn))return Mr();if(Nt&&cn.length>=Nt)return Mr(!0)}else for(fn=qe,qe++;;){if(-1===(fn=ht.indexOf(P,fn+1)))return Ye||Wn.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:cn.length,index:qe}),na();if(fn===Be-1)return na(ht.substring(qe,fn).replace(ta,P));if(P!==st||ht[fn+1]!==st){if(P===st||0===fn||ht[fn-1]!==st){-1!==Rn&&Rn<fn+1&&(Rn=ht.indexOf(fe,fn+1)),-1!==Pn&&Pn<fn+1&&(Pn=ht.indexOf(Fe,fn+1));var Vo=Vs(-1===Pn?Rn:Math.min(Rn,Pn));if(ht.substr(fn+1+Vo,mn)===fe){at.push(ht.substring(qe,fn).replace(ta,P)),ht[qe=fn+1+Vo+mn]!==P&&(fn=ht.indexOf(P,qe)),Rn=ht.indexOf(fe,qe),Pn=ht.indexOf(Fe,qe);break}var Ls=Vs(Pn);if(ht.substring(fn+1+Ls,fn+1+Ls+Kt)===Fe){if(at.push(ht.substring(qe,fn).replace(ta,P)),zs(fn+1+Ls+Kt),Rn=ht.indexOf(fe,qe),fn=ht.indexOf(P,qe),vi&&(n2(),Nn))return Mr();if(Nt&&cn.length>=Nt)return Mr(!0);break}Wn.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:cn.length,index:qe}),fn++}}else fn++}return na();function Yi(Cr){cn.push(Cr),Zt=qe}function Vs(Cr){var Ef=0;if(-1!==Cr){var F4=ht.substring(fn+1,Cr);F4&&""===F4.trim()&&(Ef=F4.length)}return Ef}function na(Cr){return Ye||(void 0===Cr&&(Cr=ht.substring(qe)),at.push(Cr),qe=Be,Yi(at),vi&&n2()),Mr()}function zs(Cr){qe=Cr,Yi(at),at=[],Pn=ht.indexOf(Fe,qe)}function Mr(Cr){return{data:cn,errors:Wn,meta:{delimiter:fe,linebreak:Fe,aborted:Nn,truncated:!!Cr,cursor:Zt+($r||0)}}}function n2(){rt(Mr()),cn=[],Wn=[]}},this.abort=function(){Nn=!0},this.getCharIndex=function(){return qe}}function Df(B){var P=B.data,fe=To[P.workerId],Fe=!1;if(P.error)fe.userError(P.error,P.file);else if(P.results&&P.results.data){var $e={abort:function(){Fe=!0,t2(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:P4,resume:P4};if(qt(fe.userStep)){for(var rt=0;rt<P.results.data.length&&(fe.userStep({data:P.results.data[rt],errors:P.results.errors,meta:P.results.meta},$e),!Fe);rt++);delete P.results}else qt(fe.userChunk)&&(fe.userChunk(P.results,$e,P.file),delete P.results)}P.finished&&!Fe&&t2(P.workerId,P.results)}function t2(B,P){var fe=To[B];qt(fe.userComplete)&&fe.userComplete(P),fe.terminate(),delete To[B]}function P4(){throw new Error("Not implemented.")}function Lo(B){if("object"!=typeof B||null===B)return B;var P=Array.isArray(B)?[]:{};for(var fe in B)P[fe]=Lo(B[fe]);return P}function Ts(B,P){return function(){B.apply(P,arguments)}}function qt(B){return"function"==typeof B}return Z1&&(bn.onmessage=function(B){var P=B.data;if(void 0===ft.WORKER_ID&&P&&(ft.WORKER_ID=P.workerId),"string"==typeof P.input)bn.postMessage({workerId:ft.WORKER_ID,results:ft.parse(P.input,P.config),finished:!0});else if(bn.File&&P.input instanceof File||P.input instanceof Object){var fe=ft.parse(P.input,P.config);fe&&bn.postMessage({workerId:ft.WORKER_ID,results:fe,finished:!0})}}),(Ua.prototype=Object.create(jr.prototype)).constructor=Ua,(Q1.prototype=Object.create(jr.prototype)).constructor=Q1,(Ao.prototype=Object.create(Ao.prototype)).constructor=Ao,(J1.prototype=Object.create(jr.prototype)).constructor=J1,ft},void 0!==(Eo=Ba.apply(R4,[]))&&(rl.exports=Eo)}},rl=>{rl(rl.s=594)}]);